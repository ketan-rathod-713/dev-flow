(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const B of document.querySelectorAll('link[rel="modulepreload"]'))S(B);new MutationObserver(B=>{for(const z of B)if(z.type==="childList")for(const H of z.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&S(H)}).observe(document,{childList:!0,subtree:!0});function R(B){const z={};return B.integrity&&(z.integrity=B.integrity),B.referrerPolicy&&(z.referrerPolicy=B.referrerPolicy),B.crossOrigin==="use-credentials"?z.credentials="include":B.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function S(B){if(B.ep)return;B.ep=!0;const z=R(B);fetch(B.href,z)}})();var cc={exports:{}},vn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf;function n0(){if(Tf)return vn;Tf=1;var f=Symbol.for("react.transitional.element"),A=Symbol.for("react.fragment");function R(S,B,z){var H=null;if(z!==void 0&&(H=""+z),B.key!==void 0&&(H=""+B.key),"key"in B){z={};for(var c in B)c!=="key"&&(z[c]=B[c])}else z=B;return B=z.ref,{$$typeof:f,type:S,key:H,ref:B!==void 0?B:null,props:z}}return vn.Fragment=A,vn.jsx=R,vn.jsxs=R,vn}var Mf;function a0(){return Mf||(Mf=1,cc.exports=n0()),cc.exports}var C=a0(),uc={exports:{}},pn={},hc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function l0(){return Lf||(Lf=1,function(f){function A(O,U){var k=O.length;O.push(U);e:for(;0<k;){var F=k-1>>>1,T=O[F];if(0<B(T,U))O[F]=U,O[k]=T,k=F;else break e}}function R(O){return O.length===0?null:O[0]}function S(O){if(O.length===0)return null;var U=O[0],k=O.pop();if(k!==U){O[0]=k;e:for(var F=0,T=O.length,P=T>>>1;F<P;){var J=2*(F+1)-1,te=O[J],oe=J+1,he=O[oe];if(0>B(te,k))oe<T&&0>B(he,te)?(O[F]=he,O[oe]=k,F=oe):(O[F]=te,O[J]=k,F=J);else if(oe<T&&0>B(he,k))O[F]=he,O[oe]=k,F=oe;else break e}}return U}function B(O,U){var k=O.sortIndex-U.sortIndex;return k!==0?k:O.id-U.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var z=performance;f.unstable_now=function(){return z.now()}}else{var H=Date,c=H.now();f.unstable_now=function(){return H.now()-c}}var h=[],d=[],b=1,_=null,v=3,w=!1,x=!1,y=!1,n=!1,a=typeof setTimeout=="function"?setTimeout:null,o=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;function p(O){for(var U=R(d);U!==null;){if(U.callback===null)S(d);else if(U.startTime<=O)S(d),U.sortIndex=U.expirationTime,A(h,U);else break;U=R(d)}}function g(O){if(y=!1,p(O),!x)if(R(h)!==null)x=!0,E||(E=!0,I());else{var U=R(d);U!==null&&G(g,U.startTime-O)}}var E=!1,L=-1,m=5,M=-1;function q(){return n?!0:!(f.unstable_now()-M<m)}function Y(){if(n=!1,E){var O=f.unstable_now();M=O;var U=!0;try{e:{x=!1,y&&(y=!1,o(L),L=-1),w=!0;var k=v;try{t:{for(p(O),_=R(h);_!==null&&!(_.expirationTime>O&&q());){var F=_.callback;if(typeof F=="function"){_.callback=null,v=_.priorityLevel;var T=F(_.expirationTime<=O);if(O=f.unstable_now(),typeof T=="function"){_.callback=T,p(O),U=!0;break t}_===R(h)&&S(h),p(O)}else S(h);_=R(h)}if(_!==null)U=!0;else{var P=R(d);P!==null&&G(g,P.startTime-O),U=!1}}break e}finally{_=null,v=k,w=!1}U=void 0}}finally{U?I():E=!1}}}var I;if(typeof u=="function")I=function(){u(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,$=K.port2;K.port1.onmessage=Y,I=function(){$.postMessage(null)}}else I=function(){a(Y,0)};function G(O,U){L=a(function(){O(f.unstable_now())},U)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(O){O.callback=null},f.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<O?Math.floor(1e3/O):5},f.unstable_getCurrentPriorityLevel=function(){return v},f.unstable_next=function(O){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var k=v;v=U;try{return O()}finally{v=k}},f.unstable_requestPaint=function(){n=!0},f.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var k=v;v=O;try{return U()}finally{v=k}},f.unstable_scheduleCallback=function(O,U,k){var F=f.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?F+k:F):k=F,O){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=k+T,O={id:b++,callback:U,priorityLevel:O,startTime:k,expirationTime:T,sortIndex:-1},k>F?(O.sortIndex=k,A(d,O),R(h)===null&&O===R(d)&&(y?(o(L),L=-1):y=!0,G(g,k-F))):(O.sortIndex=T,A(h,O),x||w||(x=!0,E||(E=!0,I()))),O},f.unstable_shouldYield=q,f.unstable_wrapCallback=function(O){var U=v;return function(){var k=v;v=U;try{return O.apply(this,arguments)}finally{v=k}}}}(dc)),dc}var Of;function o0(){return Of||(Of=1,hc.exports=l0()),hc.exports}var fc={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function c0(){if(Bf)return we;Bf=1;var f=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),H=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function n(T,P,J){this.props=T,this.context=P,this.refs=y,this.updater=J||w}n.prototype.isReactComponent={},n.prototype.setState=function(T,P){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,P,"setState")},n.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function a(){}a.prototype=n.prototype;function o(T,P,J){this.props=T,this.context=P,this.refs=y,this.updater=J||w}var u=o.prototype=new a;u.constructor=o,x(u,n.prototype),u.isPureReactComponent=!0;var p=Array.isArray,g={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function L(T,P,J,te,oe,he){return J=he.ref,{$$typeof:f,type:T,key:P,ref:J!==void 0?J:null,props:he}}function m(T,P){return L(T.type,P,void 0,void 0,void 0,T.props)}function M(T){return typeof T=="object"&&T!==null&&T.$$typeof===f}function q(T){var P={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return P[J]})}var Y=/\/+/g;function I(T,P){return typeof T=="object"&&T!==null&&T.key!=null?q(""+T.key):P.toString(36)}function K(){}function $(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(K,K):(T.status="pending",T.then(function(P){T.status==="pending"&&(T.status="fulfilled",T.value=P)},function(P){T.status==="pending"&&(T.status="rejected",T.reason=P)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function G(T,P,J,te,oe){var he=typeof T;(he==="undefined"||he==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(he){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case f:case A:fe=!0;break;case b:return fe=T._init,G(fe(T._payload),P,J,te,oe)}}if(fe)return oe=oe(T),fe=te===""?"."+I(T,0):te,p(oe)?(J="",fe!=null&&(J=fe.replace(Y,"$&/")+"/"),G(oe,P,J,"",function(ne){return ne})):oe!=null&&(M(oe)&&(oe=m(oe,J+(oe.key==null||T&&T.key===oe.key?"":(""+oe.key).replace(Y,"$&/")+"/")+fe)),P.push(oe)),1;fe=0;var N=te===""?".":te+":";if(p(T))for(var Z=0;Z<T.length;Z++)te=T[Z],he=N+I(te,Z),fe+=G(te,P,J,he,oe);else if(Z=v(T),typeof Z=="function")for(T=Z.call(T),Z=0;!(te=T.next()).done;)te=te.value,he=N+I(te,Z++),fe+=G(te,P,J,he,oe);else if(he==="object"){if(typeof T.then=="function")return G($(T),P,J,te,oe);throw P=String(T),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return fe}function O(T,P,J){if(T==null)return T;var te=[],oe=0;return G(T,te,"","",function(he){return P.call(J,he,oe++)}),te}function U(T){if(T._status===-1){var P=T._result;P=P(),P.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=P)}if(T._status===1)return T._result.default;throw T._result}var k=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function F(){}return we.Children={map:O,forEach:function(T,P,J){O(T,function(){P.apply(this,arguments)},J)},count:function(T){var P=0;return O(T,function(){P++}),P},toArray:function(T){return O(T,function(P){return P})||[]},only:function(T){if(!M(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},we.Component=n,we.Fragment=R,we.Profiler=B,we.PureComponent=o,we.StrictMode=S,we.Suspense=h,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=g,we.__COMPILER_RUNTIME={__proto__:null,c:function(T){return g.H.useMemoCache(T)}},we.cache=function(T){return function(){return T.apply(null,arguments)}},we.cloneElement=function(T,P,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var te=x({},T.props),oe=T.key,he=void 0;if(P!=null)for(fe in P.ref!==void 0&&(he=void 0),P.key!==void 0&&(oe=""+P.key),P)!E.call(P,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&P.ref===void 0||(te[fe]=P[fe]);var fe=arguments.length-2;if(fe===1)te.children=J;else if(1<fe){for(var N=Array(fe),Z=0;Z<fe;Z++)N[Z]=arguments[Z+2];te.children=N}return L(T.type,oe,void 0,void 0,he,te)},we.createContext=function(T){return T={$$typeof:H,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:z,_context:T},T},we.createElement=function(T,P,J){var te,oe={},he=null;if(P!=null)for(te in P.key!==void 0&&(he=""+P.key),P)E.call(P,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(oe[te]=P[te]);var fe=arguments.length-2;if(fe===1)oe.children=J;else if(1<fe){for(var N=Array(fe),Z=0;Z<fe;Z++)N[Z]=arguments[Z+2];oe.children=N}if(T&&T.defaultProps)for(te in fe=T.defaultProps,fe)oe[te]===void 0&&(oe[te]=fe[te]);return L(T,he,void 0,void 0,null,oe)},we.createRef=function(){return{current:null}},we.forwardRef=function(T){return{$$typeof:c,render:T}},we.isValidElement=M,we.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:U}},we.memo=function(T,P){return{$$typeof:d,type:T,compare:P===void 0?null:P}},we.startTransition=function(T){var P=g.T,J={};g.T=J;try{var te=T(),oe=g.S;oe!==null&&oe(J,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(F,k)}catch(he){k(he)}finally{g.T=P}},we.unstable_useCacheRefresh=function(){return g.H.useCacheRefresh()},we.use=function(T){return g.H.use(T)},we.useActionState=function(T,P,J){return g.H.useActionState(T,P,J)},we.useCallback=function(T,P){return g.H.useCallback(T,P)},we.useContext=function(T){return g.H.useContext(T)},we.useDebugValue=function(){},we.useDeferredValue=function(T,P){return g.H.useDeferredValue(T,P)},we.useEffect=function(T,P,J){var te=g.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(T,P)},we.useId=function(){return g.H.useId()},we.useImperativeHandle=function(T,P,J){return g.H.useImperativeHandle(T,P,J)},we.useInsertionEffect=function(T,P){return g.H.useInsertionEffect(T,P)},we.useLayoutEffect=function(T,P){return g.H.useLayoutEffect(T,P)},we.useMemo=function(T,P){return g.H.useMemo(T,P)},we.useOptimistic=function(T,P){return g.H.useOptimistic(T,P)},we.useReducer=function(T,P,J){return g.H.useReducer(T,P,J)},we.useRef=function(T){return g.H.useRef(T)},we.useState=function(T){return g.H.useState(T)},we.useSyncExternalStore=function(T,P,J){return g.H.useSyncExternalStore(T,P,J)},we.useTransition=function(){return g.H.useTransition()},we.version="19.1.0",we}var Nf;function Tc(){return Nf||(Nf=1,fc.exports=c0()),fc.exports}var _c={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf;function u0(){if(jf)return vt;jf=1;var f=Tc();function A(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function R(){}var S={d:{f:R,r:function(){throw Error(A(522))},D:R,C:R,L:R,m:R,X:R,S:R,M:R},p:0,findDOMNode:null},B=Symbol.for("react.portal");function z(h,d,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:_==null?null:""+_,children:h,containerInfo:d,implementation:b}}var H=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,vt.createPortal=function(h,d){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(A(299));return z(h,d,null,b)},vt.flushSync=function(h){var d=H.T,b=S.p;try{if(H.T=null,S.p=2,h)return h()}finally{H.T=d,S.p=b,S.d.f()}},vt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,S.d.C(h,d))},vt.prefetchDNS=function(h){typeof h=="string"&&S.d.D(h)},vt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var b=d.as,_=c(b,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;b==="style"?S.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:w}):b==="script"&&S.d.X(h,{crossOrigin:_,integrity:v,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},vt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var b=c(d.as,d.crossOrigin);S.d.M(h,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&S.d.M(h)},vt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var b=d.as,_=c(b,d.crossOrigin);S.d.L(h,b,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},vt.preloadModule=function(h,d){if(typeof h=="string")if(d){var b=c(d.as,d.crossOrigin);S.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else S.d.m(h)},vt.requestFormReset=function(h){S.d.r(h)},vt.unstable_batchedUpdates=function(h,d){return h(d)},vt.useFormState=function(h,d,b){return H.H.useFormState(h,d,b)},vt.useFormStatus=function(){return H.H.useHostTransitionStatus()},vt.version="19.1.0",vt}var Hf;function o_(){if(Hf)return _c.exports;Hf=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(A){console.error(A)}}return f(),_c.exports=u0(),_c.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function h0(){if(zf)return pn;zf=1;var f=o0(),A=Tc(),R=o_();function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function B(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function z(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function H(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(z(e)!==e)throw Error(S(188))}function h(e){var t=e.alternate;if(!t){if(t=z(e),t===null)throw Error(S(188));return t!==e?null:e}for(var i=e,s=t;;){var r=i.return;if(r===null)break;var l=r.alternate;if(l===null){if(s=r.return,s!==null){i=s;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===i)return c(r),e;if(l===s)return c(r),t;l=l.sibling}throw Error(S(188))}if(i.return!==s.return)i=r,s=l;else{for(var D=!1,j=r.child;j;){if(j===i){D=!0,i=r,s=l;break}if(j===s){D=!0,s=r,i=l;break}j=j.sibling}if(!D){for(j=l.child;j;){if(j===i){D=!0,i=l,s=r;break}if(j===s){D=!0,s=l,i=r;break}j=j.sibling}if(!D)throw Error(S(189))}}if(i.alternate!==s)throw Error(S(190))}if(i.tag!==3)throw Error(S(188));return i.stateNode.current===i?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case n:return"Profiler";case y:return"StrictMode";case g:return"Suspense";case E:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case u:return(e.displayName||"Context")+".Provider";case o:return(e._context.displayName||"Context")+".Consumer";case p:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:$(e.type)||"Memo";case m:t=e._payload,e=e._init;try{return $(e(t))}catch{}}return null}var G=Array.isArray,O=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=R.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},F=[],T=-1;function P(e){return{current:e}}function J(e){0>T||(e.current=F[T],F[T]=null,T--)}function te(e,t){T++,F[T]=e.current,e.current=t}var oe=P(null),he=P(null),fe=P(null),N=P(null);function Z(e,t){switch(te(fe,t),te(he,e),te(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=rf(t),e=nf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(oe),te(oe,e)}function ne(){J(oe),J(he),J(fe)}function ae(e){e.memoizedState!==null&&te(N,e);var t=oe.current,i=nf(t,e.type);t!==i&&(te(he,e),te(oe,i))}function be(e){he.current===e&&(J(oe),J(he)),N.current===e&&(J(N),hn._currentValue=k)}var de=Object.prototype.hasOwnProperty,Me=f.unstable_scheduleCallback,Xe=f.unstable_cancelCallback,ft=f.unstable_shouldYield,ki=f.unstable_requestPaint,Se=f.unstable_now,Qi=f.unstable_getCurrentPriorityLevel,ws=f.unstable_ImmediatePriority,Es=f.unstable_UserBlockingPriority,Ai=f.unstable_NormalPriority,ks=f.unstable_LowPriority,bt=f.unstable_IdlePriority,Ji=f.log,Nt=f.unstable_setDisableYieldValue,Xt=null,lt=null;function ot(e){if(typeof Ji=="function"&&Nt(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Xt,e)}catch{}}var ct=Math.clz32?Math.clz32:Fe,Qt=Math.log,es=Math.LN2;function Fe(e){return e>>>=0,e===0?32:31-(Qt(e)/es|0)|0}var As=256,Dn=4194304;function ts(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tn(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var r=0,l=e.suspendedLanes,D=e.pingedLanes;e=e.warmLanes;var j=s&134217727;return j!==0?(s=j&~l,s!==0?r=ts(s):(D&=j,D!==0?r=ts(D):i||(i=j&~e,i!==0&&(r=ts(i))))):(j=s&~l,j!==0?r=ts(j):D!==0?r=ts(D):i||(i=s&~e,i!==0&&(r=ts(i)))),r===0?0:t!==0&&t!==r&&(t&l)===0&&(l=r&-r,i=t&-t,l>=i||l===32&&(i&4194048)!==0)?t:r}function br(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Y_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pc(){var e=As;return As<<=1,(As&4194048)===0&&(As=256),e}function Fc(){var e=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),e}function Za(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function yr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function K_(e,t,i,s,r,l){var D=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var j=e.entanglements,V=e.expirationTimes,ie=e.hiddenUpdates;for(i=D&~i;0<i;){var le=31-ct(i),ue=1<<le;j[le]=0,V[le]=-1;var se=ie[le];if(se!==null)for(ie[le]=null,le=0;le<se.length;le++){var re=se[le];re!==null&&(re.lane&=-536870913)}i&=~ue}s!==0&&Ic(e,s,0),l!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=l&~(D&~t))}function Ic(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ct(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&4194090}function qc(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-ct(i),r=1<<s;r&t|e[s]&t&&(e[s]|=t),i&=~r}}function Qa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vc(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:wf(e.type))}function X_(e,t){var i=U.p;try{return U.p=e,t()}finally{U.p=i}}var Ri=Math.random().toString(36).slice(2),_t="__reactFiber$"+Ri,St="__reactProps$"+Ri,Rs="__reactContainer$"+Ri,el="__reactEvents$"+Ri,$_="__reactListeners$"+Ri,W_="__reactHandles$"+Ri,Gc="__reactResources$"+Ri,Sr="__reactMarker$"+Ri;function tl(e){delete e[_t],delete e[St],delete e[el],delete e[$_],delete e[W_]}function Ds(e){var t=e[_t];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Rs]||i[_t]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=cf(e);e!==null;){if(i=e[_t])return i;e=cf(e)}return t}e=i,i=e.parentNode}return null}function Ts(e){if(e=e[_t]||e[Rs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function xr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function Ms(e){var t=e[Gc];return t||(t=e[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Sr]=!0}var Yc=new Set,Kc={};function is(e,t){Ls(e,t),Ls(e+"Capture",t)}function Ls(e,t){for(Kc[e]=t,e=0;e<t.length;e++)Yc.add(t[e])}var Z_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xc={},$c={};function Q_(e){return de.call($c,e)?!0:de.call(Xc,e)?!1:Z_.test(e)?$c[e]=!0:(Xc[e]=!0,!1)}function Mn(e,t,i){if(Q_(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Ln(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function oi(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}var il,Wc;function Os(e){if(il===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);il=t&&t[1]||"",Wc=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+il+e+Wc}var sl=!1;function rl(e,t){if(!e||sl)return"";sl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var se=re}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(re){se=re}e.call(ue.prototype)}}else{try{throw Error()}catch(re){se=re}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&se&&typeof re.stack=="string")return[re.stack,se.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=s.DetermineComponentFrameRoot(),D=l[0],j=l[1];if(D&&j){var V=D.split(`
`),ie=j.split(`
`);for(r=s=0;s<V.length&&!V[s].includes("DetermineComponentFrameRoot");)s++;for(;r<ie.length&&!ie[r].includes("DetermineComponentFrameRoot");)r++;if(s===V.length||r===ie.length)for(s=V.length-1,r=ie.length-1;1<=s&&0<=r&&V[s]!==ie[r];)r--;for(;1<=s&&0<=r;s--,r--)if(V[s]!==ie[r]){if(s!==1||r!==1)do if(s--,r--,0>r||V[s]!==ie[r]){var le=`
`+V[s].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=s&&0<=r);break}}}finally{sl=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Os(i):""}function J_(e){switch(e.tag){case 26:case 27:case 5:return Os(e.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 15:return rl(e.type,!1);case 11:return rl(e.type.render,!1);case 1:return rl(e.type,!0);case 31:return Os("Activity");default:return""}}function Zc(e){try{var t="";do t+=J_(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function em(e){var t=Qc(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(D){s=""+D,l.call(this,D)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(D){s=""+D},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function On(e){e._valueTracker||(e._valueTracker=em(e))}function Jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Qc(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Bn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tm=/[\n"\\]/g;function Ht(e){return e.replace(tm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function nl(e,t,i,s,r,l,D,j){e.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.type=D:e.removeAttribute("type"),t!=null?D==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):D!=="submit"&&D!=="reset"||e.removeAttribute("value"),t!=null?al(e,D,jt(t)):i!=null?al(e,D,jt(i)):s!=null&&e.removeAttribute("value"),r==null&&l!=null&&(e.defaultChecked=!!l),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+jt(j):e.removeAttribute("name")}function eu(e,t,i,s,r,l,D,j){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||i!=null){if(!(l!=="submit"&&l!=="reset"||t!=null))return;i=i!=null?""+jt(i):"",t=t!=null?""+jt(t):i,j||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=j?e.checked:!!s,e.defaultChecked=!!s,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(e.name=D)}function al(e,t,i){t==="number"&&Bn(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Bs(e,t,i,s){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&s&&(e[i].defaultSelected=!0)}else{for(i=""+jt(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function tu(e,t,i){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+jt(i):""}function iu(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(S(92));if(G(s)){if(1<s.length)throw Error(S(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=jt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s)}function Ns(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var im=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function su(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||im.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function ru(e,t,i){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&i[r]!==s&&su(e,r,s)}else for(var l in t)t.hasOwnProperty(l)&&su(e,l,t[l])}function ll(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nn(e){return rm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ol=null;function cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var js=null,Hs=null;function nu(e){var t=Ts(e);if(t&&(e=t.stateNode)){var i=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(nl(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var r=s[St]||null;if(!r)throw Error(S(90));nl(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Jc(s)}break e;case"textarea":tu(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Bs(e,!!i.multiple,t,!1)}}}var ul=!1;function au(e,t,i){if(ul)return e(t,i);ul=!0;try{var s=e(t);return s}finally{if(ul=!1,(js!==null||Hs!==null)&&(ya(),js&&(t=js,e=Hs,Hs=js=null,nu(t),e)))for(t=0;t<e.length;t++)nu(e[t])}}function Cr(e,t){var i=e.stateNode;if(i===null)return null;var s=i[St]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(S(231,t,typeof i));return i}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hl=!1;if(ci)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){hl=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{hl=!1}var Di=null,dl=null,jn=null;function lu(){if(jn)return jn;var e,t=dl,i=t.length,s,r="value"in Di?Di.value:Di.textContent,l=r.length;for(e=0;e<i&&t[e]===r[e];e++);var D=i-e;for(s=1;s<=D&&t[i-s]===r[l-s];s++);return jn=r.slice(e,1<s?1-s:void 0)}function Hn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zn(){return!0}function ou(){return!1}function xt(e){function t(i,s,r,l,D){this._reactName=i,this._targetInst=r,this.type=s,this.nativeEvent=l,this.target=D,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(i=e[j],this[j]=i?i(l):l[j]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?zn:ou,this.isPropagationStopped=ou,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Un=xt(ss),Er=b({},ss,{view:0,detail:0}),nm=xt(Er),fl,_l,kr,Pn=b({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kr&&(kr&&e.type==="mousemove"?(fl=e.screenX-kr.screenX,_l=e.screenY-kr.screenY):_l=fl=0,kr=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:_l}}),cu=xt(Pn),am=b({},Pn,{dataTransfer:0}),lm=xt(am),om=b({},Er,{relatedTarget:0}),ml=xt(om),cm=b({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),um=xt(cm),hm=b({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dm=xt(hm),fm=b({},ss,{data:0}),uu=xt(fm),_m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vm[e])?!!t[e]:!1}function vl(){return pm}var gm=b({},Er,{key:function(e){if(e.key){var t=_m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(e){return e.type==="keypress"?Hn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bm=xt(gm),ym=b({},Pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=xt(ym),Sm=b({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),xm=xt(Sm),Cm=b({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),wm=xt(Cm),Em=b({},Pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),km=xt(Em),Am=b({},ss,{newState:0,oldState:0}),Rm=xt(Am),Dm=[9,13,27,32],pl=ci&&"CompositionEvent"in window,Ar=null;ci&&"documentMode"in document&&(Ar=document.documentMode);var Tm=ci&&"TextEvent"in window&&!Ar,du=ci&&(!pl||Ar&&8<Ar&&11>=Ar),fu=" ",_u=!1;function mu(e,t){switch(e){case"keyup":return Dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function Mm(e,t){switch(e){case"compositionend":return vu(t);case"keypress":return t.which!==32?null:(_u=!0,fu);case"textInput":return e=t.data,e===fu&&_u?null:e;default:return null}}function Lm(e,t){if(zs)return e==="compositionend"||!pl&&mu(e,t)?(e=lu(),jn=dl=Di=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return du&&t.locale!=="ko"?null:t.data;default:return null}}var Om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Om[e.type]:t==="textarea"}function gu(e,t,i,s){js?Hs?Hs.push(s):Hs=[s]:js=s,t=ka(t,"onChange"),0<t.length&&(i=new Un("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Rr=null,Dr=null;function Bm(e){Qd(e,0)}function Fn(e){var t=xr(e);if(Jc(t))return e}function bu(e,t){if(e==="change")return t}var yu=!1;if(ci){var gl;if(ci){var bl="oninput"in document;if(!bl){var Su=document.createElement("div");Su.setAttribute("oninput","return;"),bl=typeof Su.oninput=="function"}gl=bl}else gl=!1;yu=gl&&(!document.documentMode||9<document.documentMode)}function xu(){Rr&&(Rr.detachEvent("onpropertychange",Cu),Dr=Rr=null)}function Cu(e){if(e.propertyName==="value"&&Fn(Dr)){var t=[];gu(t,Dr,e,cl(e)),au(Bm,t)}}function Nm(e,t,i){e==="focusin"?(xu(),Rr=t,Dr=i,Rr.attachEvent("onpropertychange",Cu)):e==="focusout"&&xu()}function jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fn(Dr)}function Hm(e,t){if(e==="click")return Fn(t)}function zm(e,t){if(e==="input"||e==="change")return Fn(t)}function Um(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Um;function Tr(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var r=i[s];if(!de.call(t,r)||!At(e[r],t[r]))return!1}return!0}function wu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eu(e,t){var i=wu(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=wu(i)}}function ku(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ku(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Au(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bn(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Bn(e.document)}return t}function yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pm=ci&&"documentMode"in document&&11>=document.documentMode,Us=null,Sl=null,Mr=null,xl=!1;function Ru(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xl||Us==null||Us!==Bn(s)||(s=Us,"selectionStart"in s&&yl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mr&&Tr(Mr,s)||(Mr=s,s=ka(Sl,"onSelect"),0<s.length&&(t=new Un("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Us)))}function rs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ps={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},Cl={},Du={};ci&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function ns(e){if(Cl[e])return Cl[e];if(!Ps[e])return e;var t=Ps[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Du)return Cl[e]=t[i];return e}var Tu=ns("animationend"),Mu=ns("animationiteration"),Lu=ns("animationstart"),Fm=ns("transitionrun"),Im=ns("transitionstart"),qm=ns("transitioncancel"),Ou=ns("transitionend"),Bu=new Map,wl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wl.push("scrollEnd");function $t(e,t){Bu.set(e,t),is(t,[e])}var Nu=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var i=Nu.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Zc(t)},Nu.set(e,t),t)}return{value:e,source:t,stack:Zc(t)}}var Ut=[],Fs=0,El=0;function In(){for(var e=Fs,t=El=Fs=0;t<e;){var i=Ut[t];Ut[t++]=null;var s=Ut[t];Ut[t++]=null;var r=Ut[t];Ut[t++]=null;var l=Ut[t];if(Ut[t++]=null,s!==null&&r!==null){var D=s.pending;D===null?r.next=r:(r.next=D.next,D.next=r),s.pending=r}l!==0&&ju(i,r,l)}}function qn(e,t,i,s){Ut[Fs++]=e,Ut[Fs++]=t,Ut[Fs++]=i,Ut[Fs++]=s,El|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function kl(e,t,i,s){return qn(e,t,i,s),Vn(e)}function Is(e,t){return qn(e,null,null,t),Vn(e)}function ju(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var r=!1,l=e.return;l!==null;)l.childLanes|=i,s=l.alternate,s!==null&&(s.childLanes|=i),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(r=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,r&&t!==null&&(r=31-ct(i),e=l.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=i|536870912),l):null}function Vn(e){if(50<sn)throw sn=0,Oo=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qs={};function Vm(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,i,s){return new Vm(e,t,i,s)}function Al(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ui(e,t){var i=e.alternate;return i===null?(i=Rt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Hu(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gn(e,t,i,s,r,l){var D=0;if(s=e,typeof e=="function")Al(e)&&(D=1);else if(typeof e=="string")D=Yv(e,i,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case M:return e=Rt(31,i,t,r),e.elementType=M,e.lanes=l,e;case x:return as(i.children,r,l,t);case y:D=8,r|=24;break;case n:return e=Rt(12,i,t,r|2),e.elementType=n,e.lanes=l,e;case g:return e=Rt(13,i,t,r),e.elementType=g,e.lanes=l,e;case E:return e=Rt(19,i,t,r),e.elementType=E,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case a:case u:D=10;break e;case o:D=9;break e;case p:D=11;break e;case L:D=14;break e;case m:D=16,s=null;break e}D=29,i=Error(S(130,e===null?"null":typeof e,"")),s=null}return t=Rt(D,i,t,r),t.elementType=e,t.type=s,t.lanes=l,t}function as(e,t,i,s){return e=Rt(7,e,s,t),e.lanes=i,e}function Rl(e,t,i){return e=Rt(6,e,null,t),e.lanes=i,e}function Dl(e,t,i){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vs=[],Gs=0,Yn=null,Kn=0,Pt=[],Ft=0,ls=null,hi=1,di="";function os(e,t){Vs[Gs++]=Kn,Vs[Gs++]=Yn,Yn=e,Kn=t}function zu(e,t,i){Pt[Ft++]=hi,Pt[Ft++]=di,Pt[Ft++]=ls,ls=e;var s=hi;e=di;var r=32-ct(s)-1;s&=~(1<<r),i+=1;var l=32-ct(t)+r;if(30<l){var D=r-r%5;l=(s&(1<<D)-1).toString(32),s>>=D,r-=D,hi=1<<32-ct(t)+r|i<<r|s,di=l+e}else hi=1<<l|i<<r|s,di=e}function Tl(e){e.return!==null&&(os(e,1),zu(e,1,0))}function Ml(e){for(;e===Yn;)Yn=Vs[--Gs],Vs[Gs]=null,Kn=Vs[--Gs],Vs[Gs]=null;for(;e===ls;)ls=Pt[--Ft],Pt[Ft]=null,di=Pt[--Ft],Pt[Ft]=null,hi=Pt[--Ft],Pt[Ft]=null}var yt=null,Ye=null,Oe=!1,cs=null,Jt=!1,Ll=Error(S(519));function us(e){var t=Error(S(418,""));throw Br(zt(t,e)),Ll}function Uu(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[_t]=e,t[St]=s,i){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(i=0;i<nn.length;i++)De(nn[i],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),eu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),On(t);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),iu(t,s.value,s.defaultValue,s.children),On(t)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||sf(t.textContent,i)?(s.popover!=null&&(De("beforetoggle",t),De("toggle",t)),s.onScroll!=null&&De("scroll",t),s.onScrollEnd!=null&&De("scrollend",t),s.onClick!=null&&(t.onclick=Aa),t=!0):t=!1,t||us(e)}function Pu(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:yt=yt.return}}function Lr(e){if(e!==yt)return!1;if(!Oe)return Pu(e),Oe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||$o(e.type,e.memoizedProps)),i=!i),i&&Ye&&us(e),Pu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Ye=Zt(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Ye=null}}else t===27?(t=Ye,Gi(e.type)?(e=Jo,Jo=null,Ye=e):Ye=t):Ye=yt?Zt(e.stateNode.nextSibling):null;return!0}function Or(){Ye=yt=null,Oe=!1}function Fu(){var e=cs;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),cs=null),e}function Br(e){cs===null?cs=[e]:cs.push(e)}var Ol=P(null),hs=null,fi=null;function Ti(e,t,i){te(Ol,t._currentValue),t._currentValue=i}function _i(e){e._currentValue=Ol.current,J(Ol)}function Bl(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Nl(e,t,i,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){var D=r.child;l=l.firstContext;e:for(;l!==null;){var j=l;l=r;for(var V=0;V<t.length;V++)if(j.context===t[V]){l.lanes|=i,j=l.alternate,j!==null&&(j.lanes|=i),Bl(l.return,i,e),s||(D=null);break e}l=j.next}}else if(r.tag===18){if(D=r.return,D===null)throw Error(S(341));D.lanes|=i,l=D.alternate,l!==null&&(l.lanes|=i),Bl(D,i,e),D=null}else D=r.child;if(D!==null)D.return=r;else for(D=r;D!==null;){if(D===e){D=null;break}if(r=D.sibling,r!==null){r.return=D.return,D=r;break}D=D.return}r=D}}function Nr(e,t,i,s){e=null;for(var r=t,l=!1;r!==null;){if(!l){if((r.flags&524288)!==0)l=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var D=r.alternate;if(D===null)throw Error(S(387));if(D=D.memoizedProps,D!==null){var j=r.type;At(r.pendingProps.value,D.value)||(e!==null?e.push(j):e=[j])}}else if(r===N.current){if(D=r.alternate,D===null)throw Error(S(387));D.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(hn):e=[hn])}r=r.return}e!==null&&Nl(t,e,i,s),t.flags|=262144}function Xn(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){hs=e,fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return Iu(hs,e)}function $n(e,t){return hs===null&&ds(e),Iu(e,t)}function Iu(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},fi===null){if(e===null)throw Error(S(308));fi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fi=fi.next=t;return i}var Gm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Ym=f.unstable_scheduleCallback,Km=f.unstable_NormalPriority,Je={$$typeof:u,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jl(){return{controller:new Gm,data:new Map,refCount:0}}function jr(e){e.refCount--,e.refCount===0&&Ym(Km,function(){e.controller.abort()})}var Hr=null,Hl=0,Ys=0,Ks=null;function Xm(e,t){if(Hr===null){var i=Hr=[];Hl=0,Ys=Po(),Ks={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Hl++,t.then(qu,qu),t}function qu(){if(--Hl===0&&Hr!==null){Ks!==null&&(Ks.status="fulfilled");var e=Hr;Hr=null,Ys=0,Ks=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $m(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),s}var Vu=O.S;O.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Xm(e,t),Vu!==null&&Vu(e,t)};var fs=P(null);function zl(){var e=fs.current;return e!==null?e:Pe.pooledCache}function Wn(e,t){t===null?te(fs,fs.current):te(fs,t.pool)}function Gu(){var e=zl();return e===null?null:{parent:Je._currentValue,pool:e}}var zr=Error(S(460)),Yu=Error(S(474)),Zn=Error(S(542)),Ul={then:function(){}};function Ku(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qn(){}function Xu(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Qn,Qn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wu(e),e;default:if(typeof t.status=="string")t.then(Qn,Qn);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wu(e),e}throw Ur=t,zr}}var Ur=null;function $u(){if(Ur===null)throw Error(S(459));var e=Ur;return Ur=null,e}function Wu(e){if(e===zr||e===Zn)throw Error(S(483))}var Mi=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Li(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Be&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Vn(e),ju(e,null,i),t}return qn(e,s,t,i),Vn(e)}function Pr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,qc(e,i)}}function Il(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var r=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var D={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};l===null?r=l=D:l=l.next=D,i=i.next}while(i!==null);l===null?r=l=t:l=l.next=t}else r=l=t;i={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ql=!1;function Fr(){if(ql){var e=Ks;if(e!==null)throw e}}function Ir(e,t,i,s){ql=!1;var r=e.updateQueue;Mi=!1;var l=r.firstBaseUpdate,D=r.lastBaseUpdate,j=r.shared.pending;if(j!==null){r.shared.pending=null;var V=j,ie=V.next;V.next=null,D===null?l=ie:D.next=ie,D=V;var le=e.alternate;le!==null&&(le=le.updateQueue,j=le.lastBaseUpdate,j!==D&&(j===null?le.firstBaseUpdate=ie:j.next=ie,le.lastBaseUpdate=V))}if(l!==null){var ue=r.baseState;D=0,le=ie=V=null,j=l;do{var se=j.lane&-536870913,re=se!==j.lane;if(re?(Te&se)===se:(s&se)===se){se!==0&&se===Ys&&(ql=!0),le!==null&&(le=le.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var xe=e,ge=j;se=t;var ze=i;switch(ge.tag){case 1:if(xe=ge.payload,typeof xe=="function"){ue=xe.call(ze,ue,se);break e}ue=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ge.payload,se=typeof xe=="function"?xe.call(ze,ue,se):xe,se==null)break e;ue=b({},ue,se);break e;case 2:Mi=!0}}se=j.callback,se!==null&&(e.flags|=64,re&&(e.flags|=8192),re=r.callbacks,re===null?r.callbacks=[se]:re.push(se))}else re={lane:se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},le===null?(ie=le=re,V=ue):le=le.next=re,D|=se;if(j=j.next,j===null){if(j=r.shared.pending,j===null)break;re=j,j=re.next,re.next=null,r.lastBaseUpdate=re,r.shared.pending=null}}while(!0);le===null&&(V=ue),r.baseState=V,r.firstBaseUpdate=ie,r.lastBaseUpdate=le,l===null&&(r.shared.lanes=0),Fi|=D,e.lanes=D,e.memoizedState=ue}}function Zu(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function Qu(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Zu(i[e],t)}var Xs=P(null),Jn=P(0);function Ju(e,t){e=Si,te(Jn,e),te(Xs,t),Si=e|t.baseLanes}function Vl(){te(Jn,Si),te(Xs,Xs.current)}function Gl(){Si=Jn.current,J(Xs),J(Jn)}var Bi=0,Ee=null,je=null,Ze=null,ea=!1,$s=!1,_s=!1,ta=0,qr=0,Ws=null,Wm=0;function $e(){throw Error(S(321))}function Yl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!At(e[i],t[i]))return!1;return!0}function Kl(e,t,i,s,r,l){return Bi=l,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?jh:Hh,_s=!1,l=i(s,r),_s=!1,$s&&(l=th(t,i,s,r)),eh(e),l}function eh(e){O.H=la;var t=je!==null&&je.next!==null;if(Bi=0,Ze=je=Ee=null,ea=!1,qr=0,Ws=null,t)throw Error(S(300));e===null||st||(e=e.dependencies,e!==null&&Xn(e)&&(st=!0))}function th(e,t,i,s){Ee=e;var r=0;do{if($s&&(Ws=null),qr=0,$s=!1,25<=r)throw Error(S(301));if(r+=1,Ze=je=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}O.H=sv,l=t(i,s)}while($s);return l}function Zm(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Vr(t):t,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Xl(){var e=ta!==0;return ta=0,e}function $l(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Wl(e){if(ea){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ea=!1}Bi=0,Ze=je=Ee=null,$s=!1,qr=ta=0,Ws=null}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ee.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Qe(){if(je===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ze===null?Ee.memoizedState:Ze.next;if(t!==null)Ze=t,je=e;else{if(e===null)throw Ee.alternate===null?Error(S(467)):Error(S(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ze===null?Ee.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vr(e){var t=qr;return qr+=1,Ws===null&&(Ws=[]),e=Xu(Ws,e,t),t=Ee,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?jh:Hh),e}function ia(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vr(e);if(e.$$typeof===u)return mt(e)}throw Error(S(438,String(e)))}function Ql(e){var t=null,i=Ee.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=Ee.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Zl(),Ee.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=q;return t.index++,i}function mi(e,t){return typeof t=="function"?t(e):t}function sa(e){var t=Qe();return Jl(t,je,e)}function Jl(e,t,i){var s=e.queue;if(s===null)throw Error(S(311));s.lastRenderedReducer=i;var r=e.baseQueue,l=s.pending;if(l!==null){if(r!==null){var D=r.next;r.next=l.next,l.next=D}t.baseQueue=r=l,s.pending=null}if(l=e.baseState,r===null)e.memoizedState=l;else{t=r.next;var j=D=null,V=null,ie=t,le=!1;do{var ue=ie.lane&-536870913;if(ue!==ie.lane?(Te&ue)===ue:(Bi&ue)===ue){var se=ie.revertLane;if(se===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ue===Ys&&(le=!0);else if((Bi&se)===se){ie=ie.next,se===Ys&&(le=!0);continue}else ue={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},V===null?(j=V=ue,D=l):V=V.next=ue,Ee.lanes|=se,Fi|=se;ue=ie.action,_s&&i(l,ue),l=ie.hasEagerState?ie.eagerState:i(l,ue)}else se={lane:ue,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},V===null?(j=V=se,D=l):V=V.next=se,Ee.lanes|=ue,Fi|=ue;ie=ie.next}while(ie!==null&&ie!==t);if(V===null?D=l:V.next=j,!At(l,e.memoizedState)&&(st=!0,le&&(i=Ks,i!==null)))throw i;e.memoizedState=l,e.baseState=D,e.baseQueue=V,s.lastRenderedState=l}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function eo(e){var t=Qe(),i=t.queue;if(i===null)throw Error(S(311));i.lastRenderedReducer=e;var s=i.dispatch,r=i.pending,l=t.memoizedState;if(r!==null){i.pending=null;var D=r=r.next;do l=e(l,D.action),D=D.next;while(D!==r);At(l,t.memoizedState)||(st=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),i.lastRenderedState=l}return[l,s]}function ih(e,t,i){var s=Ee,r=Qe(),l=Oe;if(l){if(i===void 0)throw Error(S(407));i=i()}else i=t();var D=!At((je||r).memoizedState,i);D&&(r.memoizedState=i,st=!0),r=r.queue;var j=nh.bind(null,s,r,e);if(Gr(2048,8,j,[e]),r.getSnapshot!==t||D||Ze!==null&&Ze.memoizedState.tag&1){if(s.flags|=2048,Zs(9,ra(),rh.bind(null,s,r,i,t),null),Pe===null)throw Error(S(349));l||(Bi&124)!==0||sh(s,t,i)}return i}function sh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ee.updateQueue,t===null?(t=Zl(),Ee.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function rh(e,t,i,s){t.value=i,t.getSnapshot=s,ah(t)&&lh(e)}function nh(e,t,i){return i(function(){ah(t)&&lh(e)})}function ah(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!At(e,i)}catch{return!0}}function lh(e){var t=Is(e,2);t!==null&&Ot(t,e,2)}function to(e){var t=Ct();if(typeof e=="function"){var i=e;if(e=i(),_s){ot(!0);try{i()}finally{ot(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:e},t}function oh(e,t,i,s){return e.baseState=i,Jl(e,je,typeof s=="function"?s:mi)}function Qm(e,t,i,s,r){if(aa(e))throw Error(S(485));if(e=t.action,e!==null){var l={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){l.listeners.push(D)}};O.T!==null?i(!0):l.isTransition=!1,s(l),i=t.pending,i===null?(l.next=t.pending=l,ch(t,l)):(l.next=i.next,t.pending=i.next=l)}}function ch(e,t){var i=t.action,s=t.payload,r=e.state;if(t.isTransition){var l=O.T,D={};O.T=D;try{var j=i(r,s),V=O.S;V!==null&&V(D,j),uh(e,t,j)}catch(ie){io(e,t,ie)}finally{O.T=l}}else try{l=i(r,s),uh(e,t,l)}catch(ie){io(e,t,ie)}}function uh(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){hh(e,t,s)},function(s){return io(e,t,s)}):hh(e,t,i)}function hh(e,t,i){t.status="fulfilled",t.value=i,dh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,ch(e,i)))}function io(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,dh(t),t=t.next;while(t!==s)}e.action=null}function dh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fh(e,t){return t}function _h(e,t){if(Oe){var i=Pe.formState;if(i!==null){e:{var s=Ee;if(Oe){if(Ye){t:{for(var r=Ye,l=Jt;r.nodeType!==8;){if(!l){r=null;break t}if(r=Zt(r.nextSibling),r===null){r=null;break t}}l=r.data,r=l==="F!"||l==="F"?r:null}if(r){Ye=Zt(r.nextSibling),s=r.data==="F!";break e}}us(s)}s=!1}s&&(t=i[0])}}return i=Ct(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:t},i.queue=s,i=Oh.bind(null,Ee,s),s.dispatch=i,s=to(!1),l=lo.bind(null,Ee,!1,s.queue),s=Ct(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,i=Qm.bind(null,Ee,r,l,i),r.dispatch=i,s.memoizedState=e,[t,i,!1]}function mh(e){var t=Qe();return vh(t,je,e)}function vh(e,t,i){if(t=Jl(e,t,fh)[0],e=sa(mi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Vr(t)}catch(D){throw D===zr?Zn:D}else s=t;t=Qe();var r=t.queue,l=r.dispatch;return i!==t.memoizedState&&(Ee.flags|=2048,Zs(9,ra(),Jm.bind(null,r,i),null)),[s,l,e]}function Jm(e,t){e.action=t}function ph(e){var t=Qe(),i=je;if(i!==null)return vh(t,i,e);Qe(),t=t.memoizedState,i=Qe();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Zs(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=Zl(),Ee.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function ra(){return{destroy:void 0,resource:void 0}}function gh(){return Qe().memoizedState}function na(e,t,i,s){var r=Ct();s=s===void 0?null:s,Ee.flags|=e,r.memoizedState=Zs(1|t,ra(),i,s)}function Gr(e,t,i,s){var r=Qe();s=s===void 0?null:s;var l=r.memoizedState.inst;je!==null&&s!==null&&Yl(s,je.memoizedState.deps)?r.memoizedState=Zs(t,l,i,s):(Ee.flags|=e,r.memoizedState=Zs(1|t,l,i,s))}function bh(e,t){na(8390656,8,e,t)}function yh(e,t){Gr(2048,8,e,t)}function Sh(e,t){return Gr(4,2,e,t)}function xh(e,t){return Gr(4,4,e,t)}function Ch(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wh(e,t,i){i=i!=null?i.concat([e]):null,Gr(4,4,Ch.bind(null,t,e),i)}function so(){}function Eh(e,t){var i=Qe();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Yl(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function kh(e,t){var i=Qe();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Yl(t,s[1]))return s[0];if(s=e(),_s){ot(!0);try{e()}finally{ot(!1)}}return i.memoizedState=[s,t],s}function ro(e,t,i){return i===void 0||(Bi&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Dd(),Ee.lanes|=e,Fi|=e,i)}function Ah(e,t,i,s){return At(i,t)?i:Xs.current!==null?(e=ro(e,i,s),At(e,t)||(st=!0),e):(Bi&42)===0?(st=!0,e.memoizedState=i):(e=Dd(),Ee.lanes|=e,Fi|=e,t)}function Rh(e,t,i,s,r){var l=U.p;U.p=l!==0&&8>l?l:8;var D=O.T,j={};O.T=j,lo(e,!1,t,i);try{var V=r(),ie=O.S;if(ie!==null&&ie(j,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var le=$m(V,s);Yr(e,t,le,Lt(e))}else Yr(e,t,s,Lt(e))}catch(ue){Yr(e,t,{then:function(){},status:"rejected",reason:ue},Lt())}finally{U.p=l,O.T=D}}function ev(){}function no(e,t,i,s){if(e.tag!==5)throw Error(S(476));var r=Dh(e).queue;Rh(e,r,t,k,i===null?ev:function(){return Th(e),i(s)})}function Dh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:k},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Th(e){var t=Dh(e).next.queue;Yr(e,t,{},Lt())}function ao(){return mt(hn)}function Mh(){return Qe().memoizedState}function Lh(){return Qe().memoizedState}function tv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Lt();e=Li(i);var s=Oi(t,e,i);s!==null&&(Ot(s,t,i),Pr(s,t,i)),t={cache:jl()},e.payload=t;return}t=t.return}}function iv(e,t,i){var s=Lt();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},aa(e)?Bh(t,i):(i=kl(e,t,i,s),i!==null&&(Ot(i,e,s),Nh(i,t,s)))}function Oh(e,t,i){var s=Lt();Yr(e,t,i,s)}function Yr(e,t,i,s){var r={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(aa(e))Bh(t,r);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var D=t.lastRenderedState,j=l(D,i);if(r.hasEagerState=!0,r.eagerState=j,At(j,D))return qn(e,t,r,0),Pe===null&&In(),!1}catch{}finally{}if(i=kl(e,t,r,s),i!==null)return Ot(i,e,s),Nh(i,t,s),!0}return!1}function lo(e,t,i,s){if(s={lane:2,revertLane:Po(),action:s,hasEagerState:!1,eagerState:null,next:null},aa(e)){if(t)throw Error(S(479))}else t=kl(e,i,s,2),t!==null&&Ot(t,e,2)}function aa(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Bh(e,t){$s=ea=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Nh(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,qc(e,i)}}var la={readContext:mt,use:ia,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e},jh={readContext:mt,use:ia,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:bh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,na(4194308,4,Ch.bind(null,t,e),i)},useLayoutEffect:function(e,t){return na(4194308,4,e,t)},useInsertionEffect:function(e,t){na(4,2,e,t)},useMemo:function(e,t){var i=Ct();t=t===void 0?null:t;var s=e();if(_s){ot(!0);try{e()}finally{ot(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=Ct();if(i!==void 0){var r=i(t);if(_s){ot(!0);try{i(t)}finally{ot(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=iv.bind(null,Ee,e),[s.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:function(e){e=to(e);var t=e.queue,i=Oh.bind(null,Ee,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:so,useDeferredValue:function(e,t){var i=Ct();return ro(i,e,t)},useTransition:function(){var e=to(!1);return e=Rh.bind(null,Ee,e.queue,!0,!1),Ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=Ee,r=Ct();if(Oe){if(i===void 0)throw Error(S(407));i=i()}else{if(i=t(),Pe===null)throw Error(S(349));(Te&124)!==0||sh(s,t,i)}r.memoizedState=i;var l={value:i,getSnapshot:t};return r.queue=l,bh(nh.bind(null,s,l,e),[e]),s.flags|=2048,Zs(9,ra(),rh.bind(null,s,l,i,t),null),i},useId:function(){var e=Ct(),t=Pe.identifierPrefix;if(Oe){var i=di,s=hi;i=(s&~(1<<32-ct(s)-1)).toString(32)+i,t=""+t+"R"+i,i=ta++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=Wm++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ao,useFormState:_h,useActionState:_h,useOptimistic:function(e){var t=Ct();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=lo.bind(null,Ee,!0,i),i.dispatch=t,[e,t]},useMemoCache:Ql,useCacheRefresh:function(){return Ct().memoizedState=tv.bind(null,Ee)}},Hh={readContext:mt,use:ia,useCallback:Eh,useContext:mt,useEffect:yh,useImperativeHandle:wh,useInsertionEffect:Sh,useLayoutEffect:xh,useMemo:kh,useReducer:sa,useRef:gh,useState:function(){return sa(mi)},useDebugValue:so,useDeferredValue:function(e,t){var i=Qe();return Ah(i,je.memoizedState,e,t)},useTransition:function(){var e=sa(mi)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Vr(e),t]},useSyncExternalStore:ih,useId:Mh,useHostTransitionStatus:ao,useFormState:mh,useActionState:mh,useOptimistic:function(e,t){var i=Qe();return oh(i,je,e,t)},useMemoCache:Ql,useCacheRefresh:Lh},sv={readContext:mt,use:ia,useCallback:Eh,useContext:mt,useEffect:yh,useImperativeHandle:wh,useInsertionEffect:Sh,useLayoutEffect:xh,useMemo:kh,useReducer:eo,useRef:gh,useState:function(){return eo(mi)},useDebugValue:so,useDeferredValue:function(e,t){var i=Qe();return je===null?ro(i,e,t):Ah(i,je.memoizedState,e,t)},useTransition:function(){var e=eo(mi)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Vr(e),t]},useSyncExternalStore:ih,useId:Mh,useHostTransitionStatus:ao,useFormState:ph,useActionState:ph,useOptimistic:function(e,t){var i=Qe();return je!==null?oh(i,je,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ql,useCacheRefresh:Lh},Qs=null,Kr=0;function oa(e){var t=Kr;return Kr+=1,Qs===null&&(Qs=[]),Xu(Qs,e,t)}function Xr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ca(e,t){throw t.$$typeof===_?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function zh(e){var t=e._init;return t(e._payload)}function Uh(e){function t(Q,X){if(e){var ee=Q.deletions;ee===null?(Q.deletions=[X],Q.flags|=16):ee.push(X)}}function i(Q,X){if(!e)return null;for(;X!==null;)t(Q,X),X=X.sibling;return null}function s(Q){for(var X=new Map;Q!==null;)Q.key!==null?X.set(Q.key,Q):X.set(Q.index,Q),Q=Q.sibling;return X}function r(Q,X){return Q=ui(Q,X),Q.index=0,Q.sibling=null,Q}function l(Q,X,ee){return Q.index=ee,e?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<X?(Q.flags|=67108866,X):ee):(Q.flags|=67108866,X)):(Q.flags|=1048576,X)}function D(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function j(Q,X,ee,ce){return X===null||X.tag!==6?(X=Rl(ee,Q.mode,ce),X.return=Q,X):(X=r(X,ee),X.return=Q,X)}function V(Q,X,ee,ce){var _e=ee.type;return _e===x?le(Q,X,ee.props.children,ce,ee.key):X!==null&&(X.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===m&&zh(_e)===X.type)?(X=r(X,ee.props),Xr(X,ee),X.return=Q,X):(X=Gn(ee.type,ee.key,ee.props,null,Q.mode,ce),Xr(X,ee),X.return=Q,X)}function ie(Q,X,ee,ce){return X===null||X.tag!==4||X.stateNode.containerInfo!==ee.containerInfo||X.stateNode.implementation!==ee.implementation?(X=Dl(ee,Q.mode,ce),X.return=Q,X):(X=r(X,ee.children||[]),X.return=Q,X)}function le(Q,X,ee,ce,_e){return X===null||X.tag!==7?(X=as(ee,Q.mode,ce,_e),X.return=Q,X):(X=r(X,ee),X.return=Q,X)}function ue(Q,X,ee){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Rl(""+X,Q.mode,ee),X.return=Q,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return ee=Gn(X.type,X.key,X.props,null,Q.mode,ee),Xr(ee,X),ee.return=Q,ee;case w:return X=Dl(X,Q.mode,ee),X.return=Q,X;case m:var ce=X._init;return X=ce(X._payload),ue(Q,X,ee)}if(G(X)||I(X))return X=as(X,Q.mode,ee,null),X.return=Q,X;if(typeof X.then=="function")return ue(Q,oa(X),ee);if(X.$$typeof===u)return ue(Q,$n(Q,X),ee);ca(Q,X)}return null}function se(Q,X,ee,ce){var _e=X!==null?X.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return _e!==null?null:j(Q,X,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ee.key===_e?V(Q,X,ee,ce):null;case w:return ee.key===_e?ie(Q,X,ee,ce):null;case m:return _e=ee._init,ee=_e(ee._payload),se(Q,X,ee,ce)}if(G(ee)||I(ee))return _e!==null?null:le(Q,X,ee,ce,null);if(typeof ee.then=="function")return se(Q,X,oa(ee),ce);if(ee.$$typeof===u)return se(Q,X,$n(Q,ee),ce);ca(Q,ee)}return null}function re(Q,X,ee,ce,_e){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(ee)||null,j(X,Q,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return Q=Q.get(ce.key===null?ee:ce.key)||null,V(X,Q,ce,_e);case w:return Q=Q.get(ce.key===null?ee:ce.key)||null,ie(X,Q,ce,_e);case m:var Ae=ce._init;return ce=Ae(ce._payload),re(Q,X,ee,ce,_e)}if(G(ce)||I(ce))return Q=Q.get(ee)||null,le(X,Q,ce,_e,null);if(typeof ce.then=="function")return re(Q,X,ee,oa(ce),_e);if(ce.$$typeof===u)return re(Q,X,ee,$n(X,ce),_e);ca(X,ce)}return null}function xe(Q,X,ee,ce){for(var _e=null,Ae=null,pe=X,ye=X=0,nt=null;pe!==null&&ye<ee.length;ye++){pe.index>ye?(nt=pe,pe=null):nt=pe.sibling;var Le=se(Q,pe,ee[ye],ce);if(Le===null){pe===null&&(pe=nt);break}e&&pe&&Le.alternate===null&&t(Q,pe),X=l(Le,X,ye),Ae===null?_e=Le:Ae.sibling=Le,Ae=Le,pe=nt}if(ye===ee.length)return i(Q,pe),Oe&&os(Q,ye),_e;if(pe===null){for(;ye<ee.length;ye++)pe=ue(Q,ee[ye],ce),pe!==null&&(X=l(pe,X,ye),Ae===null?_e=pe:Ae.sibling=pe,Ae=pe);return Oe&&os(Q,ye),_e}for(pe=s(pe);ye<ee.length;ye++)nt=re(pe,Q,ye,ee[ye],ce),nt!==null&&(e&&nt.alternate!==null&&pe.delete(nt.key===null?ye:nt.key),X=l(nt,X,ye),Ae===null?_e=nt:Ae.sibling=nt,Ae=nt);return e&&pe.forEach(function(Wi){return t(Q,Wi)}),Oe&&os(Q,ye),_e}function ge(Q,X,ee,ce){if(ee==null)throw Error(S(151));for(var _e=null,Ae=null,pe=X,ye=X=0,nt=null,Le=ee.next();pe!==null&&!Le.done;ye++,Le=ee.next()){pe.index>ye?(nt=pe,pe=null):nt=pe.sibling;var Wi=se(Q,pe,Le.value,ce);if(Wi===null){pe===null&&(pe=nt);break}e&&pe&&Wi.alternate===null&&t(Q,pe),X=l(Wi,X,ye),Ae===null?_e=Wi:Ae.sibling=Wi,Ae=Wi,pe=nt}if(Le.done)return i(Q,pe),Oe&&os(Q,ye),_e;if(pe===null){for(;!Le.done;ye++,Le=ee.next())Le=ue(Q,Le.value,ce),Le!==null&&(X=l(Le,X,ye),Ae===null?_e=Le:Ae.sibling=Le,Ae=Le);return Oe&&os(Q,ye),_e}for(pe=s(pe);!Le.done;ye++,Le=ee.next())Le=re(pe,Q,ye,Le.value,ce),Le!==null&&(e&&Le.alternate!==null&&pe.delete(Le.key===null?ye:Le.key),X=l(Le,X,ye),Ae===null?_e=Le:Ae.sibling=Le,Ae=Le);return e&&pe.forEach(function(r0){return t(Q,r0)}),Oe&&os(Q,ye),_e}function ze(Q,X,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===x&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:e:{for(var _e=ee.key;X!==null;){if(X.key===_e){if(_e=ee.type,_e===x){if(X.tag===7){i(Q,X.sibling),ce=r(X,ee.props.children),ce.return=Q,Q=ce;break e}}else if(X.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===m&&zh(_e)===X.type){i(Q,X.sibling),ce=r(X,ee.props),Xr(ce,ee),ce.return=Q,Q=ce;break e}i(Q,X);break}else t(Q,X);X=X.sibling}ee.type===x?(ce=as(ee.props.children,Q.mode,ce,ee.key),ce.return=Q,Q=ce):(ce=Gn(ee.type,ee.key,ee.props,null,Q.mode,ce),Xr(ce,ee),ce.return=Q,Q=ce)}return D(Q);case w:e:{for(_e=ee.key;X!==null;){if(X.key===_e)if(X.tag===4&&X.stateNode.containerInfo===ee.containerInfo&&X.stateNode.implementation===ee.implementation){i(Q,X.sibling),ce=r(X,ee.children||[]),ce.return=Q,Q=ce;break e}else{i(Q,X);break}else t(Q,X);X=X.sibling}ce=Dl(ee,Q.mode,ce),ce.return=Q,Q=ce}return D(Q);case m:return _e=ee._init,ee=_e(ee._payload),ze(Q,X,ee,ce)}if(G(ee))return xe(Q,X,ee,ce);if(I(ee)){if(_e=I(ee),typeof _e!="function")throw Error(S(150));return ee=_e.call(ee),ge(Q,X,ee,ce)}if(typeof ee.then=="function")return ze(Q,X,oa(ee),ce);if(ee.$$typeof===u)return ze(Q,X,$n(Q,ee),ce);ca(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,X!==null&&X.tag===6?(i(Q,X.sibling),ce=r(X,ee),ce.return=Q,Q=ce):(i(Q,X),ce=Rl(ee,Q.mode,ce),ce.return=Q,Q=ce),D(Q)):i(Q,X)}return function(Q,X,ee,ce){try{Kr=0;var _e=ze(Q,X,ee,ce);return Qs=null,_e}catch(pe){if(pe===zr||pe===Zn)throw pe;var Ae=Rt(29,pe,null,Q.mode);return Ae.lanes=ce,Ae.return=Q,Ae}finally{}}}var Js=Uh(!0),Ph=Uh(!1),It=P(null),ei=null;function Ni(e){var t=e.alternate;te(et,et.current&1),te(It,e),ei===null&&(t===null||Xs.current!==null||t.memoizedState!==null)&&(ei=e)}function Fh(e){if(e.tag===22){if(te(et,et.current),te(It,e),ei===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ei=e)}}else ji()}function ji(){te(et,et.current),te(It,It.current)}function vi(e){J(It),ei===e&&(ei=null),J(et)}var et=P(0);function ua(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Qo(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function oo(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var co={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Lt(),r=Li(s);r.payload=t,i!=null&&(r.callback=i),t=Oi(e,r,s),t!==null&&(Ot(t,e,s),Pr(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Lt(),r=Li(s);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=Oi(e,r,s),t!==null&&(Ot(t,e,s),Pr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Lt(),s=Li(i);s.tag=2,t!=null&&(s.callback=t),t=Oi(e,s,i),t!==null&&(Ot(t,e,i),Pr(t,e,i))}};function Ih(e,t,i,s,r,l,D){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,D):t.prototype&&t.prototype.isPureReactComponent?!Tr(i,s)||!Tr(r,l):!0}function qh(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function ms(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}var ha=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Vh(e){ha(e)}function Gh(e){console.error(e)}function Yh(e){ha(e)}function da(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Kh(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function uo(e,t,i){return i=Li(i),i.tag=3,i.payload={element:null},i.callback=function(){da(e,t)},i}function Xh(e){return e=Li(e),e.tag=3,e}function $h(e,t,i,s){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var l=s.value;e.payload=function(){return r(l)},e.callback=function(){Kh(t,i,s)}}var D=i.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(e.callback=function(){Kh(t,i,s),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})})}function rv(e,t,i,s,r){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Nr(t,i,r,!0),i=It.current,i!==null){switch(i.tag){case 13:return ei===null?No():i.alternate===null&&Ke===0&&(Ke=3),i.flags&=-257,i.flags|=65536,i.lanes=r,s===Ul?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),Ho(e,s,r)),!1;case 22:return i.flags|=65536,s===Ul?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),Ho(e,s,r)),!1}throw Error(S(435,i.tag))}return Ho(e,s,r),No(),!1}if(Oe)return t=It.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Ll&&(e=Error(S(422),{cause:s}),Br(zt(e,i)))):(s!==Ll&&(t=Error(S(423),{cause:s}),Br(zt(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=zt(s,i),r=uo(e.stateNode,s,r),Il(e,r),Ke!==4&&(Ke=2)),!1;var l=Error(S(520),{cause:s});if(l=zt(l,i),tn===null?tn=[l]:tn.push(l),Ke!==4&&(Ke=2),t===null)return!0;s=zt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=uo(i.stateNode,s,e),Il(i,e),!1;case 1:if(t=i.type,l=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Ii===null||!Ii.has(l))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Xh(r),$h(r,e,i,s),Il(i,r),!1}i=i.return}while(i!==null);return!1}var Wh=Error(S(461)),st=!1;function ut(e,t,i,s){t.child=e===null?Ph(t,null,i,s):Js(t,e.child,i,s)}function Zh(e,t,i,s,r){i=i.render;var l=t.ref;if("ref"in s){var D={};for(var j in s)j!=="ref"&&(D[j]=s[j])}else D=s;return ds(t),s=Kl(e,t,i,D,l,r),j=Xl(),e!==null&&!st?($l(e,t,r),pi(e,t,r)):(Oe&&j&&Tl(t),t.flags|=1,ut(e,t,s,r),t.child)}function Qh(e,t,i,s,r){if(e===null){var l=i.type;return typeof l=="function"&&!Al(l)&&l.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=l,Jh(e,t,l,s,r)):(e=Gn(i.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!bo(e,r)){var D=l.memoizedProps;if(i=i.compare,i=i!==null?i:Tr,i(D,s)&&e.ref===t.ref)return pi(e,t,r)}return t.flags|=1,e=ui(l,s),e.ref=t.ref,e.return=t,t.child=e}function Jh(e,t,i,s,r){if(e!==null){var l=e.memoizedProps;if(Tr(l,s)&&e.ref===t.ref)if(st=!1,t.pendingProps=s=l,bo(e,r))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,pi(e,t,r)}return ho(e,t,i,s,r)}function ed(e,t,i){var s=t.pendingProps,r=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=l!==null?l.baseLanes|i:i,e!==null){for(r=t.child=e.child,l=0;r!==null;)l=l|r.lanes|r.childLanes,r=r.sibling;t.childLanes=l&~s}else t.childLanes=0,t.child=null;return td(e,t,s,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wn(t,l!==null?l.cachePool:null),l!==null?Ju(t,l):Vl(),Fh(t);else return t.lanes=t.childLanes=536870912,td(e,t,l!==null?l.baseLanes|i:i,i)}else l!==null?(Wn(t,l.cachePool),Ju(t,l),ji(),t.memoizedState=null):(e!==null&&Wn(t,null),Vl(),ji());return ut(e,t,r,i),t.child}function td(e,t,i,s){var r=zl();return r=r===null?null:{parent:Je._currentValue,pool:r},t.memoizedState={baseLanes:i,cachePool:r},e!==null&&Wn(t,null),Vl(),Fh(t),e!==null&&Nr(e,t,s,!0),null}function fa(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(S(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function ho(e,t,i,s,r){return ds(t),i=Kl(e,t,i,s,void 0,r),s=Xl(),e!==null&&!st?($l(e,t,r),pi(e,t,r)):(Oe&&s&&Tl(t),t.flags|=1,ut(e,t,i,r),t.child)}function id(e,t,i,s,r,l){return ds(t),t.updateQueue=null,i=th(t,s,i,r),eh(e),s=Xl(),e!==null&&!st?($l(e,t,l),pi(e,t,l)):(Oe&&s&&Tl(t),t.flags|=1,ut(e,t,i,l),t.child)}function sd(e,t,i,s,r){if(ds(t),t.stateNode===null){var l=qs,D=i.contextType;typeof D=="object"&&D!==null&&(l=mt(D)),l=new i(s,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=co,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=s,l.state=t.memoizedState,l.refs={},Pl(t),D=i.contextType,l.context=typeof D=="object"&&D!==null?mt(D):qs,l.state=t.memoizedState,D=i.getDerivedStateFromProps,typeof D=="function"&&(oo(t,i,D,s),l.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(D=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),D!==l.state&&co.enqueueReplaceState(l,l.state,null),Ir(t,s,l,r),Fr(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){l=t.stateNode;var j=t.memoizedProps,V=ms(i,j);l.props=V;var ie=l.context,le=i.contextType;D=qs,typeof le=="object"&&le!==null&&(D=mt(le));var ue=i.getDerivedStateFromProps;le=typeof ue=="function"||typeof l.getSnapshotBeforeUpdate=="function",j=t.pendingProps!==j,le||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(j||ie!==D)&&qh(t,l,s,D),Mi=!1;var se=t.memoizedState;l.state=se,Ir(t,s,l,r),Fr(),ie=t.memoizedState,j||se!==ie||Mi?(typeof ue=="function"&&(oo(t,i,ue,s),ie=t.memoizedState),(V=Mi||Ih(t,i,V,s,se,ie,D))?(le||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=ie),l.props=s,l.state=ie,l.context=D,s=V):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,Fl(e,t),D=t.memoizedProps,le=ms(i,D),l.props=le,ue=t.pendingProps,se=l.context,ie=i.contextType,V=qs,typeof ie=="object"&&ie!==null&&(V=mt(ie)),j=i.getDerivedStateFromProps,(ie=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(D!==ue||se!==V)&&qh(t,l,s,V),Mi=!1,se=t.memoizedState,l.state=se,Ir(t,s,l,r),Fr();var re=t.memoizedState;D!==ue||se!==re||Mi||e!==null&&e.dependencies!==null&&Xn(e.dependencies)?(typeof j=="function"&&(oo(t,i,j,s),re=t.memoizedState),(le=Mi||Ih(t,i,le,s,se,re,V)||e!==null&&e.dependencies!==null&&Xn(e.dependencies))?(ie||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,re,V),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,re,V)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||D===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||D===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=re),l.props=s,l.state=re,l.context=V,s=le):(typeof l.componentDidUpdate!="function"||D===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||D===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),s=!1)}return l=s,fa(e,t),s=(t.flags&128)!==0,l||s?(l=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&s?(t.child=Js(t,e.child,null,r),t.child=Js(t,null,i,r)):ut(e,t,i,r),t.memoizedState=l.state,e=t.child):e=pi(e,t,r),e}function rd(e,t,i,s){return Or(),t.flags|=256,ut(e,t,i,s),t.child}var fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _o(e){return{baseLanes:e,cachePool:Gu()}}function mo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=qt),e}function nd(e,t,i){var s=t.pendingProps,r=!1,l=(t.flags&128)!==0,D;if((D=l)||(D=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),D&&(r=!0,t.flags&=-129),D=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(r?Ni(t):ji(),Oe){var j=Ye,V;if(V=j){e:{for(V=j,j=Jt;V.nodeType!==8;){if(!j){j=null;break e}if(V=Zt(V.nextSibling),V===null){j=null;break e}}j=V}j!==null?(t.memoizedState={dehydrated:j,treeContext:ls!==null?{id:hi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},V=Rt(18,null,null,0),V.stateNode=j,V.return=t,t.child=V,yt=t,Ye=null,V=!0):V=!1}V||us(t)}if(j=t.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Qo(j)?t.lanes=32:t.lanes=536870912,null;vi(t)}return j=s.children,s=s.fallback,r?(ji(),r=t.mode,j=_a({mode:"hidden",children:j},r),s=as(s,r,i,null),j.return=t,s.return=t,j.sibling=s,t.child=j,r=t.child,r.memoizedState=_o(i),r.childLanes=mo(e,D,i),t.memoizedState=fo,s):(Ni(t),vo(t,j))}if(V=e.memoizedState,V!==null&&(j=V.dehydrated,j!==null)){if(l)t.flags&256?(Ni(t),t.flags&=-257,t=po(e,t,i)):t.memoizedState!==null?(ji(),t.child=e.child,t.flags|=128,t=null):(ji(),r=s.fallback,j=t.mode,s=_a({mode:"visible",children:s.children},j),r=as(r,j,i,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,Js(t,e.child,null,i),s=t.child,s.memoizedState=_o(i),s.childLanes=mo(e,D,i),t.memoizedState=fo,t=r);else if(Ni(t),Qo(j)){if(D=j.nextSibling&&j.nextSibling.dataset,D)var ie=D.dgst;D=ie,s=Error(S(419)),s.stack="",s.digest=D,Br({value:s,source:null,stack:null}),t=po(e,t,i)}else if(st||Nr(e,t,i,!1),D=(i&e.childLanes)!==0,st||D){if(D=Pe,D!==null&&(s=i&-i,s=(s&42)!==0?1:Qa(s),s=(s&(D.suspendedLanes|i))!==0?0:s,s!==0&&s!==V.retryLane))throw V.retryLane=s,Is(e,s),Ot(D,e,s),Wh;j.data==="$?"||No(),t=po(e,t,i)}else j.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=V.treeContext,Ye=Zt(j.nextSibling),yt=t,Oe=!0,cs=null,Jt=!1,e!==null&&(Pt[Ft++]=hi,Pt[Ft++]=di,Pt[Ft++]=ls,hi=e.id,di=e.overflow,ls=t),t=vo(t,s.children),t.flags|=4096);return t}return r?(ji(),r=s.fallback,j=t.mode,V=e.child,ie=V.sibling,s=ui(V,{mode:"hidden",children:s.children}),s.subtreeFlags=V.subtreeFlags&65011712,ie!==null?r=ui(ie,r):(r=as(r,j,i,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,j=e.child.memoizedState,j===null?j=_o(i):(V=j.cachePool,V!==null?(ie=Je._currentValue,V=V.parent!==ie?{parent:ie,pool:ie}:V):V=Gu(),j={baseLanes:j.baseLanes|i,cachePool:V}),r.memoizedState=j,r.childLanes=mo(e,D,i),t.memoizedState=fo,s):(Ni(t),i=e.child,e=i.sibling,i=ui(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(D=t.deletions,D===null?(t.deletions=[e],t.flags|=16):D.push(e)),t.child=i,t.memoizedState=null,i)}function vo(e,t){return t=_a({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _a(e,t){return e=Rt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function po(e,t,i){return Js(t,e.child,null,i),e=vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ad(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Bl(e.return,t,i)}function go(e,t,i,s,r){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=i,l.tailMode=r)}function ld(e,t,i){var s=t.pendingProps,r=s.revealOrder,l=s.tail;if(ut(e,t,s.children,i),s=et.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ad(e,i,t);else if(e.tag===19)ad(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(te(et,s),r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&ua(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),go(t,!1,r,i,l);break;case"backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ua(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}go(t,!0,i,null,l);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pi(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Nr(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,i=ui(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ui(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function bo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xn(e)))}function nv(e,t,i){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),Ti(t,Je,e.memoizedState.cache),Or();break;case 27:case 5:ae(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:Ti(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ni(t),t.flags|=128,null):(i&t.child.childLanes)!==0?nd(e,t,i):(Ni(t),e=pi(e,t,i),e!==null?e.sibling:null);Ni(t);break;case 19:var r=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Nr(e,t,i,!1),s=(i&t.childLanes)!==0),r){if(s)return ld(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),te(et,et.current),s)break;return null;case 22:case 23:return t.lanes=0,ed(e,t,i);case 24:Ti(t,Je,e.memoizedState.cache)}return pi(e,t,i)}function od(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!bo(e,i)&&(t.flags&128)===0)return st=!1,nv(e,t,i);st=(e.flags&131072)!==0}else st=!1,Oe&&(t.flags&1048576)!==0&&zu(t,Kn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,typeof s=="function")Al(s)?(e=ms(s,e),t.tag=1,t=sd(null,t,s,e,i)):(t.tag=0,t=ho(null,t,s,e,i));else{if(s!=null){if(r=s.$$typeof,r===p){t.tag=11,t=Zh(null,t,s,e,i);break e}else if(r===L){t.tag=14,t=Qh(null,t,s,e,i);break e}}throw t=$(s)||s,Error(S(306,t,""))}}return t;case 0:return ho(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,r=ms(s,t.pendingProps),sd(e,t,s,r,i);case 3:e:{if(Z(t,t.stateNode.containerInfo),e===null)throw Error(S(387));s=t.pendingProps;var l=t.memoizedState;r=l.element,Fl(e,t),Ir(t,s,null,i);var D=t.memoizedState;if(s=D.cache,Ti(t,Je,s),s!==l.cache&&Nl(t,[Je],i,!0),Fr(),s=D.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:D.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=rd(e,t,s,i);break e}else if(s!==r){r=zt(Error(S(424)),t),Br(r),t=rd(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=Zt(e.firstChild),yt=t,Oe=!0,cs=null,Jt=!0,i=Ph(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Or(),s===r){t=pi(e,t,i);break e}ut(e,t,s,i)}t=t.child}return t;case 26:return fa(e,t),e===null?(i=ff(t.type,null,t.pendingProps,null))?t.memoizedState=i:Oe||(i=t.type,e=t.pendingProps,s=Ra(fe.current).createElement(i),s[_t]=t,s[St]=e,dt(s,i,e),it(s),t.stateNode=s):t.memoizedState=ff(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ae(t),e===null&&Oe&&(s=t.stateNode=uf(t.type,t.pendingProps,fe.current),yt=t,Jt=!0,r=Ye,Gi(t.type)?(Jo=r,Ye=Zt(s.firstChild)):Ye=r),ut(e,t,t.pendingProps.children,i),fa(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((r=s=Ye)&&(s=Ov(s,t.type,t.pendingProps,Jt),s!==null?(t.stateNode=s,yt=t,Ye=Zt(s.firstChild),Jt=!1,r=!0):r=!1),r||us(t)),ae(t),r=t.type,l=t.pendingProps,D=e!==null?e.memoizedProps:null,s=l.children,$o(r,l)?s=null:D!==null&&$o(r,D)&&(t.flags|=32),t.memoizedState!==null&&(r=Kl(e,t,Zm,null,null,i),hn._currentValue=r),fa(e,t),ut(e,t,s,i),t.child;case 6:return e===null&&Oe&&((e=i=Ye)&&(i=Bv(i,t.pendingProps,Jt),i!==null?(t.stateNode=i,yt=t,Ye=null,e=!0):e=!1),e||us(t)),null;case 13:return nd(e,t,i);case 4:return Z(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Js(t,null,s,i):ut(e,t,s,i),t.child;case 11:return Zh(e,t,t.type,t.pendingProps,i);case 7:return ut(e,t,t.pendingProps,i),t.child;case 8:return ut(e,t,t.pendingProps.children,i),t.child;case 12:return ut(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Ti(t,t.type,s.value),ut(e,t,s.children,i),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,ds(t),r=mt(r),s=s(r),t.flags|=1,ut(e,t,s,i),t.child;case 14:return Qh(e,t,t.type,t.pendingProps,i);case 15:return Jh(e,t,t.type,t.pendingProps,i);case 19:return ld(e,t,i);case 31:return s=t.pendingProps,i=t.mode,s={mode:s.mode,children:s.children},e===null?(i=_a(s,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=ui(e.child,s),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return ed(e,t,i);case 24:return ds(t),s=mt(Je),e===null?(r=zl(),r===null&&(r=Pe,l=jl(),r.pooledCache=l,l.refCount++,l!==null&&(r.pooledCacheLanes|=i),r=l),t.memoizedState={parent:s,cache:r},Pl(t),Ti(t,Je,r)):((e.lanes&i)!==0&&(Fl(e,t),Ir(t,null,null,i),Fr()),r=e.memoizedState,l=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ti(t,Je,s)):(s=l.cache,Ti(t,Je,s),s!==r.cache&&Nl(t,[Je],i,!0))),ut(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function gi(e){e.flags|=4}function cd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gf(t)){if(t=It.current,t!==null&&((Te&4194048)===Te?ei!==null:(Te&62914560)!==Te&&(Te&536870912)===0||t!==ei))throw Ur=Ul,Yu;e.flags|=8192}}function ma(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fc():536870912,e.lanes|=t,sr|=t)}function $r(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function av(e,t,i){var s=t.pendingProps;switch(Ml(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),_i(Je),ne(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Lr(t)?gi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fu())),Ve(t),null;case 26:return i=t.memoizedState,e===null?(gi(t),i!==null?(Ve(t),cd(t,i)):(Ve(t),t.flags&=-16777217)):i?i!==e.memoizedState?(gi(t),Ve(t),cd(t,i)):(Ve(t),t.flags&=-16777217):(e.memoizedProps!==s&&gi(t),Ve(t),t.flags&=-16777217),null;case 27:be(t),i=fe.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gi(t);else{if(!s){if(t.stateNode===null)throw Error(S(166));return Ve(t),null}e=oe.current,Lr(t)?Uu(t):(e=uf(r,s,i),t.stateNode=e,gi(t))}return Ve(t),null;case 5:if(be(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gi(t);else{if(!s){if(t.stateNode===null)throw Error(S(166));return Ve(t),null}if(e=oe.current,Lr(t))Uu(t);else{switch(r=Ra(fe.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?r.createElement(i,{is:s.is}):r.createElement(i)}}e[_t]=t,e[St]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(dt(e,i,s),i){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&gi(t)}}return Ve(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&gi(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(S(166));if(e=fe.current,Lr(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,r=yt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[_t]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||sf(e.nodeValue,i)),e||us(t)}else e=Ra(e).createTextNode(s),e[_t]=t,t.stateNode=e}return Ve(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Lr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(S(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(S(317));r[_t]=t}else Or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),r=!1}else r=Fu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(vi(t),t):(vi(t),null)}if(vi(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=s!==null,e=e!==null&&e.memoizedState!==null,i){s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var l=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==r&&(s.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),ma(t,t.updateQueue),Ve(t),null;case 4:return ne(),e===null&&Vo(t.stateNode.containerInfo),Ve(t),null;case 10:return _i(t.type),Ve(t),null;case 19:if(J(et),r=t.memoizedState,r===null)return Ve(t),null;if(s=(t.flags&128)!==0,l=r.rendering,l===null)if(s)$r(r,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(l=ua(e),l!==null){for(t.flags|=128,$r(r,!1),e=l.updateQueue,t.updateQueue=e,ma(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Hu(i,e),i=i.sibling;return te(et,et.current&1|2),t.child}e=e.sibling}r.tail!==null&&Se()>ga&&(t.flags|=128,s=!0,$r(r,!1),t.lanes=4194304)}else{if(!s)if(e=ua(l),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ma(t,e),$r(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!Oe)return Ve(t),null}else 2*Se()-r.renderingStartTime>ga&&i!==536870912&&(t.flags|=128,s=!0,$r(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(e=r.last,e!==null?e.sibling=l:t.child=l,r.last=l)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Se(),t.sibling=null,e=et.current,te(et,s?e&1|2:e&1),t):(Ve(t),null);case 22:case 23:return vi(t),Gl(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),i=t.updateQueue,i!==null&&ma(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&J(fs),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_i(Je),Ve(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function lv(e,t){switch(Ml(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _i(Je),ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return be(t),null;case 13:if(vi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(et),null;case 4:return ne(),null;case 10:return _i(t.type),null;case 22:case 23:return vi(t),Gl(),e!==null&&J(fs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _i(Je),null;case 25:return null;default:return null}}function ud(e,t){switch(Ml(t),t.tag){case 3:_i(Je),ne();break;case 26:case 27:case 5:be(t);break;case 4:ne();break;case 13:vi(t);break;case 19:J(et);break;case 10:_i(t.type);break;case 22:case 23:vi(t),Gl(),e!==null&&J(fs);break;case 24:_i(Je)}}function Wr(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){s=void 0;var l=i.create,D=i.inst;s=l(),D.destroy=s}i=i.next}while(i!==r)}}catch(j){Ue(t,t.return,j)}}function Hi(e,t,i){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var l=r.next;s=l;do{if((s.tag&e)===e){var D=s.inst,j=D.destroy;if(j!==void 0){D.destroy=void 0,r=t;var V=i,ie=j;try{ie()}catch(le){Ue(r,V,le)}}}s=s.next}while(s!==l)}}catch(le){Ue(t,t.return,le)}}function hd(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Qu(t,i)}catch(s){Ue(e,e.return,s)}}}function dd(e,t,i){i.props=ms(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ue(e,t,s)}}function Zr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(r){Ue(e,t,r)}}function ti(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(r){Ue(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Ue(e,t,r)}else i.current=null}function fd(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(r){Ue(e,e.return,r)}}function yo(e,t,i){try{var s=e.stateNode;Rv(s,e.type,i,t),s[St]=t}catch(r){Ue(e,e.return,r)}}function _d(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gi(e.type)||e.tag===4}function So(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xo(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Aa));else if(s!==4&&(s===27&&Gi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(xo(e,t,i),e=e.sibling;e!==null;)xo(e,t,i),e=e.sibling}function va(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Gi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(va(e,t,i),e=e.sibling;e!==null;)va(e,t,i),e=e.sibling}function md(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);dt(t,s,i),t[_t]=e,t[St]=i}catch(l){Ue(e,e.return,l)}}var bi=!1,We=!1,Co=!1,vd=typeof WeakSet=="function"?WeakSet:Set,rt=null;function ov(e,t){if(e=e.containerInfo,Ko=Ba,e=Au(e),yl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var r=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var D=0,j=-1,V=-1,ie=0,le=0,ue=e,se=null;t:for(;;){for(var re;ue!==i||r!==0&&ue.nodeType!==3||(j=D+r),ue!==l||s!==0&&ue.nodeType!==3||(V=D+s),ue.nodeType===3&&(D+=ue.nodeValue.length),(re=ue.firstChild)!==null;)se=ue,ue=re;for(;;){if(ue===e)break t;if(se===i&&++ie===r&&(j=D),se===l&&++le===s&&(V=D),(re=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=re}i=j===-1||V===-1?null:{start:j,end:V}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xo={focusedElem:e,selectionRange:i},Ba=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,l=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&l!==null){e=void 0,i=t,r=l.memoizedProps,l=l.memoizedState,s=i.stateNode;try{var xe=ms(i.type,r,i.elementType===i.type);e=s.getSnapshotBeforeUpdate(xe,l),s.__reactInternalSnapshotBeforeUpdate=e}catch(ge){Ue(i,i.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Zo(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function pd(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:zi(e,i),s&4&&Wr(5,i);break;case 1:if(zi(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(D){Ue(i,i.return,D)}else{var r=ms(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(D){Ue(i,i.return,D)}}s&64&&hd(i),s&512&&Zr(i,i.return);break;case 3:if(zi(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Qu(e,t)}catch(D){Ue(i,i.return,D)}}break;case 27:t===null&&s&4&&md(i);case 26:case 5:zi(e,i),t===null&&s&4&&fd(i),s&512&&Zr(i,i.return);break;case 12:zi(e,i);break;case 13:zi(e,i),s&4&&yd(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=pv.bind(null,i),Nv(e,i))));break;case 22:if(s=i.memoizedState!==null||bi,!s){t=t!==null&&t.memoizedState!==null||We,r=bi;var l=We;bi=s,(We=t)&&!l?Ui(e,i,(i.subtreeFlags&8772)!==0):zi(e,i),bi=r,We=l}break;case 30:break;default:zi(e,i)}}function gd(e){var t=e.alternate;t!==null&&(e.alternate=null,gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&tl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,wt=!1;function yi(e,t,i){for(i=i.child;i!==null;)bd(e,t,i),i=i.sibling}function bd(e,t,i){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Xt,i)}catch{}switch(i.tag){case 26:We||ti(i,t),yi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:We||ti(i,t);var s=qe,r=wt;Gi(i.type)&&(qe=i.stateNode,wt=!1),yi(e,t,i),ln(i.stateNode),qe=s,wt=r;break;case 5:We||ti(i,t);case 6:if(s=qe,r=wt,qe=null,yi(e,t,i),qe=s,wt=r,qe!==null)if(wt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(i.stateNode)}catch(l){Ue(i,t,l)}else try{qe.removeChild(i.stateNode)}catch(l){Ue(i,t,l)}break;case 18:qe!==null&&(wt?(e=qe,of(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),mn(e)):of(qe,i.stateNode));break;case 4:s=qe,r=wt,qe=i.stateNode.containerInfo,wt=!0,yi(e,t,i),qe=s,wt=r;break;case 0:case 11:case 14:case 15:We||Hi(2,i,t),We||Hi(4,i,t),yi(e,t,i);break;case 1:We||(ti(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&dd(i,t,s)),yi(e,t,i);break;case 21:yi(e,t,i);break;case 22:We=(s=We)||i.memoizedState!==null,yi(e,t,i),We=s;break;default:yi(e,t,i)}}function yd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mn(e)}catch(i){Ue(t,t.return,i)}}function cv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new vd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new vd),t;default:throw Error(S(435,e.tag))}}function wo(e,t){var i=cv(e);t.forEach(function(s){var r=gv.bind(null,e,s);i.has(s)||(i.add(s),s.then(r,r))})}function Dt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var r=i[s],l=e,D=t,j=D;e:for(;j!==null;){switch(j.tag){case 27:if(Gi(j.type)){qe=j.stateNode,wt=!1;break e}break;case 5:qe=j.stateNode,wt=!1;break e;case 3:case 4:qe=j.stateNode.containerInfo,wt=!0;break e}j=j.return}if(qe===null)throw Error(S(160));bd(l,D,r),qe=null,wt=!1,l=r.alternate,l!==null&&(l.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Sd(t,e),t=t.sibling}var Wt=null;function Sd(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),Tt(e),s&4&&(Hi(3,e,e.return),Wr(3,e),Hi(5,e,e.return));break;case 1:Dt(t,e),Tt(e),s&512&&(We||i===null||ti(i,i.return)),s&64&&bi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var r=Wt;if(Dt(t,e),Tt(e),s&512&&(We||i===null||ti(i,i.return)),s&4){var l=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":l=r.getElementsByTagName("title")[0],(!l||l[Sr]||l[_t]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=r.createElement(s),r.head.insertBefore(l,r.querySelector("head > title"))),dt(l,s,i),l[_t]=e,it(l),s=l;break e;case"link":var D=vf("link","href",r).get(s+(i.href||""));if(D){for(var j=0;j<D.length;j++)if(l=D[j],l.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&l.getAttribute("rel")===(i.rel==null?null:i.rel)&&l.getAttribute("title")===(i.title==null?null:i.title)&&l.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){D.splice(j,1);break t}}l=r.createElement(s),dt(l,s,i),r.head.appendChild(l);break;case"meta":if(D=vf("meta","content",r).get(s+(i.content||""))){for(j=0;j<D.length;j++)if(l=D[j],l.getAttribute("content")===(i.content==null?null:""+i.content)&&l.getAttribute("name")===(i.name==null?null:i.name)&&l.getAttribute("property")===(i.property==null?null:i.property)&&l.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&l.getAttribute("charset")===(i.charSet==null?null:i.charSet)){D.splice(j,1);break t}}l=r.createElement(s),dt(l,s,i),r.head.appendChild(l);break;default:throw Error(S(468,s))}l[_t]=e,it(l),s=l}e.stateNode=s}else pf(r,e.type,e.stateNode);else e.stateNode=mf(r,s,e.memoizedProps);else l!==s?(l===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):l.count--,s===null?pf(r,e.type,e.stateNode):mf(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&yo(e,e.memoizedProps,i.memoizedProps)}break;case 27:Dt(t,e),Tt(e),s&512&&(We||i===null||ti(i,i.return)),i!==null&&s&4&&yo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Dt(t,e),Tt(e),s&512&&(We||i===null||ti(i,i.return)),e.flags&32){r=e.stateNode;try{Ns(r,"")}catch(re){Ue(e,e.return,re)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,yo(e,r,i!==null?i.memoizedProps:r)),s&1024&&(Co=!0);break;case 6:if(Dt(t,e),Tt(e),s&4){if(e.stateNode===null)throw Error(S(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(re){Ue(e,e.return,re)}}break;case 3:if(Ma=null,r=Wt,Wt=Da(t.containerInfo),Dt(t,e),Wt=r,Tt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{mn(t.containerInfo)}catch(re){Ue(e,e.return,re)}Co&&(Co=!1,xd(e));break;case 4:s=Wt,Wt=Da(e.stateNode.containerInfo),Dt(t,e),Tt(e),Wt=s;break;case 12:Dt(t,e),Tt(e);break;case 13:Dt(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(To=Se()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wo(e,s)));break;case 22:r=e.memoizedState!==null;var V=i!==null&&i.memoizedState!==null,ie=bi,le=We;if(bi=ie||r,We=le||V,Dt(t,e),We=le,bi=ie,Tt(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||V||bi||We||vs(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){V=i=t;try{if(l=V.stateNode,r)D=l.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{j=V.stateNode;var ue=V.memoizedProps.style,se=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;j.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(re){Ue(V,V.return,re)}}}else if(t.tag===6){if(i===null){V=t;try{V.stateNode.nodeValue=r?"":V.memoizedProps}catch(re){Ue(V,V.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,wo(e,i))));break;case 19:Dt(t,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wo(e,s)));break;case 30:break;case 21:break;default:Dt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(_d(s)){i=s;break}s=s.return}if(i==null)throw Error(S(160));switch(i.tag){case 27:var r=i.stateNode,l=So(e);va(e,l,r);break;case 5:var D=i.stateNode;i.flags&32&&(Ns(D,""),i.flags&=-33);var j=So(e);va(e,j,D);break;case 3:case 4:var V=i.stateNode.containerInfo,ie=So(e);xo(e,ie,V);break;default:throw Error(S(161))}}catch(le){Ue(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pd(e,t.alternate,t),t=t.sibling}function vs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hi(4,t,t.return),vs(t);break;case 1:ti(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&dd(t,t.return,i),vs(t);break;case 27:ln(t.stateNode);case 26:case 5:ti(t,t.return),vs(t);break;case 22:t.memoizedState===null&&vs(t);break;case 30:vs(t);break;default:vs(t)}e=e.sibling}}function Ui(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,l=t,D=l.flags;switch(l.tag){case 0:case 11:case 15:Ui(r,l,i),Wr(4,l);break;case 1:if(Ui(r,l,i),s=l,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(ie){Ue(s,s.return,ie)}if(s=l,r=s.updateQueue,r!==null){var j=s.stateNode;try{var V=r.shared.hiddenCallbacks;if(V!==null)for(r.shared.hiddenCallbacks=null,r=0;r<V.length;r++)Zu(V[r],j)}catch(ie){Ue(s,s.return,ie)}}i&&D&64&&hd(l),Zr(l,l.return);break;case 27:md(l);case 26:case 5:Ui(r,l,i),i&&s===null&&D&4&&fd(l),Zr(l,l.return);break;case 12:Ui(r,l,i);break;case 13:Ui(r,l,i),i&&D&4&&yd(r,l);break;case 22:l.memoizedState===null&&Ui(r,l,i),Zr(l,l.return);break;case 30:break;default:Ui(r,l,i)}t=t.sibling}}function Eo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&jr(i))}function ko(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jr(e))}function ii(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cd(e,t,i,s),t=t.sibling}function Cd(e,t,i,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ii(e,t,i,s),r&2048&&Wr(9,t);break;case 1:ii(e,t,i,s);break;case 3:ii(e,t,i,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jr(e)));break;case 12:if(r&2048){ii(e,t,i,s),e=t.stateNode;try{var l=t.memoizedProps,D=l.id,j=l.onPostCommit;typeof j=="function"&&j(D,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){Ue(t,t.return,V)}}else ii(e,t,i,s);break;case 13:ii(e,t,i,s);break;case 23:break;case 22:l=t.stateNode,D=t.alternate,t.memoizedState!==null?l._visibility&2?ii(e,t,i,s):Qr(e,t):l._visibility&2?ii(e,t,i,s):(l._visibility|=2,er(e,t,i,s,(t.subtreeFlags&10256)!==0)),r&2048&&Eo(D,t);break;case 24:ii(e,t,i,s),r&2048&&ko(t.alternate,t);break;default:ii(e,t,i,s)}}function er(e,t,i,s,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var l=e,D=t,j=i,V=s,ie=D.flags;switch(D.tag){case 0:case 11:case 15:er(l,D,j,V,r),Wr(8,D);break;case 23:break;case 22:var le=D.stateNode;D.memoizedState!==null?le._visibility&2?er(l,D,j,V,r):Qr(l,D):(le._visibility|=2,er(l,D,j,V,r)),r&&ie&2048&&Eo(D.alternate,D);break;case 24:er(l,D,j,V,r),r&&ie&2048&&ko(D.alternate,D);break;default:er(l,D,j,V,r)}t=t.sibling}}function Qr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,r=s.flags;switch(s.tag){case 22:Qr(i,s),r&2048&&Eo(s.alternate,s);break;case 24:Qr(i,s),r&2048&&ko(s.alternate,s);break;default:Qr(i,s)}t=t.sibling}}var Jr=8192;function tr(e){if(e.subtreeFlags&Jr)for(e=e.child;e!==null;)wd(e),e=e.sibling}function wd(e){switch(e.tag){case 26:tr(e),e.flags&Jr&&e.memoizedState!==null&&Xv(Wt,e.memoizedState,e.memoizedProps);break;case 5:tr(e);break;case 3:case 4:var t=Wt;Wt=Da(e.stateNode.containerInfo),tr(e),Wt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Jr,Jr=16777216,tr(e),Jr=t):tr(e));break;default:tr(e)}}function Ed(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function en(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];rt=s,Ad(s,e)}Ed(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kd(e),e=e.sibling}function kd(e){switch(e.tag){case 0:case 11:case 15:en(e),e.flags&2048&&Hi(9,e,e.return);break;case 3:en(e);break;case 12:en(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,pa(e)):en(e);break;default:en(e)}}function pa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];rt=s,Ad(s,e)}Ed(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hi(8,t,t.return),pa(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,pa(t));break;default:pa(t)}e=e.sibling}}function Ad(e,t){for(;rt!==null;){var i=rt;switch(i.tag){case 0:case 11:case 15:Hi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:jr(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,rt=s;else e:for(i=e;rt!==null;){s=rt;var r=s.sibling,l=s.return;if(gd(s),s===i){rt=null;break e}if(r!==null){r.return=l,rt=r;break e}rt=l}}}var uv={getCacheForType:function(e){var t=mt(Je),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},hv=typeof WeakMap=="function"?WeakMap:Map,Be=0,Pe=null,Re=null,Te=0,Ne=0,Mt=null,Pi=!1,ir=!1,Ao=!1,Si=0,Ke=0,Fi=0,ps=0,Ro=0,qt=0,sr=0,tn=null,Et=null,Do=!1,To=0,ga=1/0,ba=null,Ii=null,ht=0,qi=null,rr=null,nr=0,Mo=0,Lo=null,Rd=null,sn=0,Oo=null;function Lt(){if((Be&2)!==0&&Te!==0)return Te&-Te;if(O.T!==null){var e=Ys;return e!==0?e:Po()}return Vc()}function Dd(){qt===0&&(qt=(Te&536870912)===0||Oe?Pc():536870912);var e=It.current;return e!==null&&(e.flags|=32),qt}function Ot(e,t,i){(e===Pe&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(ar(e,0),Vi(e,Te,qt,!1)),yr(e,i),((Be&2)===0||e!==Pe)&&(e===Pe&&((Be&2)===0&&(ps|=i),Ke===4&&Vi(e,Te,qt,!1)),si(e))}function Td(e,t,i){if((Be&6)!==0)throw Error(S(327));var s=!i&&(t&124)===0&&(t&e.expiredLanes)===0||br(e,t),r=s?_v(e,t):jo(e,t,!0),l=s;do{if(r===0){ir&&!s&&Vi(e,t,0,!1);break}else{if(i=e.current.alternate,l&&!dv(i)){r=jo(e,t,!1),l=!1;continue}if(r===2){if(l=t,e.errorRecoveryDisabledLanes&l)var D=0;else D=e.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){t=D;e:{var j=e;r=tn;var V=j.current.memoizedState.isDehydrated;if(V&&(ar(j,D).flags|=256),D=jo(j,D,!1),D!==2){if(Ao&&!V){j.errorRecoveryDisabledLanes|=l,ps|=l,r=4;break e}l=Et,Et=r,l!==null&&(Et===null?Et=l:Et.push.apply(Et,l))}r=D}if(l=!1,r!==2)continue}}if(r===1){ar(e,0),Vi(e,t,0,!0);break}e:{switch(s=e,l=r,l){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:Vi(s,t,qt,!Pi);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(r=To+300-Se(),10<r)){if(Vi(s,t,qt,!Pi),Tn(s,0,!0)!==0)break e;s.timeoutHandle=af(Md.bind(null,s,i,Et,ba,Do,t,qt,ps,sr,Pi,l,2,-0,0),r);break e}Md(s,i,Et,ba,Do,t,qt,ps,sr,Pi,l,0,-0,0)}}break}while(!0);si(e)}function Md(e,t,i,s,r,l,D,j,V,ie,le,ue,se,re){if(e.timeoutHandle=-1,ue=t.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(un={stylesheets:null,count:0,unsuspend:Kv},wd(t),ue=$v(),ue!==null)){e.cancelPendingCommit=ue(zd.bind(null,e,t,l,i,s,r,D,j,V,le,1,se,re)),Vi(e,l,D,!ie);return}zd(e,t,l,i,s,r,D,j,V)}function dv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var r=i[s],l=r.getSnapshot;r=r.value;try{if(!At(l(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vi(e,t,i,s){t&=~Ro,t&=~ps,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var l=31-ct(r),D=1<<l;s[l]=-1,r&=~D}i!==0&&Ic(e,i,t)}function ya(){return(Be&6)===0?(rn(0),!1):!0}function Bo(){if(Re!==null){if(Ne===0)var e=Re.return;else e=Re,fi=hs=null,Wl(e),Qs=null,Kr=0,e=Re;for(;e!==null;)ud(e.alternate,e),e=e.return;Re=null}}function ar(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Tv(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Bo(),Pe=e,Re=i=ui(e.current,null),Te=t,Ne=0,Mt=null,Pi=!1,ir=br(e,t),Ao=!1,sr=qt=Ro=ps=Fi=Ke=0,Et=tn=null,Do=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-ct(s),l=1<<r;t|=e[r],s&=~l}return Si=t,In(),i}function Ld(e,t){Ee=null,O.H=la,t===zr||t===Zn?(t=$u(),Ne=3):t===Yu?(t=$u(),Ne=4):Ne=t===Wh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,Re===null&&(Ke=1,da(e,zt(t,e.current)))}function Od(){var e=O.H;return O.H=la,e===null?la:e}function Bd(){var e=O.A;return O.A=uv,e}function No(){Ke=4,Pi||(Te&4194048)!==Te&&It.current!==null||(ir=!0),(Fi&134217727)===0&&(ps&134217727)===0||Pe===null||Vi(Pe,Te,qt,!1)}function jo(e,t,i){var s=Be;Be|=2;var r=Od(),l=Bd();(Pe!==e||Te!==t)&&(ba=null,ar(e,t)),t=!1;var D=Ke;e:do try{if(Ne!==0&&Re!==null){var j=Re,V=Mt;switch(Ne){case 8:Bo(),D=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(t=!0);var ie=Ne;if(Ne=0,Mt=null,lr(e,j,V,ie),i&&ir){D=0;break e}break;default:ie=Ne,Ne=0,Mt=null,lr(e,j,V,ie)}}fv(),D=Ke;break}catch(le){Ld(e,le)}while(!0);return t&&e.shellSuspendCounter++,fi=hs=null,Be=s,O.H=r,O.A=l,Re===null&&(Pe=null,Te=0,In()),D}function fv(){for(;Re!==null;)Nd(Re)}function _v(e,t){var i=Be;Be|=2;var s=Od(),r=Bd();Pe!==e||Te!==t?(ba=null,ga=Se()+500,ar(e,t)):ir=br(e,t);e:do try{if(Ne!==0&&Re!==null){t=Re;var l=Mt;t:switch(Ne){case 1:Ne=0,Mt=null,lr(e,t,l,1);break;case 2:case 9:if(Ku(l)){Ne=0,Mt=null,jd(t);break}t=function(){Ne!==2&&Ne!==9||Pe!==e||(Ne=7),si(e)},l.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Ku(l)?(Ne=0,Mt=null,jd(t)):(Ne=0,Mt=null,lr(e,t,l,7));break;case 5:var D=null;switch(Re.tag){case 26:D=Re.memoizedState;case 5:case 27:var j=Re;if(!D||gf(D)){Ne=0,Mt=null;var V=j.sibling;if(V!==null)Re=V;else{var ie=j.return;ie!==null?(Re=ie,Sa(ie)):Re=null}break t}}Ne=0,Mt=null,lr(e,t,l,5);break;case 6:Ne=0,Mt=null,lr(e,t,l,6);break;case 8:Bo(),Ke=6;break e;default:throw Error(S(462))}}mv();break}catch(le){Ld(e,le)}while(!0);return fi=hs=null,O.H=s,O.A=r,Be=i,Re!==null?0:(Pe=null,Te=0,In(),Ke)}function mv(){for(;Re!==null&&!ft();)Nd(Re)}function Nd(e){var t=od(e.alternate,e,Si);e.memoizedProps=e.pendingProps,t===null?Sa(e):Re=t}function jd(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=id(i,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=id(i,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Wl(t);default:ud(i,t),t=Re=Hu(t,Si),t=od(i,t,Si)}e.memoizedProps=e.pendingProps,t===null?Sa(e):Re=t}function lr(e,t,i,s){fi=hs=null,Wl(t),Qs=null,Kr=0;var r=t.return;try{if(rv(e,r,t,i,Te)){Ke=1,da(e,zt(i,e.current)),Re=null;return}}catch(l){if(r!==null)throw Re=r,l;Ke=1,da(e,zt(i,e.current)),Re=null;return}t.flags&32768?(Oe||s===1?e=!0:ir||(Te&536870912)!==0?e=!1:(Pi=e=!0,(s===2||s===9||s===3||s===6)&&(s=It.current,s!==null&&s.tag===13&&(s.flags|=16384))),Hd(t,e)):Sa(t)}function Sa(e){var t=e;do{if((t.flags&32768)!==0){Hd(t,Pi);return}e=t.return;var i=av(t.alternate,t,Si);if(i!==null){Re=i;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Ke===0&&(Ke=5)}function Hd(e,t){do{var i=lv(e.alternate,e);if(i!==null){i.flags&=32767,Re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=i}while(e!==null);Ke=6,Re=null}function zd(e,t,i,s,r,l,D,j,V){e.cancelPendingCommit=null;do xa();while(ht!==0);if((Be&6)!==0)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(l=t.lanes|t.childLanes,l|=El,K_(e,i,l,D,j,V),e===Pe&&(Re=Pe=null,Te=0),rr=t,qi=e,nr=i,Mo=l,Lo=r,Rd=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bv(Ai,function(){return qd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,r=U.p,U.p=2,D=Be,Be|=4;try{ov(e,t,i)}finally{Be=D,U.p=r,O.T=s}}ht=1,Ud(),Pd(),Fd()}}function Ud(){if(ht===1){ht=0;var e=qi,t=rr,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var s=U.p;U.p=2;var r=Be;Be|=4;try{Sd(t,e);var l=Xo,D=Au(e.containerInfo),j=l.focusedElem,V=l.selectionRange;if(D!==j&&j&&j.ownerDocument&&ku(j.ownerDocument.documentElement,j)){if(V!==null&&yl(j)){var ie=V.start,le=V.end;if(le===void 0&&(le=ie),"selectionStart"in j)j.selectionStart=ie,j.selectionEnd=Math.min(le,j.value.length);else{var ue=j.ownerDocument||document,se=ue&&ue.defaultView||window;if(se.getSelection){var re=se.getSelection(),xe=j.textContent.length,ge=Math.min(V.start,xe),ze=V.end===void 0?ge:Math.min(V.end,xe);!re.extend&&ge>ze&&(D=ze,ze=ge,ge=D);var Q=Eu(j,ge),X=Eu(j,ze);if(Q&&X&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==X.node||re.focusOffset!==X.offset)){var ee=ue.createRange();ee.setStart(Q.node,Q.offset),re.removeAllRanges(),ge>ze?(re.addRange(ee),re.extend(X.node,X.offset)):(ee.setEnd(X.node,X.offset),re.addRange(ee))}}}}for(ue=[],re=j;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ue.length;j++){var ce=ue[j];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ba=!!Ko,Xo=Ko=null}finally{Be=r,U.p=s,O.T=i}}e.current=t,ht=2}}function Pd(){if(ht===2){ht=0;var e=qi,t=rr,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var s=U.p;U.p=2;var r=Be;Be|=4;try{pd(e,t.alternate,t)}finally{Be=r,U.p=s,O.T=i}}ht=3}}function Fd(){if(ht===4||ht===3){ht=0,ki();var e=qi,t=rr,i=nr,s=Rd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ht=5:(ht=0,rr=qi=null,Id(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ii=null),Ja(i),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Xt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,r=U.p,U.p=2,O.T=null;try{for(var l=e.onRecoverableError,D=0;D<s.length;D++){var j=s[D];l(j.value,{componentStack:j.stack})}}finally{O.T=t,U.p=r}}(nr&3)!==0&&xa(),si(e),r=e.pendingLanes,(i&4194090)!==0&&(r&42)!==0?e===Oo?sn++:(sn=0,Oo=e):sn=0,rn(0)}}function Id(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,jr(t)))}function xa(e){return Ud(),Pd(),Fd(),qd()}function qd(){if(ht!==5)return!1;var e=qi,t=Mo;Mo=0;var i=Ja(nr),s=O.T,r=U.p;try{U.p=32>i?32:i,O.T=null,i=Lo,Lo=null;var l=qi,D=nr;if(ht=0,rr=qi=null,nr=0,(Be&6)!==0)throw Error(S(331));var j=Be;if(Be|=4,kd(l.current),Cd(l,l.current,D,i),Be=j,rn(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Xt,l)}catch{}return!0}finally{U.p=r,O.T=s,Id(e,t)}}function Vd(e,t,i){t=zt(i,t),t=uo(e.stateNode,t,2),e=Oi(e,t,2),e!==null&&(yr(e,2),si(e))}function Ue(e,t,i){if(e.tag===3)Vd(e,e,i);else for(;t!==null;){if(t.tag===3){Vd(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ii===null||!Ii.has(s))){e=zt(i,e),i=Xh(2),s=Oi(t,i,2),s!==null&&($h(i,s,t,e),yr(s,2),si(s));break}}t=t.return}}function Ho(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new hv;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(i)||(Ao=!0,r.add(i),e=vv.bind(null,e,t,i),t.then(e,e))}function vv(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Pe===e&&(Te&i)===i&&(Ke===4||Ke===3&&(Te&62914560)===Te&&300>Se()-To?(Be&2)===0&&ar(e,0):Ro|=i,sr===Te&&(sr=0)),si(e)}function Gd(e,t){t===0&&(t=Fc()),e=Is(e,t),e!==null&&(yr(e,t),si(e))}function pv(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Gd(e,i)}function gv(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(S(314))}s!==null&&s.delete(t),Gd(e,i)}function bv(e,t){return Me(e,t)}var Ca=null,or=null,zo=!1,wa=!1,Uo=!1,gs=0;function si(e){e!==or&&e.next===null&&(or===null?Ca=or=e:or=or.next=e),wa=!0,zo||(zo=!0,Sv())}function rn(e,t){if(!Uo&&wa){Uo=!0;do for(var i=!1,s=Ca;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var l=0;else{var D=s.suspendedLanes,j=s.pingedLanes;l=(1<<31-ct(42|e)+1)-1,l&=r&~(D&~j),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(i=!0,$d(s,l))}else l=Te,l=Tn(s,s===Pe?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(l&3)===0||br(s,l)||(i=!0,$d(s,l));s=s.next}while(i);Uo=!1}}function yv(){Yd()}function Yd(){wa=zo=!1;var e=0;gs!==0&&(Dv()&&(e=gs),gs=0);for(var t=Se(),i=null,s=Ca;s!==null;){var r=s.next,l=Kd(s,t);l===0?(s.next=null,i===null?Ca=r:i.next=r,r===null&&(or=i)):(i=s,(e!==0||(l&3)!==0)&&(wa=!0)),s=r}rn(e)}function Kd(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var D=31-ct(l),j=1<<D,V=r[D];V===-1?((j&i)===0||(j&s)!==0)&&(r[D]=Y_(j,t)):V<=t&&(e.expiredLanes|=j),l&=~j}if(t=Pe,i=Te,i=Tn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Xe(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||br(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&Xe(s),Ja(i)){case 2:case 8:i=Es;break;case 32:i=Ai;break;case 268435456:i=bt;break;default:i=Ai}return s=Xd.bind(null,e),i=Me(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&Xe(s),e.callbackPriority=2,e.callbackNode=null,2}function Xd(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(xa()&&e.callbackNode!==i)return null;var s=Te;return s=Tn(e,e===Pe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Td(e,s,t),Kd(e,Se()),e.callbackNode!=null&&e.callbackNode===i?Xd.bind(null,e):null)}function $d(e,t){if(xa())return null;Td(e,t,!0)}function Sv(){Mv(function(){(Be&6)!==0?Me(ws,yv):Yd()})}function Po(){return gs===0&&(gs=Pc()),gs}function Wd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nn(""+e)}function Zd(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function xv(e,t,i,s,r){if(t==="submit"&&i&&i.stateNode===r){var l=Wd((r[St]||null).action),D=s.submitter;D&&(t=(t=D[St]||null)?Wd(t.formAction):D.getAttribute("formAction"),t!==null&&(l=t,D=null));var j=new Un("action","action",null,s,r);e.push({event:j,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(gs!==0){var V=D?Zd(r,D):new FormData(r);no(i,{pending:!0,data:V,method:r.method,action:l},null,V)}}else typeof l=="function"&&(j.preventDefault(),V=D?Zd(r,D):new FormData(r),no(i,{pending:!0,data:V,method:r.method,action:l},l,V))},currentTarget:r}]})}}for(var Fo=0;Fo<wl.length;Fo++){var Io=wl[Fo],Cv=Io.toLowerCase(),wv=Io[0].toUpperCase()+Io.slice(1);$t(Cv,"on"+wv)}$t(Tu,"onAnimationEnd"),$t(Mu,"onAnimationIteration"),$t(Lu,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Fm,"onTransitionRun"),$t(Im,"onTransitionStart"),$t(qm,"onTransitionCancel"),$t(Ou,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nn));function Qd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],r=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var D=s.length-1;0<=D;D--){var j=s[D],V=j.instance,ie=j.currentTarget;if(j=j.listener,V!==l&&r.isPropagationStopped())break e;l=j,r.currentTarget=ie;try{l(r)}catch(le){ha(le)}r.currentTarget=null,l=V}else for(D=0;D<s.length;D++){if(j=s[D],V=j.instance,ie=j.currentTarget,j=j.listener,V!==l&&r.isPropagationStopped())break e;l=j,r.currentTarget=ie;try{l(r)}catch(le){ha(le)}r.currentTarget=null,l=V}}}}function De(e,t){var i=t[el];i===void 0&&(i=t[el]=new Set);var s=e+"__bubble";i.has(s)||(Jd(t,e,2,!1),i.add(s))}function qo(e,t,i){var s=0;t&&(s|=4),Jd(i,e,s,t)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[Ea]){e[Ea]=!0,Yc.forEach(function(i){i!=="selectionchange"&&(Ev.has(i)||qo(i,!1,e),qo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ea]||(t[Ea]=!0,qo("selectionchange",!1,t))}}function Jd(e,t,i,s){switch(wf(t)){case 2:var r=Qv;break;case 8:r=Jv;break;default:r=rc}i=r.bind(null,t,i,e),r=void 0,!hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function Go(e,t,i,s,r){var l=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var D=s.tag;if(D===3||D===4){var j=s.stateNode.containerInfo;if(j===r)break;if(D===4)for(D=s.return;D!==null;){var V=D.tag;if((V===3||V===4)&&D.stateNode.containerInfo===r)return;D=D.return}for(;j!==null;){if(D=Ds(j),D===null)return;if(V=D.tag,V===5||V===6||V===26||V===27){s=l=D;continue e}j=j.parentNode}}s=s.return}au(function(){var ie=l,le=cl(i),ue=[];e:{var se=Bu.get(e);if(se!==void 0){var re=Un,xe=e;switch(e){case"keypress":if(Hn(i)===0)break e;case"keydown":case"keyup":re=bm;break;case"focusin":xe="focus",re=ml;break;case"focusout":xe="blur",re=ml;break;case"beforeblur":case"afterblur":re=ml;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=xm;break;case Tu:case Mu:case Lu:re=um;break;case Ou:re=wm;break;case"scroll":case"scrollend":re=nm;break;case"wheel":re=km;break;case"copy":case"cut":case"paste":re=dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=hu;break;case"toggle":case"beforetoggle":re=Rm}var ge=(t&4)!==0,ze=!ge&&(e==="scroll"||e==="scrollend"),Q=ge?se!==null?se+"Capture":null:se;ge=[];for(var X=ie,ee;X!==null;){var ce=X;if(ee=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ee===null||Q===null||(ce=Cr(X,Q),ce!=null&&ge.push(an(X,ce,ee))),ze)break;X=X.return}0<ge.length&&(se=new re(se,xe,null,i,le),ue.push({event:se,listeners:ge}))}}if((t&7)===0){e:{if(se=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",se&&i!==ol&&(xe=i.relatedTarget||i.fromElement)&&(Ds(xe)||xe[Rs]))break e;if((re||se)&&(se=le.window===le?le:(se=le.ownerDocument)?se.defaultView||se.parentWindow:window,re?(xe=i.relatedTarget||i.toElement,re=ie,xe=xe?Ds(xe):null,xe!==null&&(ze=z(xe),ge=xe.tag,xe!==ze||ge!==5&&ge!==27&&ge!==6)&&(xe=null)):(re=null,xe=ie),re!==xe)){if(ge=cu,ce="onMouseLeave",Q="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(ge=hu,ce="onPointerLeave",Q="onPointerEnter",X="pointer"),ze=re==null?se:xr(re),ee=xe==null?se:xr(xe),se=new ge(ce,X+"leave",re,i,le),se.target=ze,se.relatedTarget=ee,ce=null,Ds(le)===ie&&(ge=new ge(Q,X+"enter",xe,i,le),ge.target=ee,ge.relatedTarget=ze,ce=ge),ze=ce,re&&xe)t:{for(ge=re,Q=xe,X=0,ee=ge;ee;ee=cr(ee))X++;for(ee=0,ce=Q;ce;ce=cr(ce))ee++;for(;0<X-ee;)ge=cr(ge),X--;for(;0<ee-X;)Q=cr(Q),ee--;for(;X--;){if(ge===Q||Q!==null&&ge===Q.alternate)break t;ge=cr(ge),Q=cr(Q)}ge=null}else ge=null;re!==null&&ef(ue,se,re,ge,!1),xe!==null&&ze!==null&&ef(ue,ze,xe,ge,!0)}}e:{if(se=ie?xr(ie):window,re=se.nodeName&&se.nodeName.toLowerCase(),re==="select"||re==="input"&&se.type==="file")var _e=bu;else if(pu(se))if(yu)_e=zm;else{_e=jm;var Ae=Nm}else re=se.nodeName,!re||re.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&ll(ie.elementType)&&(_e=bu):_e=Hm;if(_e&&(_e=_e(e,ie))){gu(ue,_e,i,le);break e}Ae&&Ae(e,se,ie),e==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&al(se,"number",se.value)}switch(Ae=ie?xr(ie):window,e){case"focusin":(pu(Ae)||Ae.contentEditable==="true")&&(Us=Ae,Sl=ie,Mr=null);break;case"focusout":Mr=Sl=Us=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,Ru(ue,i,le);break;case"selectionchange":if(Pm)break;case"keydown":case"keyup":Ru(ue,i,le)}var pe;if(pl)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else zs?mu(e,i)&&(ye="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ye="onCompositionStart");ye&&(du&&i.locale!=="ko"&&(zs||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&zs&&(pe=lu()):(Di=le,dl="value"in Di?Di.value:Di.textContent,zs=!0)),Ae=ka(ie,ye),0<Ae.length&&(ye=new uu(ye,e,null,i,le),ue.push({event:ye,listeners:Ae}),pe?ye.data=pe:(pe=vu(i),pe!==null&&(ye.data=pe)))),(pe=Tm?Mm(e,i):Lm(e,i))&&(ye=ka(ie,"onBeforeInput"),0<ye.length&&(Ae=new uu("onBeforeInput","beforeinput",null,i,le),ue.push({event:Ae,listeners:ye}),Ae.data=pe)),xv(ue,e,ie,i,le)}Qd(ue,t)})}function an(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ka(e,t){for(var i=t+"Capture",s=[];e!==null;){var r=e,l=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||l===null||(r=Cr(e,i),r!=null&&s.unshift(an(e,r,l)),r=Cr(e,t),r!=null&&s.push(an(e,r,l))),e.tag===3)return s;e=e.return}return[]}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ef(e,t,i,s,r){for(var l=t._reactName,D=[];i!==null&&i!==s;){var j=i,V=j.alternate,ie=j.stateNode;if(j=j.tag,V!==null&&V===s)break;j!==5&&j!==26&&j!==27||ie===null||(V=ie,r?(ie=Cr(i,l),ie!=null&&D.unshift(an(i,ie,V))):r||(ie=Cr(i,l),ie!=null&&D.push(an(i,ie,V)))),i=i.return}D.length!==0&&e.push({event:t,listeners:D})}var kv=/\r\n?/g,Av=/\u0000|\uFFFD/g;function tf(e){return(typeof e=="string"?e:""+e).replace(kv,`
`).replace(Av,"")}function sf(e,t){return t=tf(t),tf(e)===t}function Aa(){}function He(e,t,i,s,r,l){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ns(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ns(e,""+s);break;case"className":Ln(e,"class",s);break;case"tabIndex":Ln(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(e,i,s);break;case"style":ru(e,s,l);break;case"data":if(t!=="object"){Ln(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Nn(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(i==="formAction"?(t!=="input"&&He(e,t,"name",r.name,r,null),He(e,t,"formEncType",r.formEncType,r,null),He(e,t,"formMethod",r.formMethod,r,null),He(e,t,"formTarget",r.formTarget,r,null)):(He(e,t,"encType",r.encType,r,null),He(e,t,"method",r.method,r,null),He(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Nn(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Aa);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(S(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(S(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Nn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":De("beforetoggle",e),De("toggle",e),Mn(e,"popover",s);break;case"xlinkActuate":oi(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":oi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":oi(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":oi(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":oi(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":oi(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":oi(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":oi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":oi(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Mn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=sm.get(i)||i,Mn(e,i,s))}}function Yo(e,t,i,s,r,l){switch(i){case"style":ru(e,s,l);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(S(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(S(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Ns(e,s):(typeof s=="number"||typeof s=="bigint")&&Ns(e,""+s);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),l=e[St]||null,l=l!=null?l[i]:null,typeof l=="function"&&e.removeEventListener(t,l,r),typeof s=="function")){typeof l!="function"&&l!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,r);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Mn(e,i,s)}}}function dt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var s=!1,r=!1,l;for(l in i)if(i.hasOwnProperty(l)){var D=i[l];if(D!=null)switch(l){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:He(e,t,l,D,i,null)}}r&&He(e,t,"srcSet",i.srcSet,i,null),s&&He(e,t,"src",i.src,i,null);return;case"input":De("invalid",e);var j=l=D=r=null,V=null,ie=null;for(s in i)if(i.hasOwnProperty(s)){var le=i[s];if(le!=null)switch(s){case"name":r=le;break;case"type":D=le;break;case"checked":V=le;break;case"defaultChecked":ie=le;break;case"value":l=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(S(137,t));break;default:He(e,t,s,le,i,null)}}eu(e,l,j,V,ie,D,r,!1),On(e);return;case"select":De("invalid",e),s=D=l=null;for(r in i)if(i.hasOwnProperty(r)&&(j=i[r],j!=null))switch(r){case"value":l=j;break;case"defaultValue":D=j;break;case"multiple":s=j;default:He(e,t,r,j,i,null)}t=l,i=D,e.multiple=!!s,t!=null?Bs(e,!!s,t,!1):i!=null&&Bs(e,!!s,i,!0);return;case"textarea":De("invalid",e),l=r=s=null;for(D in i)if(i.hasOwnProperty(D)&&(j=i[D],j!=null))switch(D){case"value":s=j;break;case"defaultValue":r=j;break;case"children":l=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(S(91));break;default:He(e,t,D,j,i,null)}iu(e,s,r,l),On(e);return;case"option":for(V in i)if(i.hasOwnProperty(V)&&(s=i[V],s!=null))switch(V){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:He(e,t,V,s,i,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(s=0;s<nn.length;s++)De(nn[s],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in i)if(i.hasOwnProperty(ie)&&(s=i[ie],s!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:He(e,t,ie,s,i,null)}return;default:if(ll(t)){for(le in i)i.hasOwnProperty(le)&&(s=i[le],s!==void 0&&Yo(e,t,le,s,i,void 0));return}}for(j in i)i.hasOwnProperty(j)&&(s=i[j],s!=null&&He(e,t,j,s,i,null))}function Rv(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,D=null,j=null,V=null,ie=null,le=null;for(re in i){var ue=i[re];if(i.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":V=ue;default:s.hasOwnProperty(re)||He(e,t,re,null,s,ue)}}for(var se in s){var re=s[se];if(ue=i[se],s.hasOwnProperty(se)&&(re!=null||ue!=null))switch(se){case"type":l=re;break;case"name":r=re;break;case"checked":ie=re;break;case"defaultChecked":le=re;break;case"value":D=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(S(137,t));break;default:re!==ue&&He(e,t,se,re,s,ue)}}nl(e,D,j,V,ie,le,l,r);return;case"select":re=D=j=se=null;for(l in i)if(V=i[l],i.hasOwnProperty(l)&&V!=null)switch(l){case"value":break;case"multiple":re=V;default:s.hasOwnProperty(l)||He(e,t,l,null,s,V)}for(r in s)if(l=s[r],V=i[r],s.hasOwnProperty(r)&&(l!=null||V!=null))switch(r){case"value":se=l;break;case"defaultValue":j=l;break;case"multiple":D=l;default:l!==V&&He(e,t,r,l,s,V)}t=j,i=D,s=re,se!=null?Bs(e,!!i,se,!1):!!s!=!!i&&(t!=null?Bs(e,!!i,t,!0):Bs(e,!!i,i?[]:"",!1));return;case"textarea":re=se=null;for(j in i)if(r=i[j],i.hasOwnProperty(j)&&r!=null&&!s.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:He(e,t,j,null,s,r)}for(D in s)if(r=s[D],l=i[D],s.hasOwnProperty(D)&&(r!=null||l!=null))switch(D){case"value":se=r;break;case"defaultValue":re=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(S(91));break;default:r!==l&&He(e,t,D,r,s,l)}tu(e,se,re);return;case"option":for(var xe in i)if(se=i[xe],i.hasOwnProperty(xe)&&se!=null&&!s.hasOwnProperty(xe))switch(xe){case"selected":e.selected=!1;break;default:He(e,t,xe,null,s,se)}for(V in s)if(se=s[V],re=i[V],s.hasOwnProperty(V)&&se!==re&&(se!=null||re!=null))switch(V){case"selected":e.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:He(e,t,V,se,s,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in i)se=i[ge],i.hasOwnProperty(ge)&&se!=null&&!s.hasOwnProperty(ge)&&He(e,t,ge,null,s,se);for(ie in s)if(se=s[ie],re=i[ie],s.hasOwnProperty(ie)&&se!==re&&(se!=null||re!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(S(137,t));break;default:He(e,t,ie,se,s,re)}return;default:if(ll(t)){for(var ze in i)se=i[ze],i.hasOwnProperty(ze)&&se!==void 0&&!s.hasOwnProperty(ze)&&Yo(e,t,ze,void 0,s,se);for(le in s)se=s[le],re=i[le],!s.hasOwnProperty(le)||se===re||se===void 0&&re===void 0||Yo(e,t,le,se,s,re);return}}for(var Q in i)se=i[Q],i.hasOwnProperty(Q)&&se!=null&&!s.hasOwnProperty(Q)&&He(e,t,Q,null,s,se);for(ue in s)se=s[ue],re=i[ue],!s.hasOwnProperty(ue)||se===re||se==null&&re==null||He(e,t,ue,se,s,re)}var Ko=null,Xo=null;function Ra(e){return e.nodeType===9?e:e.ownerDocument}function rf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wo=null;function Dv(){var e=window.event;return e&&e.type==="popstate"?e===Wo?!1:(Wo=e,!0):(Wo=null,!1)}var af=typeof setTimeout=="function"?setTimeout:void 0,Tv=typeof clearTimeout=="function"?clearTimeout:void 0,lf=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof lf<"u"?function(e){return lf.resolve(null).then(e).catch(Lv)}:af;function Lv(e){setTimeout(function(){throw e})}function Gi(e){return e==="head"}function of(e,t){var i=t,s=0,r=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(0<s&&8>s){i=s;var D=e.ownerDocument;if(i&1&&ln(D.documentElement),i&2&&ln(D.body),i&4)for(i=D.head,ln(i),D=i.firstChild;D;){var j=D.nextSibling,V=D.nodeName;D[Sr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&D.rel.toLowerCase()==="stylesheet"||i.removeChild(D),D=j}}if(r===0){e.removeChild(l),mn(t);return}r--}else i==="$"||i==="$?"||i==="$!"?r++:s=i.charCodeAt(0)-48;else s=0;i=l}while(i);mn(t)}function Zo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Zo(i),tl(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Ov(e,t,i,s){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Sr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function Bv(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Zt(e.nextSibling),e===null))return null;return e}function Qo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Nv(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Jo=null;function cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function uf(e,t,i){switch(t=Ra(i),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function ln(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);tl(e)}var Vt=new Map,hf=new Set;function Da(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xi=U.d;U.d={f:jv,r:Hv,D:zv,C:Uv,L:Pv,m:Fv,X:qv,S:Iv,M:Vv};function jv(){var e=xi.f(),t=ya();return e||t}function Hv(e){var t=Ts(e);t!==null&&t.tag===5&&t.type==="form"?Th(t):xi.r(e)}var ur=typeof document>"u"?null:document;function df(e,t,i){var s=ur;if(s&&typeof t=="string"&&t){var r=Ht(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),hf.has(r)||(hf.add(r),e={rel:e,crossOrigin:i,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),dt(t,"link",e),it(t),s.head.appendChild(t)))}}function zv(e){xi.D(e),df("dns-prefetch",e,null)}function Uv(e,t){xi.C(e,t),df("preconnect",e,t)}function Pv(e,t,i){xi.L(e,t,i);var s=ur;if(s&&e&&t){var r='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+Ht(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+Ht(i.imageSizes)+'"]')):r+='[href="'+Ht(e)+'"]';var l=r;switch(t){case"style":l=hr(e);break;case"script":l=dr(e)}Vt.has(l)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Vt.set(l,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(on(l))||t==="script"&&s.querySelector(cn(l))||(t=s.createElement("link"),dt(t,"link",e),it(t),s.head.appendChild(t)))}}function Fv(e,t){xi.m(e,t);var i=ur;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ht(s)+'"][href="'+Ht(e)+'"]',l=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=dr(e)}if(!Vt.has(l)&&(e=b({rel:"modulepreload",href:e},t),Vt.set(l,e),i.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(cn(l)))return}s=i.createElement("link"),dt(s,"link",e),it(s),i.head.appendChild(s)}}}function Iv(e,t,i){xi.S(e,t,i);var s=ur;if(s&&e){var r=Ms(s).hoistableStyles,l=hr(e);t=t||"default";var D=r.get(l);if(!D){var j={loading:0,preload:null};if(D=s.querySelector(on(l)))j.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Vt.get(l))&&ec(e,i);var V=D=s.createElement("link");it(V),dt(V,"link",e),V._p=new Promise(function(ie,le){V.onload=ie,V.onerror=le}),V.addEventListener("load",function(){j.loading|=1}),V.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Ta(D,t,s)}D={type:"stylesheet",instance:D,count:1,state:j},r.set(l,D)}}}function qv(e,t){xi.X(e,t);var i=ur;if(i&&e){var s=Ms(i).hoistableScripts,r=dr(e),l=s.get(r);l||(l=i.querySelector(cn(r)),l||(e=b({src:e,async:!0},t),(t=Vt.get(r))&&tc(e,t),l=i.createElement("script"),it(l),dt(l,"link",e),i.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},s.set(r,l))}}function Vv(e,t){xi.M(e,t);var i=ur;if(i&&e){var s=Ms(i).hoistableScripts,r=dr(e),l=s.get(r);l||(l=i.querySelector(cn(r)),l||(e=b({src:e,async:!0,type:"module"},t),(t=Vt.get(r))&&tc(e,t),l=i.createElement("script"),it(l),dt(l,"link",e),i.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},s.set(r,l))}}function ff(e,t,i,s){var r=(r=fe.current)?Da(r):null;if(!r)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=hr(i.href),i=Ms(r).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=hr(i.href);var l=Ms(r).hoistableStyles,D=l.get(e);if(D||(r=r.ownerDocument||r,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,D),(l=r.querySelector(on(e)))&&!l._p&&(D.instance=l,D.state.loading=5),Vt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Vt.set(e,i),l||Gv(r,e,i,D.state))),t&&s===null)throw Error(S(528,""));return D}if(t&&s!==null)throw Error(S(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=dr(i),i=Ms(r).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function hr(e){return'href="'+Ht(e)+'"'}function on(e){return'link[rel="stylesheet"]['+e+"]"}function _f(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Gv(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),dt(t,"link",i),it(t),e.head.appendChild(t))}function dr(e){return'[src="'+Ht(e)+'"]'}function cn(e){return"script[async]"+e}function mf(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ht(i.href)+'"]');if(s)return t.instance=s,it(s),s;var r=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),it(s),dt(s,"style",r),Ta(s,i.precedence,e),t.instance=s;case"stylesheet":r=hr(i.href);var l=e.querySelector(on(r));if(l)return t.state.loading|=4,t.instance=l,it(l),l;s=_f(i),(r=Vt.get(r))&&ec(s,r),l=(e.ownerDocument||e).createElement("link"),it(l);var D=l;return D._p=new Promise(function(j,V){D.onload=j,D.onerror=V}),dt(l,"link",s),t.state.loading|=4,Ta(l,i.precedence,e),t.instance=l;case"script":return l=dr(i.src),(r=e.querySelector(cn(l)))?(t.instance=r,it(r),r):(s=i,(r=Vt.get(l))&&(s=b({},i),tc(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),it(r),dt(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ta(s,i.precedence,e));return t.instance}function Ta(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,l=r,D=0;D<s.length;D++){var j=s[D];if(j.dataset.precedence===t)l=j;else if(l!==r)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ma=null;function vf(e,t,i){if(Ma===null){var s=new Map,r=Ma=new Map;r.set(i,s)}else r=Ma,s=r.get(i),s||(s=new Map,r.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var l=i[r];if(!(l[Sr]||l[_t]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var D=l.getAttribute(t)||"";D=e+D;var j=s.get(D);j?j.push(l):s.set(D,[l])}}return s}function pf(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Yv(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var un=null;function Kv(){}function Xv(e,t,i){if(un===null)throw Error(S(475));var s=un;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=hr(i.href),l=e.querySelector(on(r));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=La.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=l,it(l);return}l=e.ownerDocument||e,i=_f(i),(r=Vt.get(r))&&ec(i,r),l=l.createElement("link"),it(l);var D=l;D._p=new Promise(function(j,V){D.onload=j,D.onerror=V}),dt(l,"link",i),t.instance=l}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=La.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function $v(){if(un===null)throw Error(S(475));var e=un;return e.stylesheets&&e.count===0&&ic(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&ic(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function La(){if(this.count--,this.count===0){if(this.stylesheets)ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oa=null;function ic(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oa=new Map,t.forEach(Wv,e),Oa=null,La.call(e))}function Wv(e,t){if(!(t.state.loading&4)){var i=Oa.get(e);if(i)var s=i.get(null);else{i=new Map,Oa.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var D=r[l];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(i.set(D.dataset.precedence,D),s=D)}s&&i.set(null,s)}r=t.instance,D=r.getAttribute("data-precedence"),l=i.get(D)||s,l===s&&i.set(null,r),i.set(D,r),this.count++,s=La.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),l?l.parentNode.insertBefore(r,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var hn={$$typeof:u,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function Zv(e,t,i,s,r,l,D,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Za(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.hiddenUpdates=Za(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function bf(e,t,i,s,r,l,D,j,V,ie,le,ue){return e=new Zv(e,t,i,D,j,V,ie,ue),t=1,l===!0&&(t|=24),l=Rt(3,null,null,t),e.current=l,l.stateNode=e,t=jl(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:s,isDehydrated:i,cache:t},Pl(l),e}function yf(e){return e?(e=qs,e):qs}function Sf(e,t,i,s,r,l){r=yf(r),s.context===null?s.context=r:s.pendingContext=r,s=Li(t),s.payload={element:i},l=l===void 0?null:l,l!==null&&(s.callback=l),i=Oi(e,s,t),i!==null&&(Ot(i,e,t),Pr(i,e,t))}function xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function sc(e,t){xf(e,t),(e=e.alternate)&&xf(e,t)}function Cf(e){if(e.tag===13){var t=Is(e,67108864);t!==null&&Ot(t,e,67108864),sc(e,67108864)}}var Ba=!0;function Qv(e,t,i,s){var r=O.T;O.T=null;var l=U.p;try{U.p=2,rc(e,t,i,s)}finally{U.p=l,O.T=r}}function Jv(e,t,i,s){var r=O.T;O.T=null;var l=U.p;try{U.p=8,rc(e,t,i,s)}finally{U.p=l,O.T=r}}function rc(e,t,i,s){if(Ba){var r=nc(s);if(r===null)Go(e,t,s,Na,i),Ef(e,s);else if(t0(r,e,t,i,s))s.stopPropagation();else if(Ef(e,s),t&4&&-1<e0.indexOf(e)){for(;r!==null;){var l=Ts(r);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var D=ts(l.pendingLanes);if(D!==0){var j=l;for(j.pendingLanes|=2,j.entangledLanes|=2;D;){var V=1<<31-ct(D);j.entanglements[1]|=V,D&=~V}si(l),(Be&6)===0&&(ga=Se()+500,rn(0))}}break;case 13:j=Is(l,2),j!==null&&Ot(j,l,2),ya(),sc(l,2)}if(l=nc(s),l===null&&Go(e,t,s,Na,i),l===r)break;r=l}r!==null&&s.stopPropagation()}else Go(e,t,s,null,i)}}function nc(e){return e=cl(e),ac(e)}var Na=null;function ac(e){if(Na=null,e=Ds(e),e!==null){var t=z(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=H(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Na=e,null}function wf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case ws:return 2;case Es:return 8;case Ai:case ks:return 32;case bt:return 268435456;default:return 32}default:return 32}}var lc=!1,Yi=null,Ki=null,Xi=null,dn=new Map,fn=new Map,$i=[],e0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ef(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(t.pointerId)}}function _n(e,t,i,s,r,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:l,targetContainers:[r]},t!==null&&(t=Ts(t),t!==null&&Cf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function t0(e,t,i,s,r){switch(t){case"focusin":return Yi=_n(Yi,e,t,i,s,r),!0;case"dragenter":return Ki=_n(Ki,e,t,i,s,r),!0;case"mouseover":return Xi=_n(Xi,e,t,i,s,r),!0;case"pointerover":var l=r.pointerId;return dn.set(l,_n(dn.get(l)||null,e,t,i,s,r)),!0;case"gotpointercapture":return l=r.pointerId,fn.set(l,_n(fn.get(l)||null,e,t,i,s,r)),!0}return!1}function kf(e){var t=Ds(e.target);if(t!==null){var i=z(t);if(i!==null){if(t=i.tag,t===13){if(t=H(i),t!==null){e.blockedOn=t,X_(e.priority,function(){if(i.tag===13){var s=Lt();s=Qa(s);var r=Is(i,s);r!==null&&Ot(r,i,s),sc(i,s)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ja(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=nc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);ol=s,i.target.dispatchEvent(s),ol=null}else return t=Ts(i),t!==null&&Cf(t),e.blockedOn=i,!1;t.shift()}return!0}function Af(e,t,i){ja(e)&&i.delete(t)}function i0(){lc=!1,Yi!==null&&ja(Yi)&&(Yi=null),Ki!==null&&ja(Ki)&&(Ki=null),Xi!==null&&ja(Xi)&&(Xi=null),dn.forEach(Af),fn.forEach(Af)}function Ha(e,t){e.blockedOn===t&&(e.blockedOn=null,lc||(lc=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,i0)))}var za=null;function Rf(e){za!==e&&(za=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){za===e&&(za=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(ac(s||i)===null)continue;break}var l=Ts(i);l!==null&&(e.splice(t,3),t-=3,no(l,{pending:!0,data:r,method:i.method,action:s},s,r))}}))}function mn(e){function t(V){return Ha(V,e)}Yi!==null&&Ha(Yi,e),Ki!==null&&Ha(Ki,e),Xi!==null&&Ha(Xi,e),dn.forEach(t),fn.forEach(t);for(var i=0;i<$i.length;i++){var s=$i[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<$i.length&&(i=$i[0],i.blockedOn===null);)kf(i),i.blockedOn===null&&$i.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var r=i[s],l=i[s+1],D=r[St]||null;if(typeof l=="function")D||Rf(i);else if(D){var j=null;if(l&&l.hasAttribute("formAction")){if(r=l,D=l[St]||null)j=D.formAction;else if(ac(r)!==null)continue}else j=D.action;typeof j=="function"?i[s+1]=j:(i.splice(s,3),s-=3),Rf(i)}}}function oc(e){this._internalRoot=e}Ua.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var i=t.current,s=Lt();Sf(i,s,e,t,null,null)},Ua.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sf(e.current,2,null,e,null,null),ya(),t[Rs]=null}};function Ua(e){this._internalRoot=e}Ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<$i.length&&t!==0&&t<$i[i].priority;i++);$i.splice(i,0,e),i===0&&kf(e)}};var Df=A.version;if(Df!=="19.1.0")throw Error(S(527,Df,"19.1.0"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=h(t),e=e!==null?d(e):null,e=e===null?null:e.stateNode,e};var s0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{Xt=Pa.inject(s0),lt=Pa}catch{}}return pn.createRoot=function(e,t){if(!B(e))throw Error(S(299));var i=!1,s="",r=Vh,l=Gh,D=Yh,j=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(D=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(j=t.unstable_transitionCallbacks)),t=bf(e,1,!1,null,null,i,s,r,l,D,j,null),e[Rs]=t.current,Vo(e),new oc(t)},pn.hydrateRoot=function(e,t,i){if(!B(e))throw Error(S(299));var s=!1,r="",l=Vh,D=Gh,j=Yh,V=null,ie=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(l=i.onUncaughtError),i.onCaughtError!==void 0&&(D=i.onCaughtError),i.onRecoverableError!==void 0&&(j=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(V=i.unstable_transitionCallbacks),i.formState!==void 0&&(ie=i.formState)),t=bf(e,1,!0,t,i??null,s,r,l,D,j,V,ie),t.context=yf(null),i=t.current,s=Lt(),s=Qa(s),r=Li(s),r.callback=null,Oi(i,r,s),i=s,t.current.lanes=i,yr(t,i),si(t),e[Rs]=t.current,Vo(e),new Ua(t)},pn.version="19.1.0",pn}var Uf;function d0(){if(Uf)return uc.exports;Uf=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(A){console.error(A)}}return f(),uc.exports=h0(),uc.exports}var f0=d0(),W=Tc(),gn={},Pf;function _0(){if(Pf)return gn;Pf=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.parse=H,gn.serialize=d;const f=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,A=/^[\u0021-\u003A\u003C-\u007E]*$/,R=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,S=/^[\u0020-\u003A\u003D-\u007E]*$/,B=Object.prototype.toString,z=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function H(v,w){const x=new z,y=v.length;if(y<2)return x;const n=w?.decode||b;let a=0;do{const o=v.indexOf("=",a);if(o===-1)break;const u=v.indexOf(";",a),p=u===-1?y:u;if(o>p){a=v.lastIndexOf(";",o-1)+1;continue}const g=c(v,a,o),E=h(v,o,g),L=v.slice(g,E);if(x[L]===void 0){let m=c(v,o+1,p),M=h(v,p,m);const q=n(v.slice(m,M));x[L]=q}a=p+1}while(a<y);return x}function c(v,w,x){do{const y=v.charCodeAt(w);if(y!==32&&y!==9)return w}while(++w<x);return x}function h(v,w,x){for(;w>x;){const y=v.charCodeAt(--w);if(y!==32&&y!==9)return w+1}return x}function d(v,w,x){const y=x?.encode||encodeURIComponent;if(!f.test(v))throw new TypeError(`argument name is invalid: ${v}`);const n=y(w);if(!A.test(n))throw new TypeError(`argument val is invalid: ${w}`);let a=v+"="+n;if(!x)return a;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);a+="; Max-Age="+x.maxAge}if(x.domain){if(!R.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);a+="; Domain="+x.domain}if(x.path){if(!S.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);a+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);a+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(a+="; HttpOnly"),x.secure&&(a+="; Secure"),x.partitioned&&(a+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return a}function b(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return B.call(v)==="[object Date]"}return gn}_0();var Ff="popstate";function m0(f={}){function A(S,B){let{pathname:z,search:H,hash:c}=S.location;return xc("",{pathname:z,search:H,hash:c},B.state&&B.state.usr||null,B.state&&B.state.key||"default")}function R(S,B){return typeof B=="string"?B:Sn(B)}return p0(A,R,null,f)}function Ge(f,A){if(f===!1||f===null||typeof f>"u")throw new Error(A)}function ni(f,A){if(!f){typeof console<"u"&&console.warn(A);try{throw new Error(A)}catch{}}}function v0(){return Math.random().toString(36).substring(2,10)}function If(f,A){return{usr:f.state,key:f.key,idx:A}}function xc(f,A,R=null,S){return{pathname:typeof f=="string"?f:f.pathname,search:"",hash:"",...typeof A=="string"?mr(A):A,state:R,key:A&&A.key||S||v0()}}function Sn({pathname:f="/",search:A="",hash:R=""}){return A&&A!=="?"&&(f+=A.charAt(0)==="?"?A:"?"+A),R&&R!=="#"&&(f+=R.charAt(0)==="#"?R:"#"+R),f}function mr(f){let A={};if(f){let R=f.indexOf("#");R>=0&&(A.hash=f.substring(R),f=f.substring(0,R));let S=f.indexOf("?");S>=0&&(A.search=f.substring(S),f=f.substring(0,S)),f&&(A.pathname=f)}return A}function p0(f,A,R,S={}){let{window:B=document.defaultView,v5Compat:z=!1}=S,H=B.history,c="POP",h=null,d=b();d==null&&(d=0,H.replaceState({...H.state,idx:d},""));function b(){return(H.state||{idx:null}).idx}function _(){c="POP";let n=b(),a=n==null?null:n-d;d=n,h&&h({action:c,location:y.location,delta:a})}function v(n,a){c="PUSH";let o=xc(y.location,n,a);d=b()+1;let u=If(o,d),p=y.createHref(o);try{H.pushState(u,"",p)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;B.location.assign(p)}z&&h&&h({action:c,location:y.location,delta:1})}function w(n,a){c="REPLACE";let o=xc(y.location,n,a);d=b();let u=If(o,d),p=y.createHref(o);H.replaceState(u,"",p),z&&h&&h({action:c,location:y.location,delta:0})}function x(n){return g0(n)}let y={get action(){return c},get location(){return f(B,H)},listen(n){if(h)throw new Error("A history only accepts one active listener");return B.addEventListener(Ff,_),h=n,()=>{B.removeEventListener(Ff,_),h=null}},createHref(n){return A(B,n)},createURL:x,encodeLocation(n){let a=x(n);return{pathname:a.pathname,search:a.search,hash:a.hash}},push:v,replace:w,go(n){return H.go(n)}};return y}function g0(f,A=!1){let R="http://localhost";typeof window<"u"&&(R=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(R,"No window.location.(origin|href) available to create URL");let S=typeof f=="string"?f:Sn(f);return S=S.replace(/ $/,"%20"),!A&&S.startsWith("//")&&(S=R+S),new URL(S,R)}function c_(f,A,R="/"){return b0(f,A,R,!1)}function b0(f,A,R,S){let B=typeof A=="string"?mr(A):A,z=Ei(B.pathname||"/",R);if(z==null)return null;let H=u_(f);y0(H);let c=null;for(let h=0;c==null&&h<H.length;++h){let d=M0(z);c=D0(H[h],d,S)}return c}function u_(f,A=[],R=[],S=""){let B=(z,H,c)=>{let h={relativePath:c===void 0?z.path||"":c,caseSensitive:z.caseSensitive===!0,childrenIndex:H,route:z};h.relativePath.startsWith("/")&&(Ge(h.relativePath.startsWith(S),`Absolute route path "${h.relativePath}" nested under path "${S}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(S.length));let d=wi([S,h.relativePath]),b=R.concat(h);z.children&&z.children.length>0&&(Ge(z.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),u_(z.children,A,b,d)),!(z.path==null&&!z.index)&&A.push({path:d,score:A0(d,z.index),routesMeta:b})};return f.forEach((z,H)=>{if(z.path===""||!z.path?.includes("?"))B(z,H);else for(let c of h_(z.path))B(z,H,c)}),A}function h_(f){let A=f.split("/");if(A.length===0)return[];let[R,...S]=A,B=R.endsWith("?"),z=R.replace(/\?$/,"");if(S.length===0)return B?[z,""]:[z];let H=h_(S.join("/")),c=[];return c.push(...H.map(h=>h===""?z:[z,h].join("/"))),B&&c.push(...H),c.map(h=>f.startsWith("/")&&h===""?"/":h)}function y0(f){f.sort((A,R)=>A.score!==R.score?R.score-A.score:R0(A.routesMeta.map(S=>S.childrenIndex),R.routesMeta.map(S=>S.childrenIndex)))}var S0=/^:[\w-]+$/,x0=3,C0=2,w0=1,E0=10,k0=-2,qf=f=>f==="*";function A0(f,A){let R=f.split("/"),S=R.length;return R.some(qf)&&(S+=k0),A&&(S+=C0),R.filter(B=>!qf(B)).reduce((B,z)=>B+(S0.test(z)?x0:z===""?w0:E0),S)}function R0(f,A){return f.length===A.length&&f.slice(0,-1).every((S,B)=>S===A[B])?f[f.length-1]-A[A.length-1]:0}function D0(f,A,R=!1){let{routesMeta:S}=f,B={},z="/",H=[];for(let c=0;c<S.length;++c){let h=S[c],d=c===S.length-1,b=z==="/"?A:A.slice(z.length)||"/",_=Ka({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},b),v=h.route;if(!_&&d&&R&&!S[S.length-1].route.index&&(_=Ka({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},b)),!_)return null;Object.assign(B,_.params),H.push({params:B,pathname:wi([z,_.pathname]),pathnameBase:N0(wi([z,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(z=wi([z,_.pathnameBase]))}return H}function Ka(f,A){typeof f=="string"&&(f={path:f,caseSensitive:!1,end:!0});let[R,S]=T0(f.path,f.caseSensitive,f.end),B=A.match(R);if(!B)return null;let z=B[0],H=z.replace(/(.)\/+$/,"$1"),c=B.slice(1);return{params:S.reduce((d,{paramName:b,isOptional:_},v)=>{if(b==="*"){let x=c[v]||"";H=z.slice(0,z.length-x.length).replace(/(.)\/+$/,"$1")}const w=c[v];return _&&!w?d[b]=void 0:d[b]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:z,pathnameBase:H,pattern:f}}function T0(f,A=!1,R=!0){ni(f==="*"||!f.endsWith("*")||f.endsWith("/*"),`Route path "${f}" will be treated as if it were "${f.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${f.replace(/\*$/,"/*")}".`);let S=[],B="^"+f.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(H,c,h)=>(S.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return f.endsWith("*")?(S.push({paramName:"*"}),B+=f==="*"||f==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):R?B+="\\/*$":f!==""&&f!=="/"&&(B+="(?:(?=\\/|$))"),[new RegExp(B,A?void 0:"i"),S]}function M0(f){try{return f.split("/").map(A=>decodeURIComponent(A).replace(/\//g,"%2F")).join("/")}catch(A){return ni(!1,`The URL path "${f}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${A}).`),f}}function Ei(f,A){if(A==="/")return f;if(!f.toLowerCase().startsWith(A.toLowerCase()))return null;let R=A.endsWith("/")?A.length-1:A.length,S=f.charAt(R);return S&&S!=="/"?null:f.slice(R)||"/"}function L0(f,A="/"){let{pathname:R,search:S="",hash:B=""}=typeof f=="string"?mr(f):f;return{pathname:R?R.startsWith("/")?R:O0(R,A):A,search:j0(S),hash:H0(B)}}function O0(f,A){let R=A.replace(/\/+$/,"").split("/");return f.split("/").forEach(B=>{B===".."?R.length>1&&R.pop():B!=="."&&R.push(B)}),R.length>1?R.join("/"):"/"}function mc(f,A,R,S){return`Cannot include a '${f}' character in a manually specified \`to.${A}\` field [${JSON.stringify(S)}].  Please separate it out to the \`to.${R}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B0(f){return f.filter((A,R)=>R===0||A.route.path&&A.route.path.length>0)}function d_(f){let A=B0(f);return A.map((R,S)=>S===A.length-1?R.pathname:R.pathnameBase)}function f_(f,A,R,S=!1){let B;typeof f=="string"?B=mr(f):(B={...f},Ge(!B.pathname||!B.pathname.includes("?"),mc("?","pathname","search",B)),Ge(!B.pathname||!B.pathname.includes("#"),mc("#","pathname","hash",B)),Ge(!B.search||!B.search.includes("#"),mc("#","search","hash",B)));let z=f===""||B.pathname==="",H=z?"/":B.pathname,c;if(H==null)c=R;else{let _=A.length-1;if(!S&&H.startsWith("..")){let v=H.split("/");for(;v[0]==="..";)v.shift(),_-=1;B.pathname=v.join("/")}c=_>=0?A[_]:"/"}let h=L0(B,c),d=H&&H!=="/"&&H.endsWith("/"),b=(z||H===".")&&R.endsWith("/");return!h.pathname.endsWith("/")&&(d||b)&&(h.pathname+="/"),h}var wi=f=>f.join("/").replace(/\/\/+/g,"/"),N0=f=>f.replace(/\/+$/,"").replace(/^\/*/,"/"),j0=f=>!f||f==="?"?"":f.startsWith("?")?f:"?"+f,H0=f=>!f||f==="#"?"":f.startsWith("#")?f:"#"+f;function z0(f){return f!=null&&typeof f.status=="number"&&typeof f.statusText=="string"&&typeof f.internal=="boolean"&&"data"in f}var __=["POST","PUT","PATCH","DELETE"];new Set(__);var U0=["GET",...__];new Set(U0);var vr=W.createContext(null);vr.displayName="DataRouter";var $a=W.createContext(null);$a.displayName="DataRouterState";var m_=W.createContext({isTransitioning:!1});m_.displayName="ViewTransition";var P0=W.createContext(new Map);P0.displayName="Fetchers";var F0=W.createContext(null);F0.displayName="Await";var ai=W.createContext(null);ai.displayName="Navigation";var kn=W.createContext(null);kn.displayName="Location";var li=W.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var Mc=W.createContext(null);Mc.displayName="RouteError";function I0(f,{relative:A}={}){Ge(An(),"useHref() may be used only in the context of a <Router> component.");let{basename:R,navigator:S}=W.useContext(ai),{hash:B,pathname:z,search:H}=Rn(f,{relative:A}),c=z;return R!=="/"&&(c=z==="/"?R:wi([R,z])),S.createHref({pathname:c,search:H,hash:B})}function An(){return W.useContext(kn)!=null}function Cs(){return Ge(An(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(kn).location}var v_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p_(f){W.useContext(ai).static||W.useLayoutEffect(f)}function q0(){let{isDataRoute:f}=W.useContext(li);return f?sp():V0()}function V0(){Ge(An(),"useNavigate() may be used only in the context of a <Router> component.");let f=W.useContext(vr),{basename:A,navigator:R}=W.useContext(ai),{matches:S}=W.useContext(li),{pathname:B}=Cs(),z=JSON.stringify(d_(S)),H=W.useRef(!1);return p_(()=>{H.current=!0}),W.useCallback((h,d={})=>{if(ni(H.current,v_),!H.current)return;if(typeof h=="number"){R.go(h);return}let b=f_(h,JSON.parse(z),B,d.relative==="path");f==null&&A!=="/"&&(b.pathname=b.pathname==="/"?A:wi([A,b.pathname])),(d.replace?R.replace:R.push)(b,d.state,d)},[A,R,z,B,f])}W.createContext(null);function G0(){let{matches:f}=W.useContext(li),A=f[f.length-1];return A?A.params:{}}function Rn(f,{relative:A}={}){let{matches:R}=W.useContext(li),{pathname:S}=Cs(),B=JSON.stringify(d_(R));return W.useMemo(()=>f_(f,JSON.parse(B),S,A==="path"),[f,B,S,A])}function Y0(f,A){return g_(f,A)}function g_(f,A,R,S){Ge(An(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:B}=W.useContext(ai),{matches:z}=W.useContext(li),H=z[z.length-1],c=H?H.params:{},h=H?H.pathname:"/",d=H?H.pathnameBase:"/",b=H&&H.route;{let a=b&&b.path||"";b_(h,!b||a.endsWith("*")||a.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${a}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${a}"> to <Route path="${a==="/"?"*":`${a}/*`}">.`)}let _=Cs(),v;if(A){let a=typeof A=="string"?mr(A):A;Ge(d==="/"||a.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${a.pathname}" was given in the \`location\` prop.`),v=a}else v=_;let w=v.pathname||"/",x=w;if(d!=="/"){let a=d.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(a.length).join("/")}let y=c_(f,{pathname:x});ni(b||y!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ni(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let n=Z0(y&&y.map(a=>Object.assign({},a,{params:Object.assign({},c,a.params),pathname:wi([d,B.encodeLocation?B.encodeLocation(a.pathname).pathname:a.pathname]),pathnameBase:a.pathnameBase==="/"?d:wi([d,B.encodeLocation?B.encodeLocation(a.pathnameBase).pathname:a.pathnameBase])})),z,R,S);return A&&n?W.createElement(kn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},n):n}function K0(){let f=ip(),A=z0(f)?`${f.status} ${f.statusText}`:f instanceof Error?f.message:JSON.stringify(f),R=f instanceof Error?f.stack:null,S="rgba(200,200,200, 0.5)",B={padding:"0.5rem",backgroundColor:S},z={padding:"2px 4px",backgroundColor:S},H=null;return console.error("Error handled by React Router default ErrorBoundary:",f),H=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:z},"ErrorBoundary")," or"," ",W.createElement("code",{style:z},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},A),R?W.createElement("pre",{style:B},R):null,H)}var X0=W.createElement(K0,null),$0=class extends W.Component{constructor(f){super(f),this.state={location:f.location,revalidation:f.revalidation,error:f.error}}static getDerivedStateFromError(f){return{error:f}}static getDerivedStateFromProps(f,A){return A.location!==f.location||A.revalidation!=="idle"&&f.revalidation==="idle"?{error:f.error,location:f.location,revalidation:f.revalidation}:{error:f.error!==void 0?f.error:A.error,location:A.location,revalidation:f.revalidation||A.revalidation}}componentDidCatch(f,A){console.error("React Router caught the following error during render",f,A)}render(){return this.state.error!==void 0?W.createElement(li.Provider,{value:this.props.routeContext},W.createElement(Mc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function W0({routeContext:f,match:A,children:R}){let S=W.useContext(vr);return S&&S.static&&S.staticContext&&(A.route.errorElement||A.route.ErrorBoundary)&&(S.staticContext._deepestRenderedBoundaryId=A.route.id),W.createElement(li.Provider,{value:f},R)}function Z0(f,A=[],R=null,S=null){if(f==null){if(!R)return null;if(R.errors)f=R.matches;else if(A.length===0&&!R.initialized&&R.matches.length>0)f=R.matches;else return null}let B=f,z=R?.errors;if(z!=null){let h=B.findIndex(d=>d.route.id&&z?.[d.route.id]!==void 0);Ge(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(z).join(",")}`),B=B.slice(0,Math.min(B.length,h+1))}let H=!1,c=-1;if(R)for(let h=0;h<B.length;h++){let d=B[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:b,errors:_}=R,v=d.route.loader&&!b.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){H=!0,c>=0?B=B.slice(0,c+1):B=[B[0]];break}}}return B.reduceRight((h,d,b)=>{let _,v=!1,w=null,x=null;R&&(_=z&&d.route.id?z[d.route.id]:void 0,w=d.route.errorElement||X0,H&&(c<0&&b===0?(b_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===b&&(v=!0,x=d.route.hydrateFallbackElement||null)));let y=A.concat(B.slice(0,b+1)),n=()=>{let a;return _?a=w:v?a=x:d.route.Component?a=W.createElement(d.route.Component,null):d.route.element?a=d.route.element:a=h,W.createElement(W0,{match:d,routeContext:{outlet:h,matches:y,isDataRoute:R!=null},children:a})};return R&&(d.route.ErrorBoundary||d.route.errorElement||b===0)?W.createElement($0,{location:R.location,revalidation:R.revalidation,component:w,error:_,children:n(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):n()},null)}function Lc(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q0(f){let A=W.useContext(vr);return Ge(A,Lc(f)),A}function J0(f){let A=W.useContext($a);return Ge(A,Lc(f)),A}function ep(f){let A=W.useContext(li);return Ge(A,Lc(f)),A}function Oc(f){let A=ep(f),R=A.matches[A.matches.length-1];return Ge(R.route.id,`${f} can only be used on routes that contain a unique "id"`),R.route.id}function tp(){return Oc("useRouteId")}function ip(){let f=W.useContext(Mc),A=J0("useRouteError"),R=Oc("useRouteError");return f!==void 0?f:A.errors?.[R]}function sp(){let{router:f}=Q0("useNavigate"),A=Oc("useNavigate"),R=W.useRef(!1);return p_(()=>{R.current=!0}),W.useCallback(async(B,z={})=>{ni(R.current,v_),R.current&&(typeof B=="number"?f.navigate(B):await f.navigate(B,{fromRouteId:A,...z}))},[f,A])}var Vf={};function b_(f,A,R){!A&&!Vf[f]&&(Vf[f]=!0,ni(!1,R))}W.memo(rp);function rp({routes:f,future:A,state:R}){return g_(f,void 0,R,A)}function Va(f){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function np({basename:f="/",children:A=null,location:R,navigationType:S="POP",navigator:B,static:z=!1}){Ge(!An(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let H=f.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:H,navigator:B,static:z,future:{}}),[H,B,z]);typeof R=="string"&&(R=mr(R));let{pathname:h="/",search:d="",hash:b="",state:_=null,key:v="default"}=R,w=W.useMemo(()=>{let x=Ei(h,H);return x==null?null:{location:{pathname:x,search:d,hash:b,state:_,key:v},navigationType:S}},[H,h,d,b,_,v,S]);return ni(w!=null,`<Router basename="${H}"> is not able to match the URL "${h}${d}${b}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:W.createElement(ai.Provider,{value:c},W.createElement(kn.Provider,{children:A,value:w}))}function ap({children:f,location:A}){return Y0(Cc(f),A)}function Cc(f,A=[]){let R=[];return W.Children.forEach(f,(S,B)=>{if(!W.isValidElement(S))return;let z=[...A,B];if(S.type===W.Fragment){R.push.apply(R,Cc(S.props.children,z));return}Ge(S.type===Va,`[${typeof S.type=="string"?S.type:S.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!S.props.index||!S.props.children,"An index route cannot have child routes.");let H={id:S.props.id||z.join("-"),caseSensitive:S.props.caseSensitive,element:S.props.element,Component:S.props.Component,index:S.props.index,path:S.props.path,loader:S.props.loader,action:S.props.action,hydrateFallbackElement:S.props.hydrateFallbackElement,HydrateFallback:S.props.HydrateFallback,errorElement:S.props.errorElement,ErrorBoundary:S.props.ErrorBoundary,hasErrorBoundary:S.props.hasErrorBoundary===!0||S.props.ErrorBoundary!=null||S.props.errorElement!=null,shouldRevalidate:S.props.shouldRevalidate,handle:S.props.handle,lazy:S.props.lazy};S.props.children&&(H.children=Cc(S.props.children,z)),R.push(H)}),R}var Ga="get",Ya="application/x-www-form-urlencoded";function Wa(f){return f!=null&&typeof f.tagName=="string"}function lp(f){return Wa(f)&&f.tagName.toLowerCase()==="button"}function op(f){return Wa(f)&&f.tagName.toLowerCase()==="form"}function cp(f){return Wa(f)&&f.tagName.toLowerCase()==="input"}function up(f){return!!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)}function hp(f,A){return f.button===0&&(!A||A==="_self")&&!up(f)}var Fa=null;function dp(){if(Fa===null)try{new FormData(document.createElement("form"),0),Fa=!1}catch{Fa=!0}return Fa}var fp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vc(f){return f!=null&&!fp.has(f)?(ni(!1,`"${f}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ya}"`),null):f}function _p(f,A){let R,S,B,z,H;if(op(f)){let c=f.getAttribute("action");S=c?Ei(c,A):null,R=f.getAttribute("method")||Ga,B=vc(f.getAttribute("enctype"))||Ya,z=new FormData(f)}else if(lp(f)||cp(f)&&(f.type==="submit"||f.type==="image")){let c=f.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=f.getAttribute("formaction")||c.getAttribute("action");if(S=h?Ei(h,A):null,R=f.getAttribute("formmethod")||c.getAttribute("method")||Ga,B=vc(f.getAttribute("formenctype"))||vc(c.getAttribute("enctype"))||Ya,z=new FormData(c,f),!dp()){let{name:d,type:b,value:_}=f;if(b==="image"){let v=d?`${d}.`:"";z.append(`${v}x`,"0"),z.append(`${v}y`,"0")}else d&&z.append(d,_)}}else{if(Wa(f))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');R=Ga,S=null,B=Ya,H=f}return z&&B==="text/plain"&&(H=z,z=void 0),{action:S,method:R.toLowerCase(),encType:B,formData:z,body:H}}function Bc(f,A){if(f===!1||f===null||typeof f>"u")throw new Error(A)}async function mp(f,A){if(f.id in A)return A[f.id];try{let R=await import(f.module);return A[f.id]=R,R}catch(R){return console.error(`Error loading route module \`${f.module}\`, reloading page...`),console.error(R),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vp(f){return f==null?!1:f.href==null?f.rel==="preload"&&typeof f.imageSrcSet=="string"&&typeof f.imageSizes=="string":typeof f.rel=="string"&&typeof f.href=="string"}async function pp(f,A,R){let S=await Promise.all(f.map(async B=>{let z=A.routes[B.route.id];if(z){let H=await mp(z,R);return H.links?H.links():[]}return[]}));return Sp(S.flat(1).filter(vp).filter(B=>B.rel==="stylesheet"||B.rel==="preload").map(B=>B.rel==="stylesheet"?{...B,rel:"prefetch",as:"style"}:{...B,rel:"prefetch"}))}function Gf(f,A,R,S,B,z){let H=(h,d)=>R[d]?h.route.id!==R[d].route.id:!0,c=(h,d)=>R[d].pathname!==h.pathname||R[d].route.path?.endsWith("*")&&R[d].params["*"]!==h.params["*"];return z==="assets"?A.filter((h,d)=>H(h,d)||c(h,d)):z==="data"?A.filter((h,d)=>{let b=S.routes[h.route.id];if(!b||!b.hasLoader)return!1;if(H(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(B.pathname+B.search+B.hash,window.origin),currentParams:R[0]?.params||{},nextUrl:new URL(f,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function gp(f,A,{includeHydrateFallback:R}={}){return bp(f.map(S=>{let B=A.routes[S.route.id];if(!B)return[];let z=[B.module];return B.clientActionModule&&(z=z.concat(B.clientActionModule)),B.clientLoaderModule&&(z=z.concat(B.clientLoaderModule)),R&&B.hydrateFallbackModule&&(z=z.concat(B.hydrateFallbackModule)),B.imports&&(z=z.concat(B.imports)),z}).flat(1))}function bp(f){return[...new Set(f)]}function yp(f){let A={},R=Object.keys(f).sort();for(let S of R)A[S]=f[S];return A}function Sp(f,A){let R=new Set;return new Set(A),f.reduce((S,B)=>{let z=JSON.stringify(yp(B));return R.has(z)||(R.add(z),S.push({key:z,link:B})),S},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xp=new Set([100,101,204,205]);function Cp(f,A){let R=typeof f=="string"?new URL(f,typeof window>"u"?"server://singlefetch/":window.location.origin):f;return R.pathname==="/"?R.pathname="_root.data":A&&Ei(R.pathname,A)==="/"?R.pathname=`${A.replace(/\/$/,"")}/_root.data`:R.pathname=`${R.pathname.replace(/\/$/,"")}.data`,R}function y_(){let f=W.useContext(vr);return Bc(f,"You must render this element inside a <DataRouterContext.Provider> element"),f}function wp(){let f=W.useContext($a);return Bc(f,"You must render this element inside a <DataRouterStateContext.Provider> element"),f}var Nc=W.createContext(void 0);Nc.displayName="FrameworkContext";function S_(){let f=W.useContext(Nc);return Bc(f,"You must render this element inside a <HydratedRouter> element"),f}function Ep(f,A){let R=W.useContext(Nc),[S,B]=W.useState(!1),[z,H]=W.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:b,onTouchStart:_}=A,v=W.useRef(null);W.useEffect(()=>{if(f==="render"&&H(!0),f==="viewport"){let y=a=>{a.forEach(o=>{H(o.isIntersecting)})},n=new IntersectionObserver(y,{threshold:.5});return v.current&&n.observe(v.current),()=>{n.disconnect()}}},[f]),W.useEffect(()=>{if(S){let y=setTimeout(()=>{H(!0)},100);return()=>{clearTimeout(y)}}},[S]);let w=()=>{B(!0)},x=()=>{B(!1),H(!1)};return R?f!=="intent"?[z,v,{}]:[z,v,{onFocus:bn(c,w),onBlur:bn(h,x),onMouseEnter:bn(d,w),onMouseLeave:bn(b,x),onTouchStart:bn(_,w)}]:[!1,v,{}]}function bn(f,A){return R=>{f&&f(R),R.defaultPrevented||A(R)}}function kp({page:f,...A}){let{router:R}=y_(),S=W.useMemo(()=>c_(R.routes,f,R.basename),[R.routes,f,R.basename]);return S?W.createElement(Rp,{page:f,matches:S,...A}):null}function Ap(f){let{manifest:A,routeModules:R}=S_(),[S,B]=W.useState([]);return W.useEffect(()=>{let z=!1;return pp(f,A,R).then(H=>{z||B(H)}),()=>{z=!0}},[f,A,R]),S}function Rp({page:f,matches:A,...R}){let S=Cs(),{manifest:B,routeModules:z}=S_(),{basename:H}=y_(),{loaderData:c,matches:h}=wp(),d=W.useMemo(()=>Gf(f,A,h,B,S,"data"),[f,A,h,B,S]),b=W.useMemo(()=>Gf(f,A,h,B,S,"assets"),[f,A,h,B,S]),_=W.useMemo(()=>{if(f===S.pathname+S.search+S.hash)return[];let x=new Set,y=!1;if(A.forEach(a=>{let o=B.routes[a.route.id];!o||!o.hasLoader||(!d.some(u=>u.route.id===a.route.id)&&a.route.id in c&&z[a.route.id]?.shouldRevalidate||o.hasClientLoader?y=!0:x.add(a.route.id))}),x.size===0)return[];let n=Cp(f,H);return y&&x.size>0&&n.searchParams.set("_routes",A.filter(a=>x.has(a.route.id)).map(a=>a.route.id).join(",")),[n.pathname+n.search]},[H,c,S,B,d,A,f,z]),v=W.useMemo(()=>gp(b,B),[b,B]),w=Ap(b);return W.createElement(W.Fragment,null,_.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...R})),v.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...R})),w.map(({key:x,link:y})=>W.createElement("link",{key:x,...y})))}function Dp(...f){return A=>{f.forEach(R=>{typeof R=="function"?R(A):R!=null&&(R.current=A)})}}var x_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x_&&(window.__reactRouterVersion="7.6.3")}catch{}function Tp({basename:f,children:A,window:R}){let S=W.useRef();S.current==null&&(S.current=m0({window:R,v5Compat:!0}));let B=S.current,[z,H]=W.useState({action:B.action,location:B.location}),c=W.useCallback(h=>{W.startTransition(()=>H(h))},[H]);return W.useLayoutEffect(()=>B.listen(c),[B,c]),W.createElement(np,{basename:f,children:A,location:z.location,navigationType:z.action,navigator:B})}var C_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ss=W.forwardRef(function({onClick:A,discover:R="render",prefetch:S="none",relative:B,reloadDocument:z,replace:H,state:c,target:h,to:d,preventScrollReset:b,viewTransition:_,...v},w){let{basename:x}=W.useContext(ai),y=typeof d=="string"&&C_.test(d),n,a=!1;if(typeof d=="string"&&y&&(n=d,x_))try{let M=new URL(window.location.href),q=d.startsWith("//")?new URL(M.protocol+d):new URL(d),Y=Ei(q.pathname,x);q.origin===M.origin&&Y!=null?d=Y+q.search+q.hash:a=!0}catch{ni(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let o=I0(d,{relative:B}),[u,p,g]=Ep(S,v),E=Bp(d,{replace:H,state:c,target:h,preventScrollReset:b,relative:B,viewTransition:_});function L(M){A&&A(M),M.defaultPrevented||E(M)}let m=W.createElement("a",{...v,...g,href:n||o,onClick:a||z?A:L,ref:Dp(w,p),target:h,"data-discover":!y&&R==="render"?"true":void 0});return u&&!y?W.createElement(W.Fragment,null,m,W.createElement(kp,{page:o})):m});Ss.displayName="Link";var Mp=W.forwardRef(function({"aria-current":A="page",caseSensitive:R=!1,className:S="",end:B=!1,style:z,to:H,viewTransition:c,children:h,...d},b){let _=Rn(H,{relative:d.relative}),v=Cs(),w=W.useContext($a),{navigator:x,basename:y}=W.useContext(ai),n=w!=null&&Up(_)&&c===!0,a=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,o=v.pathname,u=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;R||(o=o.toLowerCase(),u=u?u.toLowerCase():null,a=a.toLowerCase()),u&&y&&(u=Ei(u,y)||u);const p=a!=="/"&&a.endsWith("/")?a.length-1:a.length;let g=o===a||!B&&o.startsWith(a)&&o.charAt(p)==="/",E=u!=null&&(u===a||!B&&u.startsWith(a)&&u.charAt(a.length)==="/"),L={isActive:g,isPending:E,isTransitioning:n},m=g?A:void 0,M;typeof S=="function"?M=S(L):M=[S,g?"active":null,E?"pending":null,n?"transitioning":null].filter(Boolean).join(" ");let q=typeof z=="function"?z(L):z;return W.createElement(Ss,{...d,"aria-current":m,className:M,ref:b,style:q,to:H,viewTransition:c},typeof h=="function"?h(L):h)});Mp.displayName="NavLink";var Lp=W.forwardRef(({discover:f="render",fetcherKey:A,navigate:R,reloadDocument:S,replace:B,state:z,method:H=Ga,action:c,onSubmit:h,relative:d,preventScrollReset:b,viewTransition:_,...v},w)=>{let x=Hp(),y=zp(c,{relative:d}),n=H.toLowerCase()==="get"?"get":"post",a=typeof c=="string"&&C_.test(c),o=u=>{if(h&&h(u),u.defaultPrevented)return;u.preventDefault();let p=u.nativeEvent.submitter,g=p?.getAttribute("formmethod")||H;x(p||u.currentTarget,{fetcherKey:A,method:g,navigate:R,replace:B,state:z,relative:d,preventScrollReset:b,viewTransition:_})};return W.createElement("form",{ref:w,method:n,action:y,onSubmit:S?h:o,...v,"data-discover":!a&&f==="render"?"true":void 0})});Lp.displayName="Form";function Op(f){return`${f} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w_(f){let A=W.useContext(vr);return Ge(A,Op(f)),A}function Bp(f,{target:A,replace:R,state:S,preventScrollReset:B,relative:z,viewTransition:H}={}){let c=q0(),h=Cs(),d=Rn(f,{relative:z});return W.useCallback(b=>{if(hp(b,A)){b.preventDefault();let _=R!==void 0?R:Sn(h)===Sn(d);c(f,{replace:_,state:S,preventScrollReset:B,relative:z,viewTransition:H})}},[h,c,d,R,S,A,f,B,z,H])}var Np=0,jp=()=>`__${String(++Np)}__`;function Hp(){let{router:f}=w_("useSubmit"),{basename:A}=W.useContext(ai),R=tp();return W.useCallback(async(S,B={})=>{let{action:z,method:H,encType:c,formData:h,body:d}=_p(S,A);if(B.navigate===!1){let b=B.fetcherKey||jp();await f.fetch(b,R,B.action||z,{preventScrollReset:B.preventScrollReset,formData:h,body:d,formMethod:B.method||H,formEncType:B.encType||c,flushSync:B.flushSync})}else await f.navigate(B.action||z,{preventScrollReset:B.preventScrollReset,formData:h,body:d,formMethod:B.method||H,formEncType:B.encType||c,replace:B.replace,state:B.state,fromRouteId:R,flushSync:B.flushSync,viewTransition:B.viewTransition})},[f,A,R])}function zp(f,{relative:A}={}){let{basename:R}=W.useContext(ai),S=W.useContext(li);Ge(S,"useFormAction must be used inside a RouteContext");let[B]=S.matches.slice(-1),z={...Rn(f||".",{relative:A})},H=Cs();if(f==null){z.search=H.search;let c=new URLSearchParams(z.search),h=c.getAll("index");if(h.some(b=>b==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let b=c.toString();z.search=b?`?${b}`:""}}return(!f||f===".")&&B.route.index&&(z.search=z.search?z.search.replace(/^\?/,"?index&"):"?index"),R!=="/"&&(z.pathname=z.pathname==="/"?R:wi([R,z.pathname])),Sn(z)}function Up(f,A={}){let R=W.useContext(m_);Ge(R!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:S}=w_("useViewTransitionState"),B=Rn(f,{relative:A.relative});if(!R.isTransitioning)return!1;let z=Ei(R.currentLocation.pathname,S)||R.currentLocation.pathname,H=Ei(R.nextLocation.pathname,S)||R.nextLocation.pathname;return Ka(B.pathname,H)!=null||Ka(B.pathname,z)!=null}[...xp];o_();const Kt="http://localhost:24050/api",ys=async()=>{console.log("fetchFlows API called");const f=await fetch(`${Kt}/flows`);if(console.log("Fetch flows API response status:",f.status),!f.ok){const R=await f.text();throw console.error("Fetch flows API error:",R),new Error(`Failed to fetch flows: ${R}`)}const A=await f.json();return console.log("Fetch flows API response data:",A),A},Pp=async f=>{console.log("createFlow API called with data:",f);const A=await fetch(`${Kt}/flows`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(console.log("Create flow API response status:",A.status),!A.ok){const S=await A.text();throw console.error("Create flow API error:",S),new Error(`Failed to create flow: ${S}`)}const R=await A.json();return console.log("Create flow API response data:",R),R},Fp=async(f,A)=>{console.log("updateFlow API called with data:",{flowId:f,flowData:A});const R=await fetch(`${Kt}/flows/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(console.log("Update flow API response status:",R.status),!R.ok){const B=await R.text();throw console.error("Update flow API error:",B),new Error(`Failed to update flow: ${B}`)}const S=await R.json();return console.log("Update flow API response data:",S),S},Ip=async f=>{console.log("deleteFlow API called with flowId:",f);const A=await fetch(`${Kt}/flows/${f}`,{method:"DELETE"});if(console.log("Delete flow API response status:",A.status),!A.ok){const S=await A.text();throw console.error("Delete flow API error:",S),new Error(`Failed to delete flow: ${S}`)}const R=await A.json();return console.log("Delete flow API response data:",R),R},qp=async(f,A)=>{console.log("updateStep API called with data:",{stepId:f,stepData:A});const R=await fetch(`${Kt}/steps/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(console.log("Update step API response status:",R.status),!R.ok){const B=await R.text();throw console.error("Update step API error:",B),new Error(`Failed to update step: ${B}`)}const S=await R.json();return console.log("Update step API response data:",S),S},Vp=async f=>{console.log("createStep API called with data:",f);const A=await fetch(`${Kt}/steps`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(console.log("Create step API response status:",A.status),!A.ok){const S=await A.text();throw console.error("Create step API error:",S),new Error(`Failed to create step: ${S}`)}const R=await A.json();return console.log("Create step API response data:",R),R},Gp=async f=>{console.log("deleteStep API called with stepId:",f);const A=await fetch(`${Kt}/steps/${f}`,{method:"DELETE"});if(console.log("Delete step API response status:",A.status),!A.ok){const S=await A.text();throw console.error("Delete step API error:",S),new Error(`Failed to delete step: ${S}`)}const R=await A.json();return console.log("Delete step API response data:",R),R},wc=async(f,A,R)=>{console.log("updateVariable API called with data:",{flowId:f,key:A,variableData:R});const S=await fetch(`${Kt}/variables/${f}/${A}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(console.log("Update variable API response status:",S.status),!S.ok){const z=await S.text();throw console.error("Update variable API error:",z),new Error(`Failed to update variable: ${z}`)}const B=await S.json();return console.log("Update variable API response data:",B),B},E_=async(f,A)=>{console.log("deleteVariable API called with data:",{flowId:f,key:A});const R=await fetch(`${Kt}/variables/${f}/${A}`,{method:"DELETE"});if(console.log("Delete variable API response status:",R.status),!R.ok){const S=await R.json();throw console.error("Delete variable API error:",S),new Error(S.error||"Failed to delete variable")}return R.json()},Yf=async f=>{console.log("executeStep API called with stepId:",f);const A=await fetch(`${Kt}/execute-step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({step_id:f})});if(console.log("Execute step API response status:",A.status),!A.ok){const S=await A.text();throw console.error("Execute step API error:",S),new Error(`Failed to execute step: ${S}`)}const R=await A.json();return console.log("Execute step API response data:",R),R},Yp=async f=>{const A=await fetch(`${Kt}/flows/${f}/export`);if(!A.ok){const R=await A.json();throw new Error(R.error||"Failed to export flow")}return A.blob()},Kp=async f=>{const A=await fetch(`${Kt}/flows/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!A.ok){const R=await A.json();throw new Error(R.error||"Failed to import flow")}return A.json()};function Kf(f,A){if(typeof f=="function")return f(A);f!=null&&(f.current=A)}function Xp(...f){return A=>{let R=!1;const S=f.map(B=>{const z=Kf(B,A);return!R&&typeof z=="function"&&(R=!0),z});if(R)return()=>{for(let B=0;B<S.length;B++){const z=S[B];typeof z=="function"?z():Kf(f[B],null)}}}}function k_(f){const A=Wp(f),R=W.forwardRef((S,B)=>{const{children:z,...H}=S,c=W.Children.toArray(z),h=c.find(Qp);if(h){const d=h.props.children,b=c.map(_=>_===h?W.Children.count(d)>1?W.Children.only(null):W.isValidElement(d)?d.props.children:null:_);return C.jsx(A,{...H,ref:B,children:W.isValidElement(d)?W.cloneElement(d,void 0,b):null})}return C.jsx(A,{...H,ref:B,children:z})});return R.displayName=`${f}.Slot`,R}var $p=k_("Slot");function Wp(f){const A=W.forwardRef((R,S)=>{const{children:B,...z}=R;if(W.isValidElement(B)){const H=eg(B),c=Jp(z,B.props);return B.type!==W.Fragment&&(c.ref=S?Xp(S,H):H),W.cloneElement(B,c)}return W.Children.count(B)>1?W.Children.only(null):null});return A.displayName=`${f}.SlotClone`,A}var Zp=Symbol("radix.slottable");function Qp(f){return W.isValidElement(f)&&typeof f.type=="function"&&"__radixId"in f.type&&f.type.__radixId===Zp}function Jp(f,A){const R={...A};for(const S in A){const B=f[S],z=A[S];/^on[A-Z]/.test(S)?B&&z?R[S]=(...c)=>{const h=z(...c);return B(...c),h}:B&&(R[S]=B):S==="style"?R[S]={...B,...z}:S==="className"&&(R[S]=[B,z].filter(Boolean).join(" "))}return{...f,...R}}function eg(f){let A=Object.getOwnPropertyDescriptor(f.props,"ref")?.get,R=A&&"isReactWarning"in A&&A.isReactWarning;return R?f.ref:(A=Object.getOwnPropertyDescriptor(f,"ref")?.get,R=A&&"isReactWarning"in A&&A.isReactWarning,R?f.props.ref:f.props.ref||f.ref)}function A_(f){var A,R,S="";if(typeof f=="string"||typeof f=="number")S+=f;else if(typeof f=="object")if(Array.isArray(f)){var B=f.length;for(A=0;A<B;A++)f[A]&&(R=A_(f[A]))&&(S&&(S+=" "),S+=R)}else for(R in f)f[R]&&(S&&(S+=" "),S+=R);return S}function R_(){for(var f,A,R=0,S="",B=arguments.length;R<B;R++)(f=arguments[R])&&(A=A_(f))&&(S&&(S+=" "),S+=A);return S}const Xf=f=>typeof f=="boolean"?`${f}`:f===0?"0":f,$f=R_,D_=(f,A)=>R=>{var S;if(A?.variants==null)return $f(f,R?.class,R?.className);const{variants:B,defaultVariants:z}=A,H=Object.keys(B).map(d=>{const b=R?.[d],_=z?.[d];if(b===null)return null;const v=Xf(b)||Xf(_);return B[d][v]}),c=R&&Object.entries(R).reduce((d,b)=>{let[_,v]=b;return v===void 0||(d[_]=v),d},{}),h=A==null||(S=A.compoundVariants)===null||S===void 0?void 0:S.reduce((d,b)=>{let{class:_,className:v,...w}=b;return Object.entries(w).every(x=>{let[y,n]=x;return Array.isArray(n)?n.includes({...z,...c}[y]):{...z,...c}[y]===n})?[...d,_,v]:d},[]);return $f(f,H,h,R?.class,R?.className)},jc="-",tg=f=>{const A=sg(f),{conflictingClassGroups:R,conflictingClassGroupModifiers:S}=f;return{getClassGroupId:H=>{const c=H.split(jc);return c[0]===""&&c.length!==1&&c.shift(),T_(c,A)||ig(H)},getConflictingClassGroupIds:(H,c)=>{const h=R[H]||[];return c&&S[H]?[...h,...S[H]]:h}}},T_=(f,A)=>{if(f.length===0)return A.classGroupId;const R=f[0],S=A.nextPart.get(R),B=S?T_(f.slice(1),S):void 0;if(B)return B;if(A.validators.length===0)return;const z=f.join(jc);return A.validators.find(({validator:H})=>H(z))?.classGroupId},Wf=/^\[(.+)\]$/,ig=f=>{if(Wf.test(f)){const A=Wf.exec(f)[1],R=A?.substring(0,A.indexOf(":"));if(R)return"arbitrary.."+R}},sg=f=>{const{theme:A,classGroups:R}=f,S={nextPart:new Map,validators:[]};for(const B in R)Ec(R[B],S,B,A);return S},Ec=(f,A,R,S)=>{f.forEach(B=>{if(typeof B=="string"){const z=B===""?A:Zf(A,B);z.classGroupId=R;return}if(typeof B=="function"){if(rg(B)){Ec(B(S),A,R,S);return}A.validators.push({validator:B,classGroupId:R});return}Object.entries(B).forEach(([z,H])=>{Ec(H,Zf(A,z),R,S)})})},Zf=(f,A)=>{let R=f;return A.split(jc).forEach(S=>{R.nextPart.has(S)||R.nextPart.set(S,{nextPart:new Map,validators:[]}),R=R.nextPart.get(S)}),R},rg=f=>f.isThemeGetter,ng=f=>{if(f<1)return{get:()=>{},set:()=>{}};let A=0,R=new Map,S=new Map;const B=(z,H)=>{R.set(z,H),A++,A>f&&(A=0,S=R,R=new Map)};return{get(z){let H=R.get(z);if(H!==void 0)return H;if((H=S.get(z))!==void 0)return B(z,H),H},set(z,H){R.has(z)?R.set(z,H):B(z,H)}}},kc="!",Ac=":",ag=Ac.length,lg=f=>{const{prefix:A,experimentalParseClassName:R}=f;let S=B=>{const z=[];let H=0,c=0,h=0,d;for(let x=0;x<B.length;x++){let y=B[x];if(H===0&&c===0){if(y===Ac){z.push(B.slice(h,x)),h=x+ag;continue}if(y==="/"){d=x;continue}}y==="["?H++:y==="]"?H--:y==="("?c++:y===")"&&c--}const b=z.length===0?B:B.substring(h),_=og(b),v=_!==b,w=d&&d>h?d-h:void 0;return{modifiers:z,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:w}};if(A){const B=A+Ac,z=S;S=H=>H.startsWith(B)?z(H.substring(B.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:H,maybePostfixModifierPosition:void 0}}if(R){const B=S;S=z=>R({className:z,parseClassName:B})}return S},og=f=>f.endsWith(kc)?f.substring(0,f.length-1):f.startsWith(kc)?f.substring(1):f,cg=f=>{const A=Object.fromEntries(f.orderSensitiveModifiers.map(S=>[S,!0]));return S=>{if(S.length<=1)return S;const B=[];let z=[];return S.forEach(H=>{H[0]==="["||A[H]?(B.push(...z.sort(),H),z=[]):z.push(H)}),B.push(...z.sort()),B}},ug=f=>({cache:ng(f.cacheSize),parseClassName:lg(f),sortModifiers:cg(f),...tg(f)}),hg=/\s+/,dg=(f,A)=>{const{parseClassName:R,getClassGroupId:S,getConflictingClassGroupIds:B,sortModifiers:z}=A,H=[],c=f.trim().split(hg);let h="";for(let d=c.length-1;d>=0;d-=1){const b=c[d],{isExternal:_,modifiers:v,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:y}=R(b);if(_){h=b+(h.length>0?" "+h:h);continue}let n=!!y,a=S(n?x.substring(0,y):x);if(!a){if(!n){h=b+(h.length>0?" "+h:h);continue}if(a=S(x),!a){h=b+(h.length>0?" "+h:h);continue}n=!1}const o=z(v).join(":"),u=w?o+kc:o,p=u+a;if(H.includes(p))continue;H.push(p);const g=B(a,n);for(let E=0;E<g.length;++E){const L=g[E];H.push(u+L)}h=b+(h.length>0?" "+h:h)}return h};function fg(){let f=0,A,R,S="";for(;f<arguments.length;)(A=arguments[f++])&&(R=M_(A))&&(S&&(S+=" "),S+=R);return S}const M_=f=>{if(typeof f=="string")return f;let A,R="";for(let S=0;S<f.length;S++)f[S]&&(A=M_(f[S]))&&(R&&(R+=" "),R+=A);return R};function _g(f,...A){let R,S,B,z=H;function H(h){const d=A.reduce((b,_)=>_(b),f());return R=ug(d),S=R.cache.get,B=R.cache.set,z=c,c(h)}function c(h){const d=S(h);if(d)return d;const b=dg(h,R);return B(h,b),b}return function(){return z(fg.apply(null,arguments))}}const tt=f=>{const A=R=>R[f]||[];return A.isThemeGetter=!0,A},L_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,O_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mg=/^\d+\/\d+$/,vg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fr=f=>mg.test(f),ke=f=>!!f&&!Number.isNaN(Number(f)),Zi=f=>!!f&&Number.isInteger(Number(f)),pc=f=>f.endsWith("%")&&ke(f.slice(0,-1)),Ci=f=>vg.test(f),Sg=()=>!0,xg=f=>pg.test(f)&&!gg.test(f),B_=()=>!1,Cg=f=>bg.test(f),wg=f=>yg.test(f),Eg=f=>!me(f)&&!ve(f),kg=f=>pr(f,H_,B_),me=f=>L_.test(f),bs=f=>pr(f,z_,xg),gc=f=>pr(f,Mg,ke),Qf=f=>pr(f,N_,B_),Ag=f=>pr(f,j_,wg),Ia=f=>pr(f,U_,Cg),ve=f=>O_.test(f),yn=f=>gr(f,z_),Rg=f=>gr(f,Lg),Jf=f=>gr(f,N_),Dg=f=>gr(f,H_),Tg=f=>gr(f,j_),qa=f=>gr(f,U_,!0),pr=(f,A,R)=>{const S=L_.exec(f);return S?S[1]?A(S[1]):R(S[2]):!1},gr=(f,A,R=!1)=>{const S=O_.exec(f);return S?S[1]?A(S[1]):R:!1},N_=f=>f==="position"||f==="percentage",j_=f=>f==="image"||f==="url",H_=f=>f==="length"||f==="size"||f==="bg-size",z_=f=>f==="length",Mg=f=>f==="number",Lg=f=>f==="family-name",U_=f=>f==="shadow",Og=()=>{const f=tt("color"),A=tt("font"),R=tt("text"),S=tt("font-weight"),B=tt("tracking"),z=tt("leading"),H=tt("breakpoint"),c=tt("container"),h=tt("spacing"),d=tt("radius"),b=tt("shadow"),_=tt("inset-shadow"),v=tt("text-shadow"),w=tt("drop-shadow"),x=tt("blur"),y=tt("perspective"),n=tt("aspect"),a=tt("ease"),o=tt("animate"),u=()=>["auto","avoid","all","avoid-page","page","left","right","column"],p=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],g=()=>[...p(),ve,me],E=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],m=()=>[ve,me,h],M=()=>[fr,"full","auto",...m()],q=()=>[Zi,"none","subgrid",ve,me],Y=()=>["auto",{span:["full",Zi,ve,me]},Zi,ve,me],I=()=>[Zi,"auto",ve,me],K=()=>["auto","min","max","fr",ve,me],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...m()],U=()=>[fr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...m()],k=()=>[f,ve,me],F=()=>[...p(),Jf,Qf,{position:[ve,me]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",Dg,kg,{size:[ve,me]}],J=()=>[pc,yn,bs],te=()=>["","none","full",d,ve,me],oe=()=>["",ke,yn,bs],he=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>[ke,pc,Jf,Qf],Z=()=>["","none",x,ve,me],ne=()=>["none",ke,ve,me],ae=()=>["none",ke,ve,me],be=()=>[ke,ve,me],de=()=>[fr,"full",...m()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ci],breakpoint:[Ci],color:[Sg],container:[Ci],"drop-shadow":[Ci],ease:["in","out","in-out"],font:[Eg],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ci],shadow:[Ci],spacing:["px",ke],text:[Ci],"text-shadow":[Ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fr,me,ve,n]}],container:["container"],columns:[{columns:[ke,me,ve,c]}],"break-after":[{"break-after":u()}],"break-before":[{"break-before":u()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:g()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Zi,"auto",ve,me]}],basis:[{basis:[fr,"full","auto",c,...m()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,fr,"auto","initial","none",me]}],grow:[{grow:["",ke,ve,me]}],shrink:[{shrink:["",ke,ve,me]}],order:[{order:[Zi,"first","last","none",ve,me]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:m()}],"gap-x":[{"gap-x":m()}],"gap-y":[{"gap-y":m()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:m()}],px:[{px:m()}],py:[{py:m()}],ps:[{ps:m()}],pe:[{pe:m()}],pt:[{pt:m()}],pr:[{pr:m()}],pb:[{pb:m()}],pl:[{pl:m()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":m()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":m()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[c,"screen",...U()]}],"min-w":[{"min-w":[c,"screen","none",...U()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[H]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",R,yn,bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[S,ve,gc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pc,me]}],"font-family":[{font:[Rg,me,A]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[B,ve,me]}],"line-clamp":[{"line-clamp":[ke,"none",ve,gc]}],leading:[{leading:[z,...m()]}],"list-image":[{"list-image":["none",ve,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",ve,bs]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[ke,"auto",ve,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:m()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zi,ve,me],radial:["",ve,me],conic:[Zi,ve,me]},Tg,Ag]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,ve,me]}],"outline-w":[{outline:["",ke,yn,bs]}],"outline-color":[{outline:k()}],shadow:[{shadow:["","none",b,qa,Ia]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",_,qa,Ia]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[ke,bs]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":k()}],"text-shadow":[{"text-shadow":["none",v,qa,Ia]}],"text-shadow-color":[{"text-shadow":k()}],opacity:[{opacity:[ke,ve,me]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":N()}],"mask-image-linear-to-pos":[{"mask-linear-to":N()}],"mask-image-linear-from-color":[{"mask-linear-from":k()}],"mask-image-linear-to-color":[{"mask-linear-to":k()}],"mask-image-t-from-pos":[{"mask-t-from":N()}],"mask-image-t-to-pos":[{"mask-t-to":N()}],"mask-image-t-from-color":[{"mask-t-from":k()}],"mask-image-t-to-color":[{"mask-t-to":k()}],"mask-image-r-from-pos":[{"mask-r-from":N()}],"mask-image-r-to-pos":[{"mask-r-to":N()}],"mask-image-r-from-color":[{"mask-r-from":k()}],"mask-image-r-to-color":[{"mask-r-to":k()}],"mask-image-b-from-pos":[{"mask-b-from":N()}],"mask-image-b-to-pos":[{"mask-b-to":N()}],"mask-image-b-from-color":[{"mask-b-from":k()}],"mask-image-b-to-color":[{"mask-b-to":k()}],"mask-image-l-from-pos":[{"mask-l-from":N()}],"mask-image-l-to-pos":[{"mask-l-to":N()}],"mask-image-l-from-color":[{"mask-l-from":k()}],"mask-image-l-to-color":[{"mask-l-to":k()}],"mask-image-x-from-pos":[{"mask-x-from":N()}],"mask-image-x-to-pos":[{"mask-x-to":N()}],"mask-image-x-from-color":[{"mask-x-from":k()}],"mask-image-x-to-color":[{"mask-x-to":k()}],"mask-image-y-from-pos":[{"mask-y-from":N()}],"mask-image-y-to-pos":[{"mask-y-to":N()}],"mask-image-y-from-color":[{"mask-y-from":k()}],"mask-image-y-to-color":[{"mask-y-to":k()}],"mask-image-radial":[{"mask-radial":[ve,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":N()}],"mask-image-radial-to-pos":[{"mask-radial-to":N()}],"mask-image-radial-from-color":[{"mask-radial-from":k()}],"mask-image-radial-to-color":[{"mask-radial-to":k()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":p()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":N()}],"mask-image-conic-to-pos":[{"mask-conic-to":N()}],"mask-image-conic-from-color":[{"mask-conic-from":k()}],"mask-image-conic-to-color":[{"mask-conic-to":k()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,me]}],filter:[{filter:["","none",ve,me]}],blur:[{blur:Z()}],brightness:[{brightness:[ke,ve,me]}],contrast:[{contrast:[ke,ve,me]}],"drop-shadow":[{"drop-shadow":["","none",w,qa,Ia]}],"drop-shadow-color":[{"drop-shadow":k()}],grayscale:[{grayscale:["",ke,ve,me]}],"hue-rotate":[{"hue-rotate":[ke,ve,me]}],invert:[{invert:["",ke,ve,me]}],saturate:[{saturate:[ke,ve,me]}],sepia:[{sepia:["",ke,ve,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,me]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[ke,ve,me]}],"backdrop-contrast":[{"backdrop-contrast":[ke,ve,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,ve,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,ve,me]}],"backdrop-invert":[{"backdrop-invert":["",ke,ve,me]}],"backdrop-opacity":[{"backdrop-opacity":[ke,ve,me]}],"backdrop-saturate":[{"backdrop-saturate":[ke,ve,me]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,ve,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":m()}],"border-spacing-x":[{"border-spacing-x":m()}],"border-spacing-y":[{"border-spacing-y":m()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",ve,me]}],ease:[{ease:["linear","initial",a,ve,me]}],delay:[{delay:[ke,ve,me]}],animate:[{animate:["none",o,ve,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ve,me]}],"perspective-origin":[{"perspective-origin":g()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[ve,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:g()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":m()}],"scroll-mx":[{"scroll-mx":m()}],"scroll-my":[{"scroll-my":m()}],"scroll-ms":[{"scroll-ms":m()}],"scroll-me":[{"scroll-me":m()}],"scroll-mt":[{"scroll-mt":m()}],"scroll-mr":[{"scroll-mr":m()}],"scroll-mb":[{"scroll-mb":m()}],"scroll-ml":[{"scroll-ml":m()}],"scroll-p":[{"scroll-p":m()}],"scroll-px":[{"scroll-px":m()}],"scroll-py":[{"scroll-py":m()}],"scroll-ps":[{"scroll-ps":m()}],"scroll-pe":[{"scroll-pe":m()}],"scroll-pt":[{"scroll-pt":m()}],"scroll-pr":[{"scroll-pr":m()}],"scroll-pb":[{"scroll-pb":m()}],"scroll-pl":[{"scroll-pl":m()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,me]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[ke,yn,bs,gc]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Bg=_g(Og);function kt(...f){return Bg(R_(f))}const Ng=D_("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=W.forwardRef(({className:f,variant:A,size:R,asChild:S=!1,...B},z)=>{const H=S?$p:"button";return C.jsx(H,{className:kt(Ng({variant:A,size:R,className:f})),ref:z,...B})});Ce.displayName="Button";const pt=W.forwardRef(({className:f,...A},R)=>C.jsx("div",{ref:R,className:kt("rounded-lg border bg-card text-card-foreground shadow-sm",f),...A}));pt.displayName="Card";const Bt=W.forwardRef(({className:f,...A},R)=>C.jsx("div",{ref:R,className:kt("flex flex-col space-y-1.5 p-6",f),...A}));Bt.displayName="CardHeader";const Yt=W.forwardRef(({className:f,...A},R)=>C.jsx("h3",{ref:R,className:kt("text-2xl font-semibold leading-none tracking-tight",f),...A}));Yt.displayName="CardTitle";const Xa=W.forwardRef(({className:f,...A},R)=>C.jsx("p",{ref:R,className:kt("text-sm text-muted-foreground",f),...A}));Xa.displayName="CardDescription";const gt=W.forwardRef(({className:f,...A},R)=>C.jsx("div",{ref:R,className:kt("p-6 pt-0",f),...A}));gt.displayName="CardContent";const jg=W.forwardRef(({className:f,...A},R)=>C.jsx("div",{ref:R,className:kt("flex items-center p-6 pt-0",f),...A}));jg.displayName="CardFooter";const Hg=D_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function at({className:f,variant:A,...R}){return C.jsx("div",{className:kt(Hg({variant:A}),f),...R})}var zg=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ug=zg.reduce((f,A)=>{const R=k_(`Primitive.${A}`),S=W.forwardRef((B,z)=>{const{asChild:H,...c}=B,h=H?R:A;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(h,{...c,ref:z})});return S.displayName=`Primitive.${A}`,{...f,[A]:S}},{}),Pg="Separator",e_="horizontal",Fg=["horizontal","vertical"],P_=W.forwardRef((f,A)=>{const{decorative:R,orientation:S=e_,...B}=f,z=Ig(S)?S:e_,c=R?{role:"none"}:{"aria-orientation":z==="vertical"?z:void 0,role:"separator"};return C.jsx(Ug.div,{"data-orientation":z,...c,...B,ref:A})});P_.displayName=Pg;function Ig(f){return Fg.includes(f)}var F_=P_;const Hc=W.forwardRef(({className:f,orientation:A="horizontal",decorative:R=!0,...S},B)=>C.jsx(F_,{ref:B,decorative:R,orientation:A,className:kt("shrink-0 bg-border",A==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",f),...S}));Hc.displayName=F_.displayName;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vg=f=>f.replace(/^([A-Z])|[\s-_]+(\w)/g,(A,R,S)=>S?S.toUpperCase():R.toLowerCase()),t_=f=>{const A=Vg(f);return A.charAt(0).toUpperCase()+A.slice(1)},I_=(...f)=>f.filter((A,R,S)=>!!A&&A.trim()!==""&&S.indexOf(A)===R).join(" ").trim(),Gg=f=>{for(const A in f)if(A.startsWith("aria-")||A==="role"||A==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=W.forwardRef(({color:f="currentColor",size:A=24,strokeWidth:R=2,absoluteStrokeWidth:S,className:B="",children:z,iconNode:H,...c},h)=>W.createElement("svg",{ref:h,...Yg,width:A,height:A,stroke:f,strokeWidth:S?Number(R)*24/Number(A):R,className:I_("lucide",B),...!z&&!Gg(c)&&{"aria-hidden":"true"},...c},[...H.map(([d,b])=>W.createElement(d,b)),...Array.isArray(z)?z:[z]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(f,A)=>{const R=W.forwardRef(({className:S,...B},z)=>W.createElement(Kg,{ref:z,iconNode:A,className:I_(`lucide-${qg(t_(f))}`,`lucide-${f}`,S),...B}));return R.displayName=t_(f),R};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bc=Ie("arrow-left",Xg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wg=Ie("check",$g);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xn=Ie("circle-alert",Zg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rc=Ie("circle-check-big",Qg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],eb=Ie("circle-x",Jg);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ib=Ie("clock",tb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],q_=Ie("code",sb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nb=Ie("download",rb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lb=Ie("eye",ab);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],V_=Ie("file-text",ob);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ub=Ie("info",cb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ri=Ie("loader-circle",hb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],fb=Ie("maximize-2",db);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],zc=Ie("pen-line",_b);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],_r=Ie("play",mb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cn=Ie("plus",vb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gb=Ie("rotate-ccw",pb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uc=Ie("save",bb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wn=Ie("settings",yb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Gt=Ie("terminal",Sb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xs=Ie("trash-2",xb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wb=Ie("upload",Cb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],i_=Ie("workflow",Eb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],En=Ie("x",kb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Dc=Ie("zap",Ab),Rb=({isOpen:f,onClose:A,onSubmit:R})=>{const[S,B]=W.useState(""),[z,H]=W.useState({}),[c,h]=W.useState([]),[d,b]=W.useState(""),[_,v]=W.useState(""),[w,x]=W.useState({name:"",command:"",notes:"",skip_prompt:!1,terminal:!1,tmux_session_name:"",is_tmux_terminal:!1}),y=()=>{d.trim()&&!z[d]&&(H(E=>({...E,[d]:_})),b(""),v(""))},n=E=>{H(L=>{const m={...L};return delete m[E],m})},a=(E,L)=>{H(m=>({...m,[E]:L}))},o=()=>{w.name.trim()&&w.command.trim()&&(h(E=>[...E,{...w}]),x({name:"",command:"",notes:"",skip_prompt:!1,terminal:!1,tmux_session_name:"",is_tmux_terminal:!1}))},u=E=>{h(L=>L.filter((m,M)=>M!==E))},p=()=>{S.trim()&&c.length>0&&(R({name:S,variables:z,steps:c}),B(""),H({}),h([]),b(""),v(""),x({name:"",command:"",notes:"",skip_prompt:!1,terminal:!1,tmux_session_name:"",is_tmux_terminal:!1}),A())},g=()=>{B(""),H({}),h([]),b(""),v(""),x({name:"",command:"",notes:"",skip_prompt:!1,terminal:!1,tmux_session_name:"",is_tmux_terminal:!1}),A()};return f?C.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:C.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] bg-white dark:bg-slate-800 rounded-lg shadow-xl flex flex-col",children:[C.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:[C.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Create New Flow"}),C.jsx(Ce,{onClick:g,variant:"outline",size:"sm",className:"p-2",children:C.jsx(En,{className:"h-4 w-4"})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto",children:C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs(pt,{children:[C.jsx(Bt,{children:C.jsxs(Yt,{className:"flex items-center gap-2",children:[C.jsx(V_,{className:"h-5 w-5"}),"Flow Details"]})}),C.jsx(gt,{children:C.jsx("div",{className:"space-y-4",children:C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Flow Name *"}),C.jsx("input",{type:"text",value:S,onChange:E=>B(E.target.value),placeholder:"Enter flow name",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})})]}),C.jsxs(pt,{children:[C.jsx(Bt,{children:C.jsxs(Yt,{className:"flex items-center gap-2",children:[C.jsx(wn,{className:"h-5 w-5"}),"Variables"]})}),C.jsx(gt,{children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:d,onChange:E=>b(E.target.value),placeholder:"Variable name",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),C.jsx("input",{type:"text",value:_,onChange:E=>v(E.target.value),placeholder:"Default value",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),C.jsxs(Ce,{onClick:y,disabled:!d.trim(),size:"sm",className:"flex items-center gap-1",children:[C.jsx(Cn,{className:"h-3 w-3"}),"Add"]})]}),Object.keys(z).length>0&&C.jsx("div",{className:"space-y-2",children:Object.entries(z).map(([E,L])=>C.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-900/50 rounded-md",children:[C.jsx(at,{variant:"outline",className:"min-w-fit",children:E}),C.jsx("input",{type:"text",value:L,onChange:m=>a(E,m.target.value),className:"flex-1 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-1 focus:ring-blue-500"}),C.jsx(Ce,{onClick:()=>n(E),variant:"outline",size:"sm",className:"p-1 text-red-600 hover:text-red-700",children:C.jsx(xs,{className:"h-3 w-3"})})]},E))})]})})]}),C.jsxs(pt,{children:[C.jsx(Bt,{children:C.jsxs(Yt,{className:"flex items-center gap-2",children:[C.jsx(_r,{className:"h-5 w-5"}),"Steps"]})}),C.jsx(gt,{children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"p-4 border border-slate-200 dark:border-slate-700 rounded-md space-y-3",children:[C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Step Name *"}),C.jsx("input",{type:"text",value:w.name,onChange:E=>x(L=>({...L,name:E.target.value})),placeholder:"Enter step name",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Command *"}),C.jsx("input",{type:"text",value:w.command,onChange:E=>x(L=>({...L,command:E.target.value})),placeholder:"Enter command",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),C.jsx("textarea",{value:w.notes,onChange:E=>x(L=>({...L,notes:E.target.value})),placeholder:"Enter step notes",rows:2,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("label",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"checkbox",checked:w.skip_prompt,onChange:E=>x(L=>({...L,skip_prompt:E.target.checked})),className:"rounded border-slate-300 dark:border-slate-600"}),C.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Auto-run"})]}),C.jsxs("label",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"checkbox",checked:w.terminal,onChange:E=>x(L=>({...L,terminal:E.target.checked})),className:"rounded border-slate-300 dark:border-slate-600"}),C.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[C.jsx(Gt,{className:"h-3 w-3"}),"Terminal mode"]})]})]}),w.terminal&&C.jsxs("div",{className:"space-y-3 p-3 bg-slate-100 dark:bg-slate-800 rounded-md border border-slate-200 dark:border-slate-600",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[C.jsx(Gt,{className:"h-4 w-4 text-blue-600"}),C.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Terminal Configuration"})]}),C.jsxs("label",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"checkbox",checked:w.is_tmux_terminal,onChange:E=>x(L=>({...L,is_tmux_terminal:E.target.checked})),className:"rounded border-slate-300 dark:border-slate-600"}),C.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Use Tmux Terminal"})]}),w.is_tmux_terminal&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tmux Session Name"}),C.jsx("input",{type:"text",value:w.tmux_session_name,onChange:E=>x(L=>({...L,tmux_session_name:E.target.value})),placeholder:"e.g., dev-session, ${PROJECT_NAME}",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),C.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["You can use variables like $","{","SESSION_NAME","}"," in the session name"]})]})]}),C.jsxs(Ce,{onClick:o,disabled:!w.name.trim()||!w.command.trim(),className:"w-full flex items-center gap-1",children:[C.jsx(Cn,{className:"h-4 w-4"}),"Add Step"]})]}),c.length>0&&C.jsxs("div",{className:"space-y-3",children:[C.jsx(Hc,{}),C.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white",children:["Steps (",c.length,")"]}),c.map((E,L)=>C.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-md",children:C.jsxs("div",{className:"flex items-start justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx(at,{variant:"outline",className:"text-xs",children:L+1}),C.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:E.name}),E.skip_prompt&&C.jsx(at,{className:"text-xs",children:"Auto-run"}),E.terminal&&C.jsxs(at,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[C.jsx(Gt,{className:"h-2 w-2"}),E.is_tmux_terminal?"Tmux":"Terminal"]}),E.is_tmux_terminal&&E.tmux_session_name&&C.jsxs(at,{variant:"outline",className:"text-xs",children:["Session: ",E.tmux_session_name]})]}),C.jsx("code",{className:"text-xs bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 px-2 py-1 rounded font-mono",children:E.command}),E.notes&&C.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:E.notes})]}),C.jsx(Ce,{onClick:()=>u(L),variant:"outline",size:"sm",className:"p-1 text-red-600 hover:text-red-700",children:C.jsx(xs,{className:"h-3 w-3"})})]})},L))]})]})})]})]})}),C.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-slate-200 dark:border-slate-700 flex-shrink-0",children:[C.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[c.length," step",c.length!==1?"s":""," added"]}),C.jsxs("div",{className:"flex gap-3",children:[C.jsx(Ce,{onClick:g,variant:"outline",children:"Cancel"}),C.jsxs(Ce,{onClick:p,disabled:!S.trim()||c.length===0,className:"flex items-center gap-2",children:[C.jsx(Uc,{className:"h-4 w-4"}),"Create Flow"]})]})]})]})}):null},Db=({isOpen:f,onClose:A,onSubmit:R,flow:S})=>{const[B,z]=W.useState(""),[H,c]=W.useState(""),[h,d]=W.useState({}),[b,_]=W.useState([]),[v,w]=W.useState(!1),[x,y]=W.useState(null),[n,a]=W.useState(""),[o,u]=W.useState(""),[p,g]=W.useState(null),[E,L]=W.useState({name:"",command:"",notes:"",skip_prompt:!1,terminal:!1,tmux_session_name:"",is_tmux_terminal:!1});W.useEffect(()=>{S&&f&&(z(S.name),c(""),d(S.variables||{}),_(S.steps||[]),y(null))},[S,f]);const m=async()=>{if(n.trim()&&!h[n]&&S?.id)try{w(!0),await wc(S.id,n,{key:n,value:o}),d(O=>({...O,[n]:o})),a(""),u("")}catch(O){console.error("Failed to add variable:",O),y("Failed to add variable")}finally{w(!1)}},M=async O=>{if(S?.id)try{w(!0),await E_(S.id,O),d(U=>{const k={...U};return delete k[O],k})}catch(U){console.error("Failed to delete variable:",U),y("Failed to delete variable")}finally{w(!1)}},q=async(O,U)=>{if(S?.id)try{await wc(S.id,O,{key:O,value:U}),d(k=>({...k,[O]:U}))}catch(k){console.error("Failed to update variable:",k),y("Failed to update variable")}},Y=async()=>{if(E.name.trim()&&E.command.trim()&&S?.id)try{w(!0);const O=await Vp({flow_id:S.id,name:E.name,command:E.command,notes:E.notes||"",skip_prompt:E.skip_prompt||!1,terminal:E.terminal||!1,tmux_session_name:E.tmux_session_name||"",is_tmux_terminal:E.is_tmux_terminal||!1,order_index:b.length});_(U=>[...U,{...E,id:O.id}]),L({name:"",command:"",notes:"",skip_prompt:!1,terminal:!1,tmux_session_name:"",is_tmux_terminal:!1})}catch(O){console.error("Failed to add step:",O),y("Failed to add step")}finally{w(!1)}},I=async O=>{const U=b[O];if(U.id)try{w(!0),await Gp(U.id),_(k=>k.filter((F,T)=>T!==O))}catch(k){console.error("Failed to delete step:",k),y("Failed to delete step")}finally{w(!1)}},K=async(O,U)=>{if(U.id)try{w(!0),await qp(U.id,{name:U.name,command:U.command,notes:U.notes||"",skip_prompt:U.skip_prompt||!1,terminal:U.terminal||!1,tmux_session_name:U.tmux_session_name||"",is_tmux_terminal:U.is_tmux_terminal||!1,order_index:O}),_(k=>k.map((F,T)=>T===O?U:F)),g(null)}catch(k){console.error("Failed to update step:",k),y("Failed to update step")}finally{w(!1)}},$=async()=>{if(B.trim()&&S?.id)try{w(!0),await Fp(S.id,{name:B,description:H,variables:h});const O={...S,name:B,variables:h,steps:b};R(O),G()}catch(O){console.error("Failed to update flow:",O),y("Failed to update flow")}finally{w(!1)}},G=()=>{z(""),c(""),d({}),_([]),a(""),u(""),L({name:"",command:"",notes:"",skip_prompt:!1,terminal:!1,tmux_session_name:"",is_tmux_terminal:!1}),g(null),y(null),A()};return!f||!S?null:C.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:C.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] bg-white dark:bg-slate-800 rounded-lg shadow-xl flex flex-col",children:[C.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:[C.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Edit Flow"}),C.jsx(Ce,{onClick:G,variant:"outline",size:"sm",className:"p-2",disabled:v,children:C.jsx(En,{className:"h-4 w-4"})})]}),x&&C.jsx("div",{className:"mx-6 mt-4 p-3 bg-red-50 dark:bg-red-950/30 rounded-md border border-red-200 dark:border-red-800",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(xn,{className:"h-4 w-4 text-red-600"}),C.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:x})]})}),C.jsx("div",{className:"flex-1 overflow-y-auto",children:C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs(pt,{children:[C.jsx(Bt,{children:C.jsxs(Yt,{className:"flex items-center gap-2",children:[C.jsx(V_,{className:"h-5 w-5"}),"Flow Details"]})}),C.jsx(gt,{children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Flow Name *"}),C.jsx("input",{type:"text",value:B,onChange:O=>z(O.target.value),placeholder:"Enter flow name",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:v})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description (Optional)"}),C.jsx("textarea",{value:H,onChange:O=>c(O.target.value),placeholder:"Enter flow description",rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:v})]})]})})]}),C.jsxs(pt,{children:[C.jsx(Bt,{children:C.jsxs(Yt,{className:"flex items-center gap-2",children:[C.jsx(wn,{className:"h-5 w-5"}),"Variables"]})}),C.jsx(gt,{children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:n,onChange:O=>a(O.target.value),placeholder:"Variable name",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:v}),C.jsx("input",{type:"text",value:o,onChange:O=>u(O.target.value),placeholder:"Default value",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:v}),C.jsxs(Ce,{onClick:m,disabled:!n.trim()||v,size:"sm",className:"flex items-center gap-1",children:[C.jsx(Cn,{className:"h-3 w-3"}),"Add"]})]}),Object.keys(h).length>0&&C.jsx("div",{className:"space-y-2",children:Object.entries(h).map(([O,U])=>C.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-900/50 rounded-md",children:[C.jsx(at,{variant:"outline",className:"min-w-fit",children:O}),C.jsx("input",{type:"text",value:U,onChange:k=>q(O,k.target.value),className:"flex-1 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:v}),C.jsx(Ce,{onClick:()=>M(O),variant:"outline",size:"sm",className:"p-1 text-red-600 hover:text-red-700",disabled:v,children:C.jsx(xs,{className:"h-3 w-3"})})]},O))})]})})]}),C.jsxs(pt,{children:[C.jsx(Bt,{children:C.jsxs(Yt,{className:"flex items-center gap-2",children:[C.jsx(_r,{className:"h-5 w-5"}),"Steps"]})}),C.jsx(gt,{children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"p-4 border border-slate-200 dark:border-slate-700 rounded-md space-y-3",children:[C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Step Name *"}),C.jsx("input",{type:"text",value:E.name,onChange:O=>L(U=>({...U,name:O.target.value})),placeholder:"Enter step name",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:v})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Command *"}),C.jsx("input",{type:"text",value:E.command,onChange:O=>L(U=>({...U,command:O.target.value})),placeholder:"Enter command",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:v})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),C.jsx("textarea",{value:E.notes,onChange:O=>L(U=>({...U,notes:O.target.value})),placeholder:"Enter step notes",rows:2,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:v})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("label",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"checkbox",checked:E.skip_prompt,onChange:O=>L(U=>({...U,skip_prompt:O.target.checked})),className:"rounded border-slate-300 dark:border-slate-600",disabled:v}),C.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Auto-run"})]}),C.jsxs("label",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"checkbox",checked:E.terminal,onChange:O=>L(U=>({...U,terminal:O.target.checked})),className:"rounded border-slate-300 dark:border-slate-600",disabled:v}),C.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[C.jsx(Gt,{className:"h-3 w-3"}),"Terminal mode"]})]})]}),E.terminal&&C.jsxs("div",{className:"space-y-3 p-3 bg-slate-100 dark:bg-slate-800 rounded-md border border-slate-200 dark:border-slate-600",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[C.jsx(Gt,{className:"h-4 w-4 text-blue-600"}),C.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Terminal Configuration"})]}),C.jsxs("label",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"checkbox",checked:E.is_tmux_terminal,onChange:O=>L(U=>({...U,is_tmux_terminal:O.target.checked})),className:"rounded border-slate-300 dark:border-slate-600",disabled:v}),C.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Use Tmux Terminal"})]}),E.is_tmux_terminal&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tmux Session Name"}),C.jsx("input",{type:"text",value:E.tmux_session_name,onChange:O=>L(U=>({...U,tmux_session_name:O.target.value})),placeholder:"e.g., dev-session, ${PROJECT_NAME}",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:v}),C.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["You can use variables like $","{","SESSION_NAME","}"," in the session name"]})]})]}),C.jsxs(Ce,{onClick:Y,disabled:!E.name.trim()||!E.command.trim()||v,className:"w-full flex items-center gap-1",children:[C.jsx(Cn,{className:"h-4 w-4"}),"Add Step"]})]}),b.length>0&&C.jsxs("div",{className:"space-y-3",children:[C.jsx(Hc,{}),C.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white",children:["Steps (",b.length,")"]}),b.map((O,U)=>C.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-md",children:p===U?C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsx("input",{type:"text",value:O.name,onChange:k=>{const F=[...b];F[U]={...O,name:k.target.value},_(F)},className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:v}),C.jsx("input",{type:"text",value:O.command,onChange:k=>{const F=[...b];F[U]={...O,command:k.target.value},_(F)},className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:v})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs(Ce,{onClick:()=>K(U,O),size:"sm",className:"flex items-center gap-1",disabled:v,children:[C.jsx(Wg,{className:"h-3 w-3"}),"Save"]}),C.jsx(Ce,{onClick:()=>g(null),variant:"outline",size:"sm",disabled:v,children:"Cancel"})]})]}):C.jsxs("div",{className:"flex items-start justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx(at,{variant:"outline",className:"text-xs",children:U+1}),C.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:O.name}),O.skip_prompt&&C.jsx(at,{className:"text-xs",children:"Auto-run"}),O.terminal&&C.jsxs(at,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[C.jsx(Gt,{className:"h-2 w-2"}),O.is_tmux_terminal?"Tmux":"Terminal"]}),O.is_tmux_terminal&&O.tmux_session_name&&C.jsxs(at,{variant:"outline",className:"text-xs",children:["Session: ",O.tmux_session_name]})]}),C.jsx("code",{className:"text-xs bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 px-2 py-1 rounded font-mono",children:O.command}),O.notes&&C.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:O.notes})]}),C.jsxs("div",{className:"flex gap-1",children:[C.jsx(Ce,{onClick:()=>g(U),variant:"outline",size:"sm",className:"p-1",disabled:v,children:C.jsx(zc,{className:"h-3 w-3"})}),C.jsx(Ce,{onClick:()=>I(U),variant:"outline",size:"sm",className:"p-1 text-red-600 hover:text-red-700",disabled:v,children:C.jsx(xs,{className:"h-3 w-3"})})]})]})},U))]})]})})]})]})}),C.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-slate-200 dark:border-slate-700 flex-shrink-0",children:[C.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[b.length," step",b.length!==1?"s":"","  ",Object.keys(h).length," variable",Object.keys(h).length!==1?"s":""]}),C.jsxs("div",{className:"flex gap-3",children:[C.jsx(Ce,{onClick:G,variant:"outline",disabled:v,children:"Cancel"}),C.jsxs(Ce,{onClick:$,disabled:!B.trim()||v,className:"flex items-center gap-2",children:[C.jsx(Uc,{className:"h-4 w-4"}),v?"Saving...":"Save Changes"]})]})]})]})})},s_=()=>{const[f,A]=W.useState([]),[R,S]=W.useState(!0),[B,z]=W.useState(null),[H,c]=W.useState(!1),[h,d]=W.useState(!1),[b,_]=W.useState(null),[v,w]=W.useState(null),[x,y]=W.useState(null),[n,a]=W.useState(null),[o,u]=W.useState(!1),[p,g]=W.useState(null);W.useEffect(()=>{ys().then(A).catch($=>z($.message)).finally(()=>S(!1))},[]);const E=async $=>{console.log("Creating new flow:",$);try{const G={name:$.name,variables:$.variables,steps:$.steps.map(U=>({name:U.name,command:U.command,notes:U.notes||"",skip_prompt:U.skip_prompt||!1,terminal:U.terminal||!1,tmux_session_name:U.tmux_session_name||"",is_tmux_terminal:U.is_tmux_terminal||!1}))};await Pp(G);const O=await ys();A(O),console.log("Flow created successfully")}catch(G){console.error("Failed to create flow:",G),z("Failed to create flow. Please try again.")}},L=$=>{_($),d(!0)},m=async $=>{try{const G=await ys();A(G);const O=G.find(U=>U.id===$.id);O&&_(O),console.log("Flow updated successfully")}catch(G){console.error("Failed to refresh flows after update:",G),z("Failed to refresh flows. Please reload the page.")}},M=async($,G)=>{if(confirm(`Are you sure you want to delete "${G}"? This action cannot be undone.`))try{w($),await Ip($),A(O=>O.filter(U=>U.id!==$)),console.log("Flow deleted successfully")}catch(O){console.error("Failed to delete flow:",O),z("Failed to delete flow. Please try again.")}finally{w(null)}},q=async($,G)=>{try{y($);const O=await Yp($),U=window.URL.createObjectURL(O),k=document.createElement("a");k.href=U,k.download=`${G}-flow-export.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),window.URL.revokeObjectURL(U),console.log(`Flow ${G} exported successfully`)}catch(O){console.error("Failed to export flow:",O),z(O instanceof Error?O.message:"Failed to export flow")}finally{y(null)}},Y=$=>{const G=$.target.files?.[0];G&&G.type==="application/json"?(a(G),g(null)):z("Please select a valid JSON file")},I=async()=>{if(n)try{u(!0),z(null);const $=await n.text(),G=JSON.parse($),O=await Kp(G);g(O.message),await ys(),a(null),console.log("Flow imported successfully:",O)}catch($){console.error("Failed to import flow:",$),z($ instanceof Error?$.message:"Failed to import flow")}finally{u(!1)}},K=$=>{const G=$.filter(U=>U.terminal).length,O=$.filter(U=>!U.terminal).length;return{terminalSteps:G,commandSteps:O}};return R?C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:C.jsxs("div",{className:"flex flex-col items-center gap-4",children:[C.jsx(ri,{className:"h-8 w-8 animate-spin text-blue-600"}),C.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Loading flows..."})]})}):B?C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:C.jsxs(pt,{className:"max-w-md mx-auto border-red-200 dark:border-red-800",children:[C.jsx(Bt,{children:C.jsxs(Yt,{className:"text-red-600 dark:text-red-400 flex items-center gap-2",children:[C.jsx(xn,{className:"h-5 w-5"}),"Error"]})}),C.jsxs(gt,{children:[C.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:B}),C.jsx(Ce,{onClick:()=>{z(null),S(!0),ys().then(A).catch($=>z($.message)).finally(()=>S(!1))},className:"w-full",children:"Try Again"})]})]})}):C.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[C.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[C.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:C.jsx(i_,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),C.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"DevFlow"})]}),C.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-lg",children:"Manage your development workflows with ease"})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"file",accept:".json",onChange:Y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),C.jsxs(Ce,{variant:"outline",className:"flex items-center gap-2",disabled:o,children:[o?C.jsx(ri,{className:"h-4 w-4 animate-spin"}):C.jsx(wb,{className:"h-4 w-4"}),"Import Flow"]})]}),n&&C.jsx(Ce,{onClick:I,disabled:o,className:"bg-green-600 hover:bg-green-700 text-white",children:o?C.jsxs(C.Fragment,{children:[C.jsx(ri,{className:"h-4 w-4 mr-2 animate-spin"}),"Importing..."]}):C.jsxs(C.Fragment,{children:[C.jsx(Rc,{className:"h-4 w-4 mr-2"}),"Import ",n.name]})}),C.jsxs(Ce,{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",onClick:()=>c(!0),children:[C.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Create New Flow"]})]})]}),p&&C.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:C.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[C.jsx(Rc,{className:"h-5 w-5"}),C.jsx("span",{className:"font-medium",children:p})]})}),B&&C.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:C.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[C.jsx(xn,{className:"h-5 w-5"}),C.jsx("span",{className:"font-medium",children:B}),C.jsx(Ce,{onClick:()=>z(null),variant:"ghost",size:"sm",className:"ml-auto text-red-600 hover:text-red-800",children:""})]})}),f.length>0?C.jsxs(pt,{className:"overflow-hidden shadow-lg border-0 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[C.jsxs(Bt,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 border-b",children:[C.jsxs(Yt,{className:"text-xl text-slate-900 dark:text-white",children:["Workflows (",f.length,")"]}),C.jsx(Xa,{children:"Select a workflow to view details and execute steps"})]}),C.jsx(gt,{className:"p-0",children:C.jsxs("div",{className:"overflow-x-auto",children:[C.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 text-sm font-medium text-slate-600 dark:text-slate-300",children:[C.jsx("div",{className:"col-span-3",children:"Flow Name"}),C.jsx("div",{className:"col-span-2",children:"Steps"}),C.jsx("div",{className:"col-span-2",children:"Variables"}),C.jsx("div",{className:"col-span-2",children:"Types"}),C.jsx("div",{className:"col-span-3 text-right",children:"Actions"})]}),C.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:f.map(($,G)=>{const{terminalSteps:O,commandSteps:U}=K($.steps),k=Object.keys($.variables).length,F=v===$.id;return C.jsxs("div",{className:`grid grid-cols-12 gap-4 px-6 py-4 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors duration-150 ${F?"opacity-50":""}`,children:[C.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:C.jsx(Dc,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:$.name}),C.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Workflow"})]})]}),C.jsx("div",{className:"col-span-2 flex items-center",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(ib,{className:"h-4 w-4 text-slate-500"}),C.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:$.steps.length}),C.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"steps"})]})}),C.jsx("div",{className:"col-span-2 flex items-center",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(wn,{className:"h-4 w-4 text-slate-500"}),C.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:k}),C.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"vars"})]})}),C.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[U>0&&C.jsxs(at,{variant:"outline",className:"text-xs flex items-center gap-1",children:[C.jsx(q_,{className:"h-3 w-3"}),U]}),O>0&&C.jsxs(at,{variant:"outline",className:"text-xs flex items-center gap-1",children:[C.jsx(Gt,{className:"h-3 w-3"}),O]})]}),C.jsxs("div",{className:"col-span-3 flex items-center justify-end gap-2",children:[C.jsx(Ss,{to:`/flow/${encodeURIComponent($.name)}`,children:C.jsxs(Ce,{variant:"outline",size:"sm",className:"flex items-center gap-2 hover:bg-slate-100 dark:hover:bg-slate-700",disabled:F,children:[C.jsx(lb,{className:"h-3 w-3"}),"View"]})}),C.jsxs(Ce,{onClick:()=>L($),variant:"outline",size:"sm",className:"flex items-center gap-2 hover:bg-slate-100 dark:hover:bg-slate-700",disabled:F,children:[C.jsx(zc,{className:"h-3 w-3"}),"Edit"]}),C.jsx(Ss,{to:`/flow/${encodeURIComponent($.name)}`,children:C.jsxs(Ce,{size:"sm",className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white",disabled:F,children:[C.jsx(_r,{className:"h-3 w-3"}),"Execute"]})}),C.jsxs(Ce,{onClick:()=>$.id&&q($.id,$.name),variant:"outline",size:"sm",className:"flex items-center gap-2 text-slate-600 hover:text-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700/30",disabled:x===$.id||F||!$.id,children:[x===$.id?C.jsx(ri,{className:"h-3 w-3 animate-spin"}):C.jsx(nb,{className:"h-3 w-3"}),x===$.id?"Exporting...":"Export"]}),C.jsxs(Ce,{onClick:()=>$.id&&M($.id,$.name),variant:"outline",size:"sm",className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",disabled:F||!$.id,children:[F?C.jsx(ri,{className:"h-3 w-3 animate-spin"}):C.jsx(xs,{className:"h-3 w-3"}),F?"Deleting...":"Delete"]})]})]},G)})})]})})]}):C.jsx(pt,{className:"max-w-2xl mx-auto text-center border-dashed border-2 border-slate-300 dark:border-slate-600 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:C.jsx(gt,{className:"p-12",children:C.jsxs("div",{className:"flex flex-col items-center gap-4",children:[C.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 rounded-full",children:C.jsx(i_,{className:"h-12 w-12 text-slate-400"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"No workflows found"}),C.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Create your first workflow to get started with automated development tasks."}),C.jsxs(Ce,{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:[C.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Create Your First Flow"]})]})]})})})]}),C.jsx(Rb,{isOpen:H,onClose:()=>c(!1),onSubmit:E}),C.jsx(Db,{isOpen:h,onClose:()=>{d(!1),_(null)},onSubmit:m,flow:b})]})};function Tb({className:f,type:A,...R}){return C.jsx("input",{type:A,"data-slot":"input",className:kt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",f),...R})}var yc={exports:{}},r_;function Mb(){return r_||(r_=1,function(f,A){(function(R,S){f.exports=S()})(self,()=>(()=>{var R={4567:function(H,c,h){var d=this&&this.__decorate||function(u,p,g,E){var L,m=arguments.length,M=m<3?p:E===null?E=Object.getOwnPropertyDescriptor(p,g):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(u,p,g,E);else for(var q=u.length-1;q>=0;q--)(L=u[q])&&(M=(m<3?L(M):m>3?L(p,g,M):L(p,g))||M);return m>3&&M&&Object.defineProperty(p,g,M),M},b=this&&this.__param||function(u,p){return function(g,E){p(g,E,u)}};Object.defineProperty(c,"__esModule",{value:!0}),c.AccessibilityManager=void 0;const _=h(9042),v=h(6114),w=h(9924),x=h(844),y=h(5596),n=h(4725),a=h(3656);let o=c.AccessibilityManager=class extends x.Disposable{constructor(u,p){super(),this._terminal=u,this._renderService=p,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let g=0;g<this._terminal.rows;g++)this._rowElements[g]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[g]);if(this._topBoundaryFocusListener=g=>this._handleBoundaryFocus(g,0),this._bottomBoundaryFocusListener=g=>this._handleBoundaryFocus(g,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new w.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(g=>this._handleResize(g.rows))),this.register(this._terminal.onRender(g=>this._refreshRows(g.start,g.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(g=>this._handleChar(g))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(g=>this._handleTab(g))),this.register(this._terminal.onKey(g=>this._handleKey(g.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new y.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,a.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,x.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(u){for(let p=0;p<u;p++)this._handleChar(" ")}_handleChar(u){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==u&&(this._charsToAnnounce+=u):this._charsToAnnounce+=u,u===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=_.tooMuchOutput)),v.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,v.isMac&&this._liveRegion.remove()}_handleKey(u){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(u)||this._charsToConsume.push(u)}_refreshRows(u,p){this._liveRegionDebouncer.refresh(u,p,this._terminal.rows)}_renderRows(u,p){const g=this._terminal.buffer,E=g.lines.length.toString();for(let L=u;L<=p;L++){const m=g.translateBufferLineToString(g.ydisp+L,!0),M=(g.ydisp+L+1).toString(),q=this._rowElements[L];q&&(m.length===0?q.innerText="":q.textContent=m,q.setAttribute("aria-posinset",M),q.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(u,p){const g=u.target,E=this._rowElements[p===0?1:this._rowElements.length-2];if(g.getAttribute("aria-posinset")===(p===0?"1":`${this._terminal.buffer.lines.length}`)||u.relatedTarget!==E)return;let L,m;if(p===0?(L=g,m=this._rowElements.pop(),this._rowContainer.removeChild(m)):(L=this._rowElements.shift(),m=g,this._rowContainer.removeChild(L)),L.removeEventListener("focus",this._topBoundaryFocusListener),m.removeEventListener("focus",this._bottomBoundaryFocusListener),p===0){const M=this._createAccessibilityTreeNode();this._rowElements.unshift(M),this._rowContainer.insertAdjacentElement("afterbegin",M)}else{const M=this._createAccessibilityTreeNode();this._rowElements.push(M),this._rowContainer.appendChild(M)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(p===0?-1:1),this._rowElements[p===0?1:this._rowElements.length-2].focus(),u.preventDefault(),u.stopImmediatePropagation()}_handleResize(u){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let p=this._rowContainer.children.length;p<this._terminal.rows;p++)this._rowElements[p]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[p]);for(;this._rowElements.length>u;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const u=document.createElement("div");return u.setAttribute("role","listitem"),u.tabIndex=-1,this._refreshRowDimensions(u),u}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let u=0;u<this._terminal.rows;u++)this._refreshRowDimensions(this._rowElements[u])}}_refreshRowDimensions(u){u.style.height=`${this._renderService.dimensions.css.cell.height}px`}};c.AccessibilityManager=o=d([b(1,n.IRenderService)],o)},3614:(H,c)=>{function h(v){return v.replace(/\r?\n/g,"\r")}function d(v,w){return w?"\x1B[200~"+v+"\x1B[201~":v}function b(v,w,x,y){v=d(v=h(v),x.decPrivateModes.bracketedPasteMode&&y.rawOptions.ignoreBracketedPasteMode!==!0),x.triggerDataEvent(v,!0),w.value=""}function _(v,w,x){const y=x.getBoundingClientRect(),n=v.clientX-y.left-10,a=v.clientY-y.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${n}px`,w.style.top=`${a}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(c,"__esModule",{value:!0}),c.rightClickHandler=c.moveTextAreaUnderMouseCursor=c.paste=c.handlePasteEvent=c.copyHandler=c.bracketTextForPaste=c.prepareTextForTerminal=void 0,c.prepareTextForTerminal=h,c.bracketTextForPaste=d,c.copyHandler=function(v,w){v.clipboardData&&v.clipboardData.setData("text/plain",w.selectionText),v.preventDefault()},c.handlePasteEvent=function(v,w,x,y){v.stopPropagation(),v.clipboardData&&b(v.clipboardData.getData("text/plain"),w,x,y)},c.paste=b,c.moveTextAreaUnderMouseCursor=_,c.rightClickHandler=function(v,w,x,y,n){_(v,w,x),n&&y.rightClickSelect(v),w.value=y.selectionText,w.select()}},7239:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorContrastCache=void 0;const d=h(1505);c.ColorContrastCache=class{constructor(){this._color=new d.TwoKeyMap,this._css=new d.TwoKeyMap}setCss(b,_,v){this._css.set(b,_,v)}getCss(b,_){return this._css.get(b,_)}setColor(b,_,v){this._color.set(b,_,v)}getColor(b,_){return this._color.get(b,_)}clear(){this._color.clear(),this._css.clear()}}},3656:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.addDisposableDomListener=void 0,c.addDisposableDomListener=function(h,d,b,_){h.addEventListener(d,b,_);let v=!1;return{dispose:()=>{v||(v=!0,h.removeEventListener(d,b,_))}}}},6465:function(H,c,h){var d=this&&this.__decorate||function(n,a,o,u){var p,g=arguments.length,E=g<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,o):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(n,a,o,u);else for(var L=n.length-1;L>=0;L--)(p=n[L])&&(E=(g<3?p(E):g>3?p(a,o,E):p(a,o))||E);return g>3&&E&&Object.defineProperty(a,o,E),E},b=this&&this.__param||function(n,a){return function(o,u){a(o,u,n)}};Object.defineProperty(c,"__esModule",{value:!0}),c.Linkifier2=void 0;const _=h(3656),v=h(8460),w=h(844),x=h(2585);let y=c.Linkifier2=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(n){super(),this._bufferService=n,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(n){return this._linkProviders.push(n),{dispose:()=>{const a=this._linkProviders.indexOf(n);a!==-1&&this._linkProviders.splice(a,1)}}}attachToDom(n,a,o){this._element=n,this._mouseService=a,this._renderService=o,this.register((0,_.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,_.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,_.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,_.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(n){if(this._lastMouseEvent=n,!this._element||!this._mouseService)return;const a=this._positionFromMouseEvent(n,this._element,this._mouseService);if(!a)return;this._isMouseOut=!1;const o=n.composedPath();for(let u=0;u<o.length;u++){const p=o[u];if(p.classList.contains("xterm"))break;if(p.classList.contains("xterm-hover"))return}this._lastBufferCell&&a.x===this._lastBufferCell.x&&a.y===this._lastBufferCell.y||(this._handleHover(a),this._lastBufferCell=a)}_handleHover(n){if(this._activeLine!==n.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(n,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,n)||(this._clearCurrentLink(),this._askForLink(n,!0))}_askForLink(n,a){var o,u;this._activeProviderReplies&&a||((o=this._activeProviderReplies)===null||o===void 0||o.forEach(g=>{g?.forEach(E=>{E.link.dispose&&E.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=n.y);let p=!1;for(const[g,E]of this._linkProviders.entries())a?!((u=this._activeProviderReplies)===null||u===void 0)&&u.get(g)&&(p=this._checkLinkProviderResult(g,n,p)):E.provideLinks(n.y,L=>{var m,M;if(this._isMouseOut)return;const q=L?.map(Y=>({link:Y}));(m=this._activeProviderReplies)===null||m===void 0||m.set(g,q),p=this._checkLinkProviderResult(g,n,p),((M=this._activeProviderReplies)===null||M===void 0?void 0:M.size)===this._linkProviders.length&&this._removeIntersectingLinks(n.y,this._activeProviderReplies)})}_removeIntersectingLinks(n,a){const o=new Set;for(let u=0;u<a.size;u++){const p=a.get(u);if(p)for(let g=0;g<p.length;g++){const E=p[g],L=E.link.range.start.y<n?0:E.link.range.start.x,m=E.link.range.end.y>n?this._bufferService.cols:E.link.range.end.x;for(let M=L;M<=m;M++){if(o.has(M)){p.splice(g--,1);break}o.add(M)}}}}_checkLinkProviderResult(n,a,o){var u;if(!this._activeProviderReplies)return o;const p=this._activeProviderReplies.get(n);let g=!1;for(let E=0;E<n;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(g=!0);if(!g&&p){const E=p.find(L=>this._linkAtPosition(L.link,a));E&&(o=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviders.length&&!o)for(let E=0;E<this._activeProviderReplies.size;E++){const L=(u=this._activeProviderReplies.get(E))===null||u===void 0?void 0:u.find(m=>this._linkAtPosition(m.link,a));if(L){o=!0,this._handleNewLink(L);break}}return o}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(n){if(!this._element||!this._mouseService||!this._currentLink)return;const a=this._positionFromMouseEvent(n,this._element,this._mouseService);a&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,a)&&this._currentLink.link.activate(n,this._currentLink.link.text)}_clearCurrentLink(n,a){this._element&&this._currentLink&&this._lastMouseEvent&&(!n||!a||this._currentLink.link.range.start.y>=n&&this._currentLink.link.range.end.y<=a)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(n){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const a=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);a&&this._linkAtPosition(n.link,a)&&(this._currentLink=n,this._currentLink.state={decorations:{underline:n.link.decorations===void 0||n.link.decorations.underline,pointerCursor:n.link.decorations===void 0||n.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,n.link,this._lastMouseEvent),n.link.decorations={},Object.defineProperties(n.link.decorations,{pointerCursor:{get:()=>{var o,u;return(u=(o=this._currentLink)===null||o===void 0?void 0:o.state)===null||u===void 0?void 0:u.decorations.pointerCursor},set:o=>{var u,p;!((u=this._currentLink)===null||u===void 0)&&u.state&&this._currentLink.state.decorations.pointerCursor!==o&&(this._currentLink.state.decorations.pointerCursor=o,this._currentLink.state.isHovered&&((p=this._element)===null||p===void 0||p.classList.toggle("xterm-cursor-pointer",o)))}},underline:{get:()=>{var o,u;return(u=(o=this._currentLink)===null||o===void 0?void 0:o.state)===null||u===void 0?void 0:u.decorations.underline},set:o=>{var u,p,g;!((u=this._currentLink)===null||u===void 0)&&u.state&&((g=(p=this._currentLink)===null||p===void 0?void 0:p.state)===null||g===void 0?void 0:g.decorations.underline)!==o&&(this._currentLink.state.decorations.underline=o,this._currentLink.state.isHovered&&this._fireUnderlineEvent(n.link,o))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(o=>{if(!this._currentLink)return;const u=o.start===0?0:o.start+1+this._bufferService.buffer.ydisp,p=this._bufferService.buffer.ydisp+1+o.end;if(this._currentLink.link.range.start.y>=u&&this._currentLink.link.range.end.y<=p&&(this._clearCurrentLink(u,p),this._lastMouseEvent&&this._element)){const g=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);g&&this._askForLink(g,!1)}})))}_linkHover(n,a,o){var u;!((u=this._currentLink)===null||u===void 0)&&u.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!0),this._currentLink.state.decorations.pointerCursor&&n.classList.add("xterm-cursor-pointer")),a.hover&&a.hover(o,a.text)}_fireUnderlineEvent(n,a){const o=n.range,u=this._bufferService.buffer.ydisp,p=this._createLinkUnderlineEvent(o.start.x-1,o.start.y-u-1,o.end.x,o.end.y-u-1,void 0);(a?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(p)}_linkLeave(n,a,o){var u;!((u=this._currentLink)===null||u===void 0)&&u.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!1),this._currentLink.state.decorations.pointerCursor&&n.classList.remove("xterm-cursor-pointer")),a.leave&&a.leave(o,a.text)}_linkAtPosition(n,a){const o=n.range.start.y*this._bufferService.cols+n.range.start.x,u=n.range.end.y*this._bufferService.cols+n.range.end.x,p=a.y*this._bufferService.cols+a.x;return o<=p&&p<=u}_positionFromMouseEvent(n,a,o){const u=o.getCoords(n,a,this._bufferService.cols,this._bufferService.rows);if(u)return{x:u[0],y:u[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(n,a,o,u,p){return{x1:n,y1:a,x2:o,y2:u,cols:this._bufferService.cols,fg:p}}};c.Linkifier2=y=d([b(0,x.IBufferService)],y)},9042:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tooMuchOutput=c.promptLabel=void 0,c.promptLabel="Terminal input",c.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(H,c,h){var d=this&&this.__decorate||function(y,n,a,o){var u,p=arguments.length,g=p<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(y,n,a,o);else for(var E=y.length-1;E>=0;E--)(u=y[E])&&(g=(p<3?u(g):p>3?u(n,a,g):u(n,a))||g);return p>3&&g&&Object.defineProperty(n,a,g),g},b=this&&this.__param||function(y,n){return function(a,o){n(a,o,y)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OscLinkProvider=void 0;const _=h(511),v=h(2585);let w=c.OscLinkProvider=class{constructor(y,n,a){this._bufferService=y,this._optionsService=n,this._oscLinkService=a}provideLinks(y,n){var a;const o=this._bufferService.buffer.lines.get(y-1);if(!o)return void n(void 0);const u=[],p=this._optionsService.rawOptions.linkHandler,g=new _.CellData,E=o.getTrimmedLength();let L=-1,m=-1,M=!1;for(let q=0;q<E;q++)if(m!==-1||o.hasContent(q)){if(o.loadCell(q,g),g.hasExtendedAttrs()&&g.extended.urlId){if(m===-1){m=q,L=g.extended.urlId;continue}M=g.extended.urlId!==L}else m!==-1&&(M=!0);if(M||m!==-1&&q===E-1){const Y=(a=this._oscLinkService.getLinkData(L))===null||a===void 0?void 0:a.uri;if(Y){const I={start:{x:m+1,y},end:{x:q+(M||q!==E-1?0:1),y}};let K=!1;if(!p?.allowNonHttpProtocols)try{const $=new URL(Y);["http:","https:"].includes($.protocol)||(K=!0)}catch{K=!0}K||u.push({text:Y,range:I,activate:($,G)=>p?p.activate($,G,I):x(0,G),hover:($,G)=>{var O;return(O=p?.hover)===null||O===void 0?void 0:O.call(p,$,G,I)},leave:($,G)=>{var O;return(O=p?.leave)===null||O===void 0?void 0:O.call(p,$,G,I)}})}M=!1,g.hasExtendedAttrs()&&g.extended.urlId?(m=q,L=g.extended.urlId):(m=-1,L=-1)}}n(u)}};function x(y,n){if(confirm(`Do you want to navigate to ${n}?

WARNING: This link could potentially be dangerous`)){const a=window.open();if(a){try{a.opener=null}catch{}a.location.href=n}else console.warn("Opening link blocked as opener could not be cleared")}}c.OscLinkProvider=w=d([b(0,v.IBufferService),b(1,v.IOptionsService),b(2,v.IOscLinkService)],w)},6193:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RenderDebouncer=void 0,c.RenderDebouncer=class{constructor(h,d){this._parentWindow=h,this._renderCallback=d,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(h){return this._refreshCallbacks.push(h),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(h,d,b){this._rowCount=b,h=h!==void 0?h:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const h=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,d),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const h of this._refreshCallbacks)h(0);this._refreshCallbacks=[]}}},5596:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ScreenDprMonitor=void 0;const d=h(844);class b extends d.Disposable{constructor(v){super(),this._parentWindow=v,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,d.toDisposable)(()=>{this.clearListener()}))}setListener(v){this._listener&&this.clearListener(),this._listener=v,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var v;this._outerListener&&((v=this._resolutionMediaMatchList)===null||v===void 0||v.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}c.ScreenDprMonitor=b},3236:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Terminal=void 0;const d=h(3614),b=h(3656),_=h(6465),v=h(9042),w=h(3730),x=h(1680),y=h(3107),n=h(5744),a=h(2950),o=h(1296),u=h(428),p=h(4269),g=h(5114),E=h(8934),L=h(3230),m=h(9312),M=h(4725),q=h(6731),Y=h(8055),I=h(8969),K=h(8460),$=h(844),G=h(6114),O=h(8437),U=h(2584),k=h(7399),F=h(5941),T=h(9074),P=h(2585),J=h(5435),te=h(4567),oe=typeof window<"u"?window.document:null;class he extends I.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(N={}){super(N),this.browser=G,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new $.MutableDisposable),this._onCursorMove=this.register(new K.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new K.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new K.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new K.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new K.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new K.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new K.EventEmitter),this._onBlur=this.register(new K.EventEmitter),this._onA11yCharEmitter=this.register(new K.EventEmitter),this._onA11yTabEmitter=this.register(new K.EventEmitter),this._onWillOpen=this.register(new K.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(_.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(T.DecorationService),this._instantiationService.setService(P.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((Z,ne)=>this.refresh(Z,ne))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(Z=>this._reportWindowsOptions(Z))),this.register(this._inputHandler.onColor(Z=>this._handleColorEvent(Z))),this.register((0,K.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,K.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,K.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,K.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(Z=>this._afterResize(Z.cols,Z.rows))),this.register((0,$.toDisposable)(()=>{var Z,ne;this._customKeyEventHandler=void 0,(ne=(Z=this.element)===null||Z===void 0?void 0:Z.parentNode)===null||ne===void 0||ne.removeChild(this.element)}))}_handleColorEvent(N){if(this._themeService)for(const Z of N){let ne,ae="";switch(Z.index){case 256:ne="foreground",ae="10";break;case 257:ne="background",ae="11";break;case 258:ne="cursor",ae="12";break;default:ne="ansi",ae="4;"+Z.index}switch(Z.type){case 0:const be=Y.color.toColorRGB(ne==="ansi"?this._themeService.colors.ansi[Z.index]:this._themeService.colors[ne]);this.coreService.triggerDataEvent(`${U.C0.ESC}]${ae};${(0,F.toRgbString)(be)}${U.C1_ESCAPED.ST}`);break;case 1:if(ne==="ansi")this._themeService.modifyColors(de=>de.ansi[Z.index]=Y.rgba.toColor(...Z.color));else{const de=ne;this._themeService.modifyColors(Me=>Me[de]=Y.rgba.toColor(...Z.color))}break;case 2:this._themeService.restoreColor(Z.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(N){N?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(te.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(N){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(U.C0.ESC+"[I"),this.updateCursorStyle(N),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var N;return(N=this.textarea)===null||N===void 0?void 0:N.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(U.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const N=this.buffer.ybase+this.buffer.y,Z=this.buffer.lines.get(N);if(!Z)return;const ne=Math.min(this.buffer.x,this.cols-1),ae=this._renderService.dimensions.css.cell.height,be=Z.getWidth(ne),de=this._renderService.dimensions.css.cell.width*be,Me=this.buffer.y*this._renderService.dimensions.css.cell.height,Xe=ne*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Xe+"px",this.textarea.style.top=Me+"px",this.textarea.style.width=de+"px",this.textarea.style.height=ae+"px",this.textarea.style.lineHeight=ae+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,b.addDisposableDomListener)(this.element,"copy",Z=>{this.hasSelection()&&(0,d.copyHandler)(Z,this._selectionService)}));const N=Z=>(0,d.handlePasteEvent)(Z,this.textarea,this.coreService,this.optionsService);this.register((0,b.addDisposableDomListener)(this.textarea,"paste",N)),this.register((0,b.addDisposableDomListener)(this.element,"paste",N)),G.isFirefox?this.register((0,b.addDisposableDomListener)(this.element,"mousedown",Z=>{Z.button===2&&(0,d.rightClickHandler)(Z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,b.addDisposableDomListener)(this.element,"contextmenu",Z=>{(0,d.rightClickHandler)(Z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),G.isLinux&&this.register((0,b.addDisposableDomListener)(this.element,"auxclick",Z=>{Z.button===1&&(0,d.moveTextAreaUnderMouseCursor)(Z,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,b.addDisposableDomListener)(this.textarea,"keyup",N=>this._keyUp(N),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"keydown",N=>this._keyDown(N),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"keypress",N=>this._keyPress(N),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionupdate",N=>this._compositionHelper.compositionupdate(N))),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,b.addDisposableDomListener)(this.textarea,"input",N=>this._inputEvent(N),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(N){var Z;if(!N)throw new Error("Terminal requires a parent element.");N.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=N.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),N.appendChild(this.element);const ne=oe.createDocumentFragment();this._viewportElement=oe.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ne.appendChild(this._viewportElement),this._viewportScrollArea=oe.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=oe.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=oe.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ne.appendChild(this.screenElement),this.textarea=oe.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),G.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(g.CoreBrowserService,this.textarea,(Z=this._document.defaultView)!==null&&Z!==void 0?Z:window),this._instantiationService.setService(M.ICoreBrowserService,this._coreBrowserService),this.register((0,b.addDisposableDomListener)(this.textarea,"focus",ae=>this._handleTextAreaFocus(ae))),this.register((0,b.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(u.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(M.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(q.ThemeService),this._instantiationService.setService(M.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(p.CharacterJoinerService),this._instantiationService.setService(M.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(L.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(M.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(ae=>this._onRender.fire(ae))),this.onResize(ae=>this._renderService.resize(ae.cols,ae.rows)),this._compositionView=oe.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(a.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ne);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(E.MouseService),this._instantiationService.setService(M.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(x.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(ae=>this.scrollLines(ae.amount,ae.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(m.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(M.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(ae=>this.scrollLines(ae.amount,ae.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(ae=>this._renderService.handleSelectionChanged(ae.start,ae.end,ae.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(ae=>{this.textarea.value=ae,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(ae=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,b.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(y.BufferDecorationRenderer,this.screenElement)),this.register((0,b.addDisposableDomListener)(this.element,"mousedown",ae=>this._selectionService.handleMouseDown(ae))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(te.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",ae=>this._handleScreenReaderModeOptionChange(ae))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",ae=>{!this._overviewRulerRenderer&&ae&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(o.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const N=this,Z=this.element;function ne(de){const Me=N._mouseService.getMouseReportCoords(de,N.screenElement);if(!Me)return!1;let Xe,ft;switch(de.overrideType||de.type){case"mousemove":ft=32,de.buttons===void 0?(Xe=3,de.button!==void 0&&(Xe=de.button<3?de.button:3)):Xe=1&de.buttons?0:4&de.buttons?1:2&de.buttons?2:3;break;case"mouseup":ft=0,Xe=de.button<3?de.button:3;break;case"mousedown":ft=1,Xe=de.button<3?de.button:3;break;case"wheel":if(N.viewport.getLinesScrolled(de)===0)return!1;ft=de.deltaY<0?0:1,Xe=4;break;default:return!1}return!(ft===void 0||Xe===void 0||Xe>4)&&N.coreMouseService.triggerMouseEvent({col:Me.col,row:Me.row,x:Me.x,y:Me.y,button:Xe,action:ft,ctrl:de.ctrlKey,alt:de.altKey,shift:de.shiftKey})}const ae={mouseup:null,wheel:null,mousedrag:null,mousemove:null},be={mouseup:de=>(ne(de),de.buttons||(this._document.removeEventListener("mouseup",ae.mouseup),ae.mousedrag&&this._document.removeEventListener("mousemove",ae.mousedrag)),this.cancel(de)),wheel:de=>(ne(de),this.cancel(de,!0)),mousedrag:de=>{de.buttons&&ne(de)},mousemove:de=>{de.buttons||ne(de)}};this.register(this.coreMouseService.onProtocolChange(de=>{de?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(de)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&de?ae.mousemove||(Z.addEventListener("mousemove",be.mousemove),ae.mousemove=be.mousemove):(Z.removeEventListener("mousemove",ae.mousemove),ae.mousemove=null),16&de?ae.wheel||(Z.addEventListener("wheel",be.wheel,{passive:!1}),ae.wheel=be.wheel):(Z.removeEventListener("wheel",ae.wheel),ae.wheel=null),2&de?ae.mouseup||(Z.addEventListener("mouseup",be.mouseup),ae.mouseup=be.mouseup):(this._document.removeEventListener("mouseup",ae.mouseup),Z.removeEventListener("mouseup",ae.mouseup),ae.mouseup=null),4&de?ae.mousedrag||(ae.mousedrag=be.mousedrag):(this._document.removeEventListener("mousemove",ae.mousedrag),ae.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,b.addDisposableDomListener)(Z,"mousedown",de=>{if(de.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(de))return ne(de),ae.mouseup&&this._document.addEventListener("mouseup",ae.mouseup),ae.mousedrag&&this._document.addEventListener("mousemove",ae.mousedrag),this.cancel(de)})),this.register((0,b.addDisposableDomListener)(Z,"wheel",de=>{if(!ae.wheel){if(!this.buffer.hasScrollback){const Me=this.viewport.getLinesScrolled(de);if(Me===0)return;const Xe=U.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(de.deltaY<0?"A":"B");let ft="";for(let ki=0;ki<Math.abs(Me);ki++)ft+=Xe;return this.coreService.triggerDataEvent(ft,!0),this.cancel(de,!0)}return this.viewport.handleWheel(de)?this.cancel(de):void 0}},{passive:!1})),this.register((0,b.addDisposableDomListener)(Z,"touchstart",de=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(de),this.cancel(de)},{passive:!0})),this.register((0,b.addDisposableDomListener)(Z,"touchmove",de=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(de)?void 0:this.cancel(de)},{passive:!1}))}refresh(N,Z){var ne;(ne=this._renderService)===null||ne===void 0||ne.refreshRows(N,Z)}updateCursorStyle(N){var Z;!((Z=this._selectionService)===null||Z===void 0)&&Z.shouldColumnSelect(N)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(N,Z,ne=0){var ae;ne===1?(super.scrollLines(N,Z,ne),this.refresh(0,this.rows-1)):(ae=this.viewport)===null||ae===void 0||ae.scrollLines(N)}paste(N){(0,d.paste)(N,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(N){this._customKeyEventHandler=N}registerLinkProvider(N){return this.linkifier2.registerLinkProvider(N)}registerCharacterJoiner(N){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Z=this._characterJoinerService.register(N);return this.refresh(0,this.rows-1),Z}deregisterCharacterJoiner(N){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(N)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(N){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+N)}registerDecoration(N){return this._decorationService.registerDecoration(N)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(N,Z,ne){this._selectionService.setSelection(N,Z,ne)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var N;(N=this._selectionService)===null||N===void 0||N.clearSelection()}selectAll(){var N;(N=this._selectionService)===null||N===void 0||N.selectAll()}selectLines(N,Z){var ne;(ne=this._selectionService)===null||ne===void 0||ne.selectLines(N,Z)}_keyDown(N){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(N)===!1)return!1;const Z=this.browser.isMac&&this.options.macOptionIsMeta&&N.altKey;if(!Z&&!this._compositionHelper.keydown(N))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;Z||N.key!=="Dead"&&N.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ne=(0,k.evaluateKeyboardEvent)(N,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(N),ne.type===3||ne.type===2){const ae=this.rows-1;return this.scrollLines(ne.type===2?-ae:ae),this.cancel(N,!0)}return ne.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,N)||(ne.cancel&&this.cancel(N,!0),!ne.key||!!(N.key&&!N.ctrlKey&&!N.altKey&&!N.metaKey&&N.key.length===1&&N.key.charCodeAt(0)>=65&&N.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ne.key!==U.C0.ETX&&ne.key!==U.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ne.key,domEvent:N}),this._showCursor(),this.coreService.triggerDataEvent(ne.key,!0),!this.optionsService.rawOptions.screenReaderMode||N.altKey||N.ctrlKey?this.cancel(N,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(N,Z){const ne=N.isMac&&!this.options.macOptionIsMeta&&Z.altKey&&!Z.ctrlKey&&!Z.metaKey||N.isWindows&&Z.altKey&&Z.ctrlKey&&!Z.metaKey||N.isWindows&&Z.getModifierState("AltGraph");return Z.type==="keypress"?ne:ne&&(!Z.keyCode||Z.keyCode>47)}_keyUp(N){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(N)===!1||(function(Z){return Z.keyCode===16||Z.keyCode===17||Z.keyCode===18}(N)||this.focus(),this.updateCursorStyle(N),this._keyPressHandled=!1)}_keyPress(N){let Z;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(N)===!1)return!1;if(this.cancel(N),N.charCode)Z=N.charCode;else if(N.which===null||N.which===void 0)Z=N.keyCode;else{if(N.which===0||N.charCode===0)return!1;Z=N.which}return!(!Z||(N.altKey||N.ctrlKey||N.metaKey)&&!this._isThirdLevelShift(this.browser,N)||(Z=String.fromCharCode(Z),this._onKey.fire({key:Z,domEvent:N}),this._showCursor(),this.coreService.triggerDataEvent(Z,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(N){if(N.data&&N.inputType==="insertText"&&(!N.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const Z=N.data;return this.coreService.triggerDataEvent(Z,!0),this.cancel(N),!0}return!1}resize(N,Z){N!==this.cols||Z!==this.rows?super.resize(N,Z):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(N,Z){var ne,ae;(ne=this._charSizeService)===null||ne===void 0||ne.measure(),(ae=this.viewport)===null||ae===void 0||ae.syncScrollArea(!0)}clear(){var N;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Z=1;Z<this.rows;Z++)this.buffer.lines.push(this.buffer.getBlankLine(O.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(N=this.viewport)===null||N===void 0||N.reset(),this.refresh(0,this.rows-1)}}reset(){var N,Z;this.options.rows=this.rows,this.options.cols=this.cols;const ne=this._customKeyEventHandler;this._setup(),super.reset(),(N=this._selectionService)===null||N===void 0||N.reset(),this._decorationService.reset(),(Z=this.viewport)===null||Z===void 0||Z.reset(),this._customKeyEventHandler=ne,this.refresh(0,this.rows-1)}clearTextureAtlas(){var N;(N=this._renderService)===null||N===void 0||N.clearTextureAtlas()}_reportFocus(){var N;!((N=this.element)===null||N===void 0)&&N.classList.contains("focus")?this.coreService.triggerDataEvent(U.C0.ESC+"[I"):this.coreService.triggerDataEvent(U.C0.ESC+"[O")}_reportWindowsOptions(N){if(this._renderService)switch(N){case J.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Z=this._renderService.dimensions.css.canvas.width.toFixed(0),ne=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${U.C0.ESC}[4;${ne};${Z}t`);break;case J.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ae=this._renderService.dimensions.css.cell.width.toFixed(0),be=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${U.C0.ESC}[6;${be};${ae}t`)}}cancel(N,Z){if(this.options.cancelEvents||Z)return N.preventDefault(),N.stopPropagation(),!1}}c.Terminal=he},9924:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TimeBasedDebouncer=void 0,c.TimeBasedDebouncer=class{constructor(h,d=1e3){this._renderCallback=h,this._debounceThresholdMS=d,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(h,d,b){this._rowCount=b,h=h!==void 0?h:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d;const _=Date.now();if(_-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=_,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=_-this._lastRefreshMs,w=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const h=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,d)}}},1680:function(H,c,h){var d=this&&this.__decorate||function(a,o,u,p){var g,E=arguments.length,L=E<3?o:p===null?p=Object.getOwnPropertyDescriptor(o,u):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(a,o,u,p);else for(var m=a.length-1;m>=0;m--)(g=a[m])&&(L=(E<3?g(L):E>3?g(o,u,L):g(o,u))||L);return E>3&&L&&Object.defineProperty(o,u,L),L},b=this&&this.__param||function(a,o){return function(u,p){o(u,p,a)}};Object.defineProperty(c,"__esModule",{value:!0}),c.Viewport=void 0;const _=h(3656),v=h(4725),w=h(8460),x=h(844),y=h(2585);let n=c.Viewport=class extends x.Disposable{constructor(a,o,u,p,g,E,L,m){super(),this._viewportElement=a,this._scrollArea=o,this._bufferService=u,this._optionsService=p,this._charSizeService=g,this._renderService=E,this._coreBrowserService=L,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,_.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(M=>this._activeBuffer=M.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(M=>this._renderDimensions=M)),this._handleThemeChange(m.colors),this.register(m.onChangeColors(M=>this._handleThemeChange(M))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(a){this._viewportElement.style.backgroundColor=a.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(a){if(a)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const o=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==o&&(this._lastRecordedBufferHeight=o,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const a=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==a&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=a),this._refreshAnimationFrame=null}syncScrollArea(a=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(a);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(a)}_handleScroll(a){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const o=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const a=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(a*(this._smoothScrollState.target-this._smoothScrollState.origin)),a<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(a,o){const u=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(o<0&&this._viewportElement.scrollTop!==0||o>0&&u<this._lastRecordedBufferHeight)||(a.cancelable&&a.preventDefault(),!1)}handleWheel(a){const o=this._getPixelsScrolled(a);return o!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+o:this._smoothScrollState.target+=o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=o,this._bubbleScroll(a,o))}scrollLines(a){if(a!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const o=a*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:a,suppressScrollEvent:!1})}_getPixelsScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let o=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_LINE?o*=this._currentRowHeight:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._currentRowHeight*this._bufferService.rows),o}getBufferElements(a,o){var u;let p,g="";const E=[],L=o??this._bufferService.buffer.lines.length,m=this._bufferService.buffer.lines;for(let M=a;M<L;M++){const q=m.get(M);if(!q)continue;const Y=(u=m.get(M+1))===null||u===void 0?void 0:u.isWrapped;if(g+=q.translateToString(!Y),!Y||M===m.length-1){const I=document.createElement("div");I.textContent=g,E.push(I),g.length>0&&(p=I),g=""}}return{bufferElements:E,cursorElement:p}}getLinesScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let o=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(o/=this._currentRowHeight+0,this._wheelPartialScroll+=o,o=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._bufferService.rows),o}_applyScrollModifier(a,o){const u=this._optionsService.rawOptions.fastScrollModifier;return u==="alt"&&o.altKey||u==="ctrl"&&o.ctrlKey||u==="shift"&&o.shiftKey?a*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:a*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(a){this._lastTouchY=a.touches[0].pageY}handleTouchMove(a){const o=this._lastTouchY-a.touches[0].pageY;return this._lastTouchY=a.touches[0].pageY,o!==0&&(this._viewportElement.scrollTop+=o,this._bubbleScroll(a,o))}};c.Viewport=n=d([b(2,y.IBufferService),b(3,y.IOptionsService),b(4,v.ICharSizeService),b(5,v.IRenderService),b(6,v.ICoreBrowserService),b(7,v.IThemeService)],n)},3107:function(H,c,h){var d=this&&this.__decorate||function(n,a,o,u){var p,g=arguments.length,E=g<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,o):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(n,a,o,u);else for(var L=n.length-1;L>=0;L--)(p=n[L])&&(E=(g<3?p(E):g>3?p(a,o,E):p(a,o))||E);return g>3&&E&&Object.defineProperty(a,o,E),E},b=this&&this.__param||function(n,a){return function(o,u){a(o,u,n)}};Object.defineProperty(c,"__esModule",{value:!0}),c.BufferDecorationRenderer=void 0;const _=h(3656),v=h(4725),w=h(844),x=h(2585);let y=c.BufferDecorationRenderer=class extends w.Disposable{constructor(n,a,o,u){super(),this._screenElement=n,this._bufferService=a,this._decorationService=o,this._renderService=u,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,_.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(p=>this._removeDecoration(p))),this.register((0,w.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const n of this._decorationService.decorations)this._renderDecoration(n);this._dimensionsChanged=!1}_renderDecoration(n){this._refreshStyle(n),this._dimensionsChanged&&this._refreshXPosition(n)}_createElement(n){var a,o;const u=document.createElement("div");u.classList.add("xterm-decoration"),u.classList.toggle("xterm-decoration-top-layer",((a=n?.options)===null||a===void 0?void 0:a.layer)==="top"),u.style.width=`${Math.round((n.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,u.style.height=(n.options.height||1)*this._renderService.dimensions.css.cell.height+"px",u.style.top=(n.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",u.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const p=(o=n.options.x)!==null&&o!==void 0?o:0;return p&&p>this._bufferService.cols&&(u.style.display="none"),this._refreshXPosition(n,u),u}_refreshStyle(n){const a=n.marker.line-this._bufferService.buffers.active.ydisp;if(a<0||a>=this._bufferService.rows)n.element&&(n.element.style.display="none",n.onRenderEmitter.fire(n.element));else{let o=this._decorationElements.get(n);o||(o=this._createElement(n),n.element=o,this._decorationElements.set(n,o),this._container.appendChild(o),n.onDispose(()=>{this._decorationElements.delete(n),o.remove()})),o.style.top=a*this._renderService.dimensions.css.cell.height+"px",o.style.display=this._altBufferIsActive?"none":"block",n.onRenderEmitter.fire(o)}}_refreshXPosition(n,a=n.element){var o;if(!a)return;const u=(o=n.options.x)!==null&&o!==void 0?o:0;(n.options.anchor||"left")==="right"?a.style.right=u?u*this._renderService.dimensions.css.cell.width+"px":"":a.style.left=u?u*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(n){var a;(a=this._decorationElements.get(n))===null||a===void 0||a.remove(),this._decorationElements.delete(n),n.dispose()}};c.BufferDecorationRenderer=y=d([b(1,x.IBufferService),b(2,x.IDecorationService),b(3,v.IRenderService)],y)},5871:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorZoneStore=void 0,c.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(h){if(h.options.overviewRulerOptions){for(const d of this._zones)if(d.color===h.options.overviewRulerOptions.color&&d.position===h.options.overviewRulerOptions.position){if(this._lineIntersectsZone(d,h.marker.line))return;if(this._lineAdjacentToZone(d,h.marker.line,h.options.overviewRulerOptions.position))return void this._addLineToZone(d,h.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=h.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=h.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=h.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=h.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:h.options.overviewRulerOptions.color,position:h.options.overviewRulerOptions.position,startBufferLine:h.marker.line,endBufferLine:h.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(h){this._linePadding=h}_lineIntersectsZone(h,d){return d>=h.startBufferLine&&d<=h.endBufferLine}_lineAdjacentToZone(h,d,b){return d>=h.startBufferLine-this._linePadding[b||"full"]&&d<=h.endBufferLine+this._linePadding[b||"full"]}_addLineToZone(h,d){h.startBufferLine=Math.min(h.startBufferLine,d),h.endBufferLine=Math.max(h.endBufferLine,d)}}},5744:function(H,c,h){var d=this&&this.__decorate||function(p,g,E,L){var m,M=arguments.length,q=M<3?g:L===null?L=Object.getOwnPropertyDescriptor(g,E):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(p,g,E,L);else for(var Y=p.length-1;Y>=0;Y--)(m=p[Y])&&(q=(M<3?m(q):M>3?m(g,E,q):m(g,E))||q);return M>3&&q&&Object.defineProperty(g,E,q),q},b=this&&this.__param||function(p,g){return function(E,L){g(E,L,p)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OverviewRulerRenderer=void 0;const _=h(5871),v=h(3656),w=h(4725),x=h(844),y=h(2585),n={full:0,left:0,center:0,right:0},a={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0};let u=c.OverviewRulerRenderer=class extends x.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(p,g,E,L,m,M,q){var Y;super(),this._viewportElement=p,this._screenElement=g,this._bufferService=E,this._decorationService=L,this._renderService=m,this._optionsService=M,this._coreBrowseService=q,this._colorZoneStore=new _.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(Y=this._viewportElement.parentElement)===null||Y===void 0||Y.insertBefore(this._canvas,this._viewportElement);const I=this._canvas.getContext("2d");if(!I)throw new Error("Ctx cannot be null");this._ctx=I,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,x.toDisposable)(()=>{var K;(K=this._canvas)===null||K===void 0||K.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,v.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const p=Math.floor(this._canvas.width/3),g=Math.ceil(this._canvas.width/3);a.full=this._canvas.width,a.left=p,a.center=g,a.right=p,this._refreshDrawHeightConstants(),o.full=0,o.left=0,o.center=a.left,o.right=a.left+a.center}_refreshDrawHeightConstants(){n.full=Math.round(2*this._coreBrowseService.dpr);const p=this._canvas.height/this._bufferService.buffer.lines.length,g=Math.round(Math.max(Math.min(p,12),6)*this._coreBrowseService.dpr);n.left=g,n.center=g,n.right=g}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*n.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const g of this._decorationService.decorations)this._colorZoneStore.addDecoration(g);this._ctx.lineWidth=1;const p=this._colorZoneStore.zones;for(const g of p)g.position!=="full"&&this._renderColorZone(g);for(const g of p)g.position==="full"&&this._renderColorZone(g);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(p){this._ctx.fillStyle=p.color,this._ctx.fillRect(o[p.position||"full"],Math.round((this._canvas.height-1)*(p.startBufferLine/this._bufferService.buffers.active.lines.length)-n[p.position||"full"]/2),a[p.position||"full"],Math.round((this._canvas.height-1)*((p.endBufferLine-p.startBufferLine)/this._bufferService.buffers.active.lines.length)+n[p.position||"full"]))}_queueRefresh(p,g){this._shouldUpdateDimensions=p||this._shouldUpdateDimensions,this._shouldUpdateAnchor=g||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};c.OverviewRulerRenderer=u=d([b(2,y.IBufferService),b(3,y.IDecorationService),b(4,w.IRenderService),b(5,y.IOptionsService),b(6,w.ICoreBrowserService)],u)},2950:function(H,c,h){var d=this&&this.__decorate||function(y,n,a,o){var u,p=arguments.length,g=p<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(y,n,a,o);else for(var E=y.length-1;E>=0;E--)(u=y[E])&&(g=(p<3?u(g):p>3?u(n,a,g):u(n,a))||g);return p>3&&g&&Object.defineProperty(n,a,g),g},b=this&&this.__param||function(y,n){return function(a,o){n(a,o,y)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CompositionHelper=void 0;const _=h(4725),v=h(2585),w=h(2584);let x=c.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(y,n,a,o,u,p){this._textarea=y,this._compositionView=n,this._bufferService=a,this._optionsService=o,this._coreService=u,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(y){this._compositionView.textContent=y.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(y){if(this._isComposing||this._isSendingComposition){if(y.keyCode===229||y.keyCode===16||y.keyCode===17||y.keyCode===18)return!1;this._finalizeComposition(!1)}return y.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(y){if(this._compositionView.classList.remove("active"),this._isComposing=!1,y){const n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let a;this._isSendingComposition=!1,n.start+=this._dataAlreadySent.length,a=this._isComposing?this._textarea.value.substring(n.start,n.end):this._textarea.value.substring(n.start),a.length>0&&this._coreService.triggerDataEvent(a,!0)}},0)}else{this._isSendingComposition=!1;const n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}}_handleAnyTextareaChanges(){const y=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const n=this._textarea.value,a=n.replace(y,"");this._dataAlreadySent=a,n.length>y.length?this._coreService.triggerDataEvent(a,!0):n.length<y.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):n.length===y.length&&n!==y&&this._coreService.triggerDataEvent(n,!0)}},0)}updateCompositionElements(y){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),a=this._renderService.dimensions.css.cell.height,o=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,u=n*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=u+"px",this._compositionView.style.top=o+"px",this._compositionView.style.height=a+"px",this._compositionView.style.lineHeight=a+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const p=this._compositionView.getBoundingClientRect();this._textarea.style.left=u+"px",this._textarea.style.top=o+"px",this._textarea.style.width=Math.max(p.width,1)+"px",this._textarea.style.height=Math.max(p.height,1)+"px",this._textarea.style.lineHeight=p.height+"px"}y||setTimeout(()=>this.updateCompositionElements(!0),0)}}};c.CompositionHelper=x=d([b(2,v.IBufferService),b(3,v.IOptionsService),b(4,v.ICoreService),b(5,_.IRenderService)],x)},9806:(H,c)=>{function h(d,b,_){const v=_.getBoundingClientRect(),w=d.getComputedStyle(_),x=parseInt(w.getPropertyValue("padding-left")),y=parseInt(w.getPropertyValue("padding-top"));return[b.clientX-v.left-x,b.clientY-v.top-y]}Object.defineProperty(c,"__esModule",{value:!0}),c.getCoords=c.getCoordsRelativeToElement=void 0,c.getCoordsRelativeToElement=h,c.getCoords=function(d,b,_,v,w,x,y,n,a){if(!x)return;const o=h(d,b,_);return o?(o[0]=Math.ceil((o[0]+(a?y/2:0))/y),o[1]=Math.ceil(o[1]/n),o[0]=Math.min(Math.max(o[0],1),v+(a?1:0)),o[1]=Math.min(Math.max(o[1],1),w),o):void 0}},9504:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.moveToCellSequence=void 0;const d=h(2584);function b(n,a,o,u){const p=n-_(n,o),g=a-_(a,o),E=Math.abs(p-g)-function(L,m,M){let q=0;const Y=L-_(L,M),I=m-_(m,M);for(let K=0;K<Math.abs(Y-I);K++){const $=v(L,m)==="A"?-1:1,G=M.buffer.lines.get(Y+$*K);G?.isWrapped&&q++}return q}(n,a,o);return y(E,x(v(n,a),u))}function _(n,a){let o=0,u=a.buffer.lines.get(n),p=u?.isWrapped;for(;p&&n>=0&&n<a.rows;)o++,u=a.buffer.lines.get(--n),p=u?.isWrapped;return o}function v(n,a){return n>a?"A":"B"}function w(n,a,o,u,p,g){let E=n,L=a,m="";for(;E!==o||L!==u;)E+=p?1:-1,p&&E>g.cols-1?(m+=g.buffer.translateBufferLineToString(L,!1,n,E),E=0,n=0,L++):!p&&E<0&&(m+=g.buffer.translateBufferLineToString(L,!1,0,n+1),E=g.cols-1,n=E,L--);return m+g.buffer.translateBufferLineToString(L,!1,n,E)}function x(n,a){const o=a?"O":"[";return d.C0.ESC+o+n}function y(n,a){n=Math.floor(n);let o="";for(let u=0;u<n;u++)o+=a;return o}c.moveToCellSequence=function(n,a,o,u){const p=o.buffer.x,g=o.buffer.y;if(!o.buffer.hasScrollback)return function(m,M,q,Y,I,K){return b(M,Y,I,K).length===0?"":y(w(m,M,m,M-_(M,I),!1,I).length,x("D",K))}(p,g,0,a,o,u)+b(g,a,o,u)+function(m,M,q,Y,I,K){let $;$=b(M,Y,I,K).length>0?Y-_(Y,I):M;const G=Y,O=function(U,k,F,T,P,J){let te;return te=b(F,T,P,J).length>0?T-_(T,P):k,U<F&&te<=T||U>=F&&te<T?"C":"D"}(m,M,q,Y,I,K);return y(w(m,$,q,G,O==="C",I).length,x(O,K))}(p,g,n,a,o,u);let E;if(g===a)return E=p>n?"D":"C",y(Math.abs(p-n),x(E,u));E=g>a?"D":"C";const L=Math.abs(g-a);return y(function(m,M){return M.cols-m}(g>a?n:p,o)+(L-1)*o.cols+1+((g>a?p:n)-1),x(E,u))}},1296:function(H,c,h){var d=this&&this.__decorate||function(I,K,$,G){var O,U=arguments.length,k=U<3?K:G===null?G=Object.getOwnPropertyDescriptor(K,$):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(I,K,$,G);else for(var F=I.length-1;F>=0;F--)(O=I[F])&&(k=(U<3?O(k):U>3?O(K,$,k):O(K,$))||k);return U>3&&k&&Object.defineProperty(K,$,k),k},b=this&&this.__param||function(I,K){return function($,G){K($,G,I)}};Object.defineProperty(c,"__esModule",{value:!0}),c.DomRenderer=void 0;const _=h(3787),v=h(2550),w=h(2223),x=h(6171),y=h(4725),n=h(8055),a=h(8460),o=h(844),u=h(2585),p="xterm-dom-renderer-owner-",g="xterm-rows",E="xterm-fg-",L="xterm-bg-",m="xterm-focus",M="xterm-selection";let q=1,Y=c.DomRenderer=class extends o.Disposable{constructor(I,K,$,G,O,U,k,F,T,P){super(),this._element=I,this._screenElement=K,this._viewportElement=$,this._linkifier2=G,this._charSizeService=U,this._optionsService=k,this._bufferService=F,this._coreBrowserService=T,this._themeService=P,this._terminalClass=q++,this._rowElements=[],this.onRequestRedraw=this.register(new a.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(g),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(M),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,x.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(J=>this._injectCss(J))),this._injectCss(this._themeService.colors),this._rowFactory=O.createInstance(_.DomRendererRowFactory,document),this._element.classList.add(p+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(J=>this._handleLinkHover(J))),this.register(this._linkifier2.onHideLinkUnderline(J=>this._handleLinkLeave(J))),this.register((0,o.toDisposable)(()=>{this._element.classList.remove(p+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new v.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const I=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*I,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*I),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/I),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/I),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const $ of this._rowElements)$.style.width=`${this.dimensions.css.canvas.width}px`,$.style.height=`${this.dimensions.css.cell.height}px`,$.style.lineHeight=`${this.dimensions.css.cell.height}px`,$.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const K=`${this._terminalSelector} .${g} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=K,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(I){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let K=`${this._terminalSelector} .${g} { color: ${I.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;K+=`${this._terminalSelector} .${g} .xterm-dim { color: ${n.color.multiplyOpacity(I.foreground,.5).css};}`,K+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,K+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",K+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${I.cursor.css};  color: ${I.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${I.cursor.css}; }}`,K+=`${this._terminalSelector} .${g}.${m} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${g}.${m} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${g} .xterm-cursor.xterm-cursor-block { background-color: ${I.cursor.css}; color: ${I.cursorAccent.css};}${this._terminalSelector} .${g} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${I.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${g} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${I.cursor.css} inset;}${this._terminalSelector} .${g} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${I.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,K+=`${this._terminalSelector} .${M} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${M} div { position: absolute; background-color: ${I.selectionBackgroundOpaque.css};}${this._terminalSelector} .${M} div { position: absolute; background-color: ${I.selectionInactiveBackgroundOpaque.css};}`;for(const[$,G]of I.ansi.entries())K+=`${this._terminalSelector} .${E}${$} { color: ${G.css}; }${this._terminalSelector} .${E}${$}.xterm-dim { color: ${n.color.multiplyOpacity(G,.5).css}; }${this._terminalSelector} .${L}${$} { background-color: ${G.css}; }`;K+=`${this._terminalSelector} .${E}${w.INVERTED_DEFAULT_COLOR} { color: ${n.color.opaque(I.background).css}; }${this._terminalSelector} .${E}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${n.color.multiplyOpacity(n.color.opaque(I.background),.5).css}; }${this._terminalSelector} .${L}${w.INVERTED_DEFAULT_COLOR} { background-color: ${I.foreground.css}; }`,this._themeStyleElement.textContent=K}_setDefaultSpacing(){const I=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${I}px`,this._rowFactory.defaultSpacing=I}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(I,K){for(let $=this._rowElements.length;$<=K;$++){const G=document.createElement("div");this._rowContainer.appendChild(G),this._rowElements.push(G)}for(;this._rowElements.length>K;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(I,K){this._refreshRowElements(I,K),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(m)}handleFocus(){this._rowContainer.classList.add(m),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(I,K,$){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(I,K,$),this.renderRows(0,this._bufferService.rows-1),!I||!K)return;const G=I[1]-this._bufferService.buffer.ydisp,O=K[1]-this._bufferService.buffer.ydisp,U=Math.max(G,0),k=Math.min(O,this._bufferService.rows-1);if(U>=this._bufferService.rows||k<0)return;const F=document.createDocumentFragment();if($){const T=I[0]>K[0];F.appendChild(this._createSelectionElement(U,T?K[0]:I[0],T?I[0]:K[0],k-U+1))}else{const T=G===U?I[0]:0,P=U===O?K[0]:this._bufferService.cols;F.appendChild(this._createSelectionElement(U,T,P));const J=k-U-1;if(F.appendChild(this._createSelectionElement(U+1,0,this._bufferService.cols,J)),U!==k){const te=O===k?K[0]:this._bufferService.cols;F.appendChild(this._createSelectionElement(k,0,te))}}this._selectionContainer.appendChild(F)}_createSelectionElement(I,K,$,G=1){const O=document.createElement("div");return O.style.height=G*this.dimensions.css.cell.height+"px",O.style.top=I*this.dimensions.css.cell.height+"px",O.style.left=K*this.dimensions.css.cell.width+"px",O.style.width=this.dimensions.css.cell.width*($-K)+"px",O}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const I of this._rowElements)I.replaceChildren()}renderRows(I,K){const $=this._bufferService.buffer,G=$.ybase+$.y,O=Math.min($.x,this._bufferService.cols-1),U=this._optionsService.rawOptions.cursorBlink,k=this._optionsService.rawOptions.cursorStyle,F=this._optionsService.rawOptions.cursorInactiveStyle;for(let T=I;T<=K;T++){const P=T+$.ydisp,J=this._rowElements[T],te=$.lines.get(P);if(!J||!te)break;J.replaceChildren(...this._rowFactory.createRow(te,P,P===G,k,F,O,U,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${p}${this._terminalClass}`}_handleLinkHover(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!0)}_handleLinkLeave(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!1)}_setCellUnderline(I,K,$,G,O,U){$<0&&(I=0),G<0&&(K=0);const k=this._bufferService.rows-1;$=Math.max(Math.min($,k),0),G=Math.max(Math.min(G,k),0),O=Math.min(O,this._bufferService.cols);const F=this._bufferService.buffer,T=F.ybase+F.y,P=Math.min(F.x,O-1),J=this._optionsService.rawOptions.cursorBlink,te=this._optionsService.rawOptions.cursorStyle,oe=this._optionsService.rawOptions.cursorInactiveStyle;for(let he=$;he<=G;++he){const fe=he+F.ydisp,N=this._rowElements[he],Z=F.lines.get(fe);if(!N||!Z)break;N.replaceChildren(...this._rowFactory.createRow(Z,fe,fe===T,te,oe,P,J,this.dimensions.css.cell.width,this._widthCache,U?he===$?I:0:-1,U?(he===G?K:O)-1:-1))}}};c.DomRenderer=Y=d([b(4,u.IInstantiationService),b(5,y.ICharSizeService),b(6,u.IOptionsService),b(7,u.IBufferService),b(8,y.ICoreBrowserService),b(9,y.IThemeService)],Y)},3787:function(H,c,h){var d=this&&this.__decorate||function(E,L,m,M){var q,Y=arguments.length,I=Y<3?L:M===null?M=Object.getOwnPropertyDescriptor(L,m):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,L,m,M);else for(var K=E.length-1;K>=0;K--)(q=E[K])&&(I=(Y<3?q(I):Y>3?q(L,m,I):q(L,m))||I);return Y>3&&I&&Object.defineProperty(L,m,I),I},b=this&&this.__param||function(E,L){return function(m,M){L(m,M,E)}};Object.defineProperty(c,"__esModule",{value:!0}),c.DomRendererRowFactory=void 0;const _=h(2223),v=h(643),w=h(511),x=h(2585),y=h(8055),n=h(4725),a=h(4269),o=h(6171),u=h(3734);let p=c.DomRendererRowFactory=class{constructor(E,L,m,M,q,Y,I){this._document=E,this._characterJoinerService=L,this._optionsService=m,this._coreBrowserService=M,this._coreService=q,this._decorationService=Y,this._themeService=I,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(E,L,m){this._selectionStart=E,this._selectionEnd=L,this._columnSelectMode=m}createRow(E,L,m,M,q,Y,I,K,$,G,O){const U=[],k=this._characterJoinerService.getJoinedCharacters(L),F=this._themeService.colors;let T,P=E.getNoBgTrimmedLength();m&&P<Y+1&&(P=Y+1);let J=0,te="",oe=0,he=0,fe=0,N=!1,Z=0,ne=!1,ae=0;const be=[],de=G!==-1&&O!==-1;for(let Me=0;Me<P;Me++){E.loadCell(Me,this._workCell);let Xe=this._workCell.getWidth();if(Xe===0)continue;let ft=!1,ki=Me,Se=this._workCell;if(k.length>0&&Me===k[0][0]){ft=!0;const Fe=k.shift();Se=new a.JoinedCellData(this._workCell,E.translateToString(!0,Fe[0],Fe[1]),Fe[1]-Fe[0]),ki=Fe[1]-1,Xe=Se.getWidth()}const Qi=this._isCellInSelection(Me,L),ws=m&&Me===Y,Es=de&&Me>=G&&Me<=O;let Ai=!1;this._decorationService.forEachDecorationAtCell(Me,L,void 0,Fe=>{Ai=!0});let ks=Se.getChars()||v.WHITESPACE_CELL_CHAR;if(ks===" "&&(Se.isUnderline()||Se.isOverline())&&(ks=""),ae=Xe*K-$.get(ks,Se.isBold(),Se.isItalic()),T){if(J&&(Qi&&ne||!Qi&&!ne&&Se.bg===oe)&&(Qi&&ne&&F.selectionForeground||Se.fg===he)&&Se.extended.ext===fe&&Es===N&&ae===Z&&!ws&&!ft&&!Ai){te+=ks,J++;continue}J&&(T.textContent=te),T=this._document.createElement("span"),J=0,te=""}else T=this._document.createElement("span");if(oe=Se.bg,he=Se.fg,fe=Se.extended.ext,N=Es,Z=ae,ne=Qi,ft&&Y>=Me&&Y<=ki&&(Y=Me),!this._coreService.isCursorHidden&&ws){if(be.push("xterm-cursor"),this._coreBrowserService.isFocused)I&&be.push("xterm-cursor-blink"),be.push(M==="bar"?"xterm-cursor-bar":M==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(q)switch(q){case"outline":be.push("xterm-cursor-outline");break;case"block":be.push("xterm-cursor-block");break;case"bar":be.push("xterm-cursor-bar");break;case"underline":be.push("xterm-cursor-underline")}}if(Se.isBold()&&be.push("xterm-bold"),Se.isItalic()&&be.push("xterm-italic"),Se.isDim()&&be.push("xterm-dim"),te=Se.isInvisible()?v.WHITESPACE_CELL_CHAR:Se.getChars()||v.WHITESPACE_CELL_CHAR,Se.isUnderline()&&(be.push(`xterm-underline-${Se.extended.underlineStyle}`),te===" "&&(te=""),!Se.isUnderlineColorDefault()))if(Se.isUnderlineColorRGB())T.style.textDecorationColor=`rgb(${u.AttributeData.toColorRGB(Se.getUnderlineColor()).join(",")})`;else{let Fe=Se.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Se.isBold()&&Fe<8&&(Fe+=8),T.style.textDecorationColor=F.ansi[Fe].css}Se.isOverline()&&(be.push("xterm-overline"),te===" "&&(te="")),Se.isStrikethrough()&&be.push("xterm-strikethrough"),Es&&(T.style.textDecoration="underline");let bt=Se.getFgColor(),Ji=Se.getFgColorMode(),Nt=Se.getBgColor(),Xt=Se.getBgColorMode();const lt=!!Se.isInverse();if(lt){const Fe=bt;bt=Nt,Nt=Fe;const As=Ji;Ji=Xt,Xt=As}let ot,ct,Qt,es=!1;switch(this._decorationService.forEachDecorationAtCell(Me,L,void 0,Fe=>{Fe.options.layer!=="top"&&es||(Fe.backgroundColorRGB&&(Xt=50331648,Nt=Fe.backgroundColorRGB.rgba>>8&16777215,ot=Fe.backgroundColorRGB),Fe.foregroundColorRGB&&(Ji=50331648,bt=Fe.foregroundColorRGB.rgba>>8&16777215,ct=Fe.foregroundColorRGB),es=Fe.options.layer==="top")}),!es&&Qi&&(ot=this._coreBrowserService.isFocused?F.selectionBackgroundOpaque:F.selectionInactiveBackgroundOpaque,Nt=ot.rgba>>8&16777215,Xt=50331648,es=!0,F.selectionForeground&&(Ji=50331648,bt=F.selectionForeground.rgba>>8&16777215,ct=F.selectionForeground)),es&&be.push("xterm-decoration-top"),Xt){case 16777216:case 33554432:Qt=F.ansi[Nt],be.push(`xterm-bg-${Nt}`);break;case 50331648:Qt=y.rgba.toColor(Nt>>16,Nt>>8&255,255&Nt),this._addStyle(T,`background-color:#${g((Nt>>>0).toString(16),"0",6)}`);break;default:lt?(Qt=F.foreground,be.push(`xterm-bg-${_.INVERTED_DEFAULT_COLOR}`)):Qt=F.background}switch(ot||Se.isDim()&&(ot=y.color.multiplyOpacity(Qt,.5)),Ji){case 16777216:case 33554432:Se.isBold()&&bt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(bt+=8),this._applyMinimumContrast(T,Qt,F.ansi[bt],Se,ot,void 0)||be.push(`xterm-fg-${bt}`);break;case 50331648:const Fe=y.rgba.toColor(bt>>16&255,bt>>8&255,255&bt);this._applyMinimumContrast(T,Qt,Fe,Se,ot,ct)||this._addStyle(T,`color:#${g(bt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(T,Qt,F.foreground,Se,ot,void 0)||lt&&be.push(`xterm-fg-${_.INVERTED_DEFAULT_COLOR}`)}be.length&&(T.className=be.join(" "),be.length=0),ws||ft||Ai?T.textContent=te:J++,ae!==this.defaultSpacing&&(T.style.letterSpacing=`${ae}px`),U.push(T),Me=ki}return T&&J&&(T.textContent=te),U}_applyMinimumContrast(E,L,m,M,q,Y){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,o.excludeFromContrastRatioDemands)(M.getCode()))return!1;const I=this._getContrastCache(M);let K;if(q||Y||(K=I.getColor(L.rgba,m.rgba)),K===void 0){const $=this._optionsService.rawOptions.minimumContrastRatio/(M.isDim()?2:1);K=y.color.ensureContrastRatio(q||L,Y||m,$),I.setColor((q||L).rgba,(Y||m).rgba,K??null)}return!!K&&(this._addStyle(E,`color:${K.css}`),!0)}_getContrastCache(E){return E.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(E,L){E.setAttribute("style",`${E.getAttribute("style")||""}${L};`)}_isCellInSelection(E,L){const m=this._selectionStart,M=this._selectionEnd;return!(!m||!M)&&(this._columnSelectMode?m[0]<=M[0]?E>=m[0]&&L>=m[1]&&E<M[0]&&L<=M[1]:E<m[0]&&L>=m[1]&&E>=M[0]&&L<=M[1]:L>m[1]&&L<M[1]||m[1]===M[1]&&L===m[1]&&E>=m[0]&&E<M[0]||m[1]<M[1]&&L===M[1]&&E<M[0]||m[1]<M[1]&&L===m[1]&&E>=m[0])}};function g(E,L,m){for(;E.length<m;)E=L+E;return E}c.DomRendererRowFactory=p=d([b(1,n.ICharacterJoinerService),b(2,x.IOptionsService),b(3,n.ICoreBrowserService),b(4,x.ICoreService),b(5,x.IDecorationService),b(6,n.IThemeService)],p)},2550:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WidthCache=void 0,c.WidthCache=class{constructor(h){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=h.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const d=h.createElement("span"),b=h.createElement("span");b.style.fontWeight="bold";const _=h.createElement("span");_.style.fontStyle="italic";const v=h.createElement("span");v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[d,b,_,v],this._container.appendChild(d),this._container.appendChild(b),this._container.appendChild(_),this._container.appendChild(v),h.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(h,d,b,_){h===this._font&&d===this._fontSize&&b===this._weight&&_===this._weightBold||(this._font=h,this._fontSize=d,this._weight=b,this._weightBold=_,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${b}`,this._measureElements[1].style.fontWeight=`${_}`,this._measureElements[2].style.fontWeight=`${b}`,this._measureElements[3].style.fontWeight=`${_}`,this.clear())}get(h,d,b){let _=0;if(!d&&!b&&h.length===1&&(_=h.charCodeAt(0))<256)return this._flat[_]!==-9999?this._flat[_]:this._flat[_]=this._measure(h,0);let v=h;d&&(v+="B"),b&&(v+="I");let w=this._holey.get(v);if(w===void 0){let x=0;d&&(x|=1),b&&(x|=2),w=this._measure(h,x),this._holey.set(v,w)}return w}_measure(h,d){const b=this._measureElements[d];return b.textContent=h.repeat(32),b.offsetWidth/32}}},2223:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TEXT_BASELINE=c.DIM_OPACITY=c.INVERTED_DEFAULT_COLOR=void 0;const d=h(6114);c.INVERTED_DEFAULT_COLOR=257,c.DIM_OPACITY=.5,c.TEXT_BASELINE=d.isFirefox||d.isLegacyEdge?"bottom":"ideographic"},6171:(H,c)=>{function h(d){return 57508<=d&&d<=57558}Object.defineProperty(c,"__esModule",{value:!0}),c.createRenderDimensions=c.excludeFromContrastRatioDemands=c.isRestrictedPowerlineGlyph=c.isPowerlineGlyph=c.throwIfFalsy=void 0,c.throwIfFalsy=function(d){if(!d)throw new Error("value must not be falsy");return d},c.isPowerlineGlyph=h,c.isRestrictedPowerlineGlyph=function(d){return 57520<=d&&d<=57527},c.excludeFromContrastRatioDemands=function(d){return h(d)||function(b){return 9472<=b&&b<=9631}(d)},c.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SelectionModel=void 0,c.SelectionModel=class{constructor(h){this._bufferService=h,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?h%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)-1]:[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[h,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[Math.max(h,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const h=this.selectionStart,d=this.selectionEnd;return!(!h||!d)&&(h[1]>d[1]||h[1]===d[1]&&h[0]>d[0])}handleTrim(h){return this.selectionStart&&(this.selectionStart[1]-=h),this.selectionEnd&&(this.selectionEnd[1]-=h),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(H,c,h){var d=this&&this.__decorate||function(n,a,o,u){var p,g=arguments.length,E=g<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,o):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(n,a,o,u);else for(var L=n.length-1;L>=0;L--)(p=n[L])&&(E=(g<3?p(E):g>3?p(a,o,E):p(a,o))||E);return g>3&&E&&Object.defineProperty(a,o,E),E},b=this&&this.__param||function(n,a){return function(o,u){a(o,u,n)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CharSizeService=void 0;const _=h(2585),v=h(8460),w=h(844);let x=c.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(n,a,o){super(),this._optionsService=o,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new y(n,a,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const n=this._measureStrategy.measure();n.width===this.width&&n.height===this.height||(this.width=n.width,this.height=n.height,this._onCharSizeChange.fire())}};c.CharSizeService=x=d([b(2,_.IOptionsService)],x);class y{constructor(a,o,u){this._document=a,this._parentElement=o,this._optionsService=u,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const a={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return a.width!==0&&a.height!==0&&(this._result.width=a.width/32,this._result.height=Math.ceil(a.height)),this._result}}},4269:function(H,c,h){var d=this&&this.__decorate||function(a,o,u,p){var g,E=arguments.length,L=E<3?o:p===null?p=Object.getOwnPropertyDescriptor(o,u):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(a,o,u,p);else for(var m=a.length-1;m>=0;m--)(g=a[m])&&(L=(E<3?g(L):E>3?g(o,u,L):g(o,u))||L);return E>3&&L&&Object.defineProperty(o,u,L),L},b=this&&this.__param||function(a,o){return function(u,p){o(u,p,a)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterJoinerService=c.JoinedCellData=void 0;const _=h(3734),v=h(643),w=h(511),x=h(2585);class y extends _.AttributeData{constructor(o,u,p){super(),this.content=0,this.combinedData="",this.fg=o.fg,this.bg=o.bg,this.combinedData=u,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(o){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}c.JoinedCellData=y;let n=c.CharacterJoinerService=class G_{constructor(o){this._bufferService=o,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(o){const u={id:this._nextCharacterJoinerId++,handler:o};return this._characterJoiners.push(u),u.id}deregister(o){for(let u=0;u<this._characterJoiners.length;u++)if(this._characterJoiners[u].id===o)return this._characterJoiners.splice(u,1),!0;return!1}getJoinedCharacters(o){if(this._characterJoiners.length===0)return[];const u=this._bufferService.buffer.lines.get(o);if(!u||u.length===0)return[];const p=[],g=u.translateToString(!0);let E=0,L=0,m=0,M=u.getFg(0),q=u.getBg(0);for(let Y=0;Y<u.getTrimmedLength();Y++)if(u.loadCell(Y,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==M||this._workCell.bg!==q){if(Y-E>1){const I=this._getJoinedRanges(g,m,L,u,E);for(let K=0;K<I.length;K++)p.push(I[K])}E=Y,m=L,M=this._workCell.fg,q=this._workCell.bg}L+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-E>1){const Y=this._getJoinedRanges(g,m,L,u,E);for(let I=0;I<Y.length;I++)p.push(Y[I])}return p}_getJoinedRanges(o,u,p,g,E){const L=o.substring(u,p);let m=[];try{m=this._characterJoiners[0].handler(L)}catch(M){console.error(M)}for(let M=1;M<this._characterJoiners.length;M++)try{const q=this._characterJoiners[M].handler(L);for(let Y=0;Y<q.length;Y++)G_._mergeRanges(m,q[Y])}catch(q){console.error(q)}return this._stringRangesToCellRanges(m,g,E),m}_stringRangesToCellRanges(o,u,p){let g=0,E=!1,L=0,m=o[g];if(m){for(let M=p;M<this._bufferService.cols;M++){const q=u.getWidth(M),Y=u.getString(M).length||v.WHITESPACE_CELL_CHAR.length;if(q!==0){if(!E&&m[0]<=L&&(m[0]=M,E=!0),m[1]<=L){if(m[1]=M,m=o[++g],!m)break;m[0]<=L?(m[0]=M,E=!0):E=!1}L+=Y}}m&&(m[1]=this._bufferService.cols)}}static _mergeRanges(o,u){let p=!1;for(let g=0;g<o.length;g++){const E=o[g];if(p){if(u[1]<=E[0])return o[g-1][1]=u[1],o;if(u[1]<=E[1])return o[g-1][1]=Math.max(u[1],E[1]),o.splice(g,1),o;o.splice(g,1),g--}else{if(u[1]<=E[0])return o.splice(g,0,u),o;if(u[1]<=E[1])return E[0]=Math.min(u[0],E[0]),o;u[0]<E[1]&&(E[0]=Math.min(u[0],E[0]),p=!0)}}return p?o[o.length-1][1]=u[1]:o.push(u),o}};c.CharacterJoinerService=n=d([b(0,x.IBufferService)],n)},5114:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CoreBrowserService=void 0,c.CoreBrowserService=class{constructor(h,d){this._textarea=h,this.window=d,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(H,c,h){var d=this&&this.__decorate||function(x,y,n,a){var o,u=arguments.length,p=u<3?y:a===null?a=Object.getOwnPropertyDescriptor(y,n):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(x,y,n,a);else for(var g=x.length-1;g>=0;g--)(o=x[g])&&(p=(u<3?o(p):u>3?o(y,n,p):o(y,n))||p);return u>3&&p&&Object.defineProperty(y,n,p),p},b=this&&this.__param||function(x,y){return function(n,a){y(n,a,x)}};Object.defineProperty(c,"__esModule",{value:!0}),c.MouseService=void 0;const _=h(4725),v=h(9806);let w=c.MouseService=class{constructor(x,y){this._renderService=x,this._charSizeService=y}getCoords(x,y,n,a,o){return(0,v.getCoords)(window,x,y,n,a,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,o)}getMouseReportCoords(x,y){const n=(0,v.getCoordsRelativeToElement)(window,x,y);if(this._charSizeService.hasValidSize)return n[0]=Math.min(Math.max(n[0],0),this._renderService.dimensions.css.canvas.width-1),n[1]=Math.min(Math.max(n[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};c.MouseService=w=d([b(0,_.IRenderService),b(1,_.ICharSizeService)],w)},3230:function(H,c,h){var d=this&&this.__decorate||function(p,g,E,L){var m,M=arguments.length,q=M<3?g:L===null?L=Object.getOwnPropertyDescriptor(g,E):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(p,g,E,L);else for(var Y=p.length-1;Y>=0;Y--)(m=p[Y])&&(q=(M<3?m(q):M>3?m(g,E,q):m(g,E))||q);return M>3&&q&&Object.defineProperty(g,E,q),q},b=this&&this.__param||function(p,g){return function(E,L){g(E,L,p)}};Object.defineProperty(c,"__esModule",{value:!0}),c.RenderService=void 0;const _=h(3656),v=h(6193),w=h(5596),x=h(4725),y=h(8460),n=h(844),a=h(7226),o=h(2585);let u=c.RenderService=class extends n.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(p,g,E,L,m,M,q,Y){if(super(),this._rowCount=p,this._charSizeService=L,this._renderer=this.register(new n.MutableDisposable),this._pausedResizeTask=new a.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new y.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new y.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new y.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new y.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new v.RenderDebouncer(q.window,(I,K)=>this._renderRows(I,K)),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(q.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(M.onResize(()=>this._fullRefresh())),this.register(M.buffers.onBufferActivate(()=>{var I;return(I=this._renderer.value)===null||I===void 0?void 0:I.clear()})),this.register(E.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(m.onDecorationRegistered(()=>this._fullRefresh())),this.register(m.onDecorationRemoved(()=>this._fullRefresh())),this.register(E.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(M.cols,M.rows),this._fullRefresh()})),this.register(E.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(M.buffer.y,M.buffer.y,!0))),this.register((0,_.addDisposableDomListener)(q.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(Y.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in q.window){const I=new q.window.IntersectionObserver(K=>this._handleIntersectionChange(K[K.length-1]),{threshold:0});I.observe(g),this.register({dispose:()=>I.disconnect()})}}_handleIntersectionChange(p){this._isPaused=p.isIntersecting===void 0?p.intersectionRatio===0:!p.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(p,g,E=!1){this._isPaused?this._needsFullRefresh=!0:(E||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(p,g,this._rowCount))}_renderRows(p,g){this._renderer.value&&(p=Math.min(p,this._rowCount-1),g=Math.min(g,this._rowCount-1),this._renderer.value.renderRows(p,g),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:p,end:g}),this._onRender.fire({start:p,end:g}),this._isNextRenderRedrawOnly=!0)}resize(p,g){this._rowCount=g,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(p){this._renderer.value=p,this._renderer.value.onRequestRedraw(g=>this.refreshRows(g.start,g.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(p){return this._renderDebouncer.addRefreshCallback(p)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var p,g;this._renderer.value&&((g=(p=this._renderer.value).clearTextureAtlas)===null||g===void 0||g.call(p),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(p,g){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(p,g)):this._renderer.value.handleResize(p,g),this._fullRefresh())}handleCharSizeChanged(){var p;(p=this._renderer.value)===null||p===void 0||p.handleCharSizeChanged()}handleBlur(){var p;(p=this._renderer.value)===null||p===void 0||p.handleBlur()}handleFocus(){var p;(p=this._renderer.value)===null||p===void 0||p.handleFocus()}handleSelectionChanged(p,g,E){var L;this._selectionState.start=p,this._selectionState.end=g,this._selectionState.columnSelectMode=E,(L=this._renderer.value)===null||L===void 0||L.handleSelectionChanged(p,g,E)}handleCursorMove(){var p;(p=this._renderer.value)===null||p===void 0||p.handleCursorMove()}clear(){var p;(p=this._renderer.value)===null||p===void 0||p.clear()}};c.RenderService=u=d([b(2,o.IOptionsService),b(3,x.ICharSizeService),b(4,o.IDecorationService),b(5,o.IBufferService),b(6,x.ICoreBrowserService),b(7,x.IThemeService)],u)},9312:function(H,c,h){var d=this&&this.__decorate||function(m,M,q,Y){var I,K=arguments.length,$=K<3?M:Y===null?Y=Object.getOwnPropertyDescriptor(M,q):Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(m,M,q,Y);else for(var G=m.length-1;G>=0;G--)(I=m[G])&&($=(K<3?I($):K>3?I(M,q,$):I(M,q))||$);return K>3&&$&&Object.defineProperty(M,q,$),$},b=this&&this.__param||function(m,M){return function(q,Y){M(q,Y,m)}};Object.defineProperty(c,"__esModule",{value:!0}),c.SelectionService=void 0;const _=h(9806),v=h(9504),w=h(456),x=h(4725),y=h(8460),n=h(844),a=h(6114),o=h(4841),u=h(511),p=h(2585),g="",E=new RegExp(g,"g");let L=c.SelectionService=class extends n.Disposable{constructor(m,M,q,Y,I,K,$,G,O){super(),this._element=m,this._screenElement=M,this._linkifier=q,this._bufferService=Y,this._coreService=I,this._mouseService=K,this._optionsService=$,this._renderService=G,this._coreBrowserService=O,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new u.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new y.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new y.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new y.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=U=>this._handleMouseMove(U),this._mouseUpListener=U=>this._handleMouseUp(U),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(U=>this._handleTrim(U)),this.register(this._bufferService.buffers.onBufferActivate(U=>this._handleBufferActivate(U))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,n.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const m=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!m||!M||m[0]===M[0]&&m[1]===M[1])}get selectionText(){const m=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;if(!m||!M)return"";const q=this._bufferService.buffer,Y=[];if(this._activeSelectionMode===3){if(m[0]===M[0])return"";const I=m[0]<M[0]?m[0]:M[0],K=m[0]<M[0]?M[0]:m[0];for(let $=m[1];$<=M[1];$++){const G=q.translateBufferLineToString($,!0,I,K);Y.push(G)}}else{const I=m[1]===M[1]?M[0]:void 0;Y.push(q.translateBufferLineToString(m[1],!0,m[0],I));for(let K=m[1]+1;K<=M[1]-1;K++){const $=q.lines.get(K),G=q.translateBufferLineToString(K,!0);$?.isWrapped?Y[Y.length-1]+=G:Y.push(G)}if(m[1]!==M[1]){const K=q.lines.get(M[1]),$=q.translateBufferLineToString(M[1],!0,0,M[0]);K&&K.isWrapped?Y[Y.length-1]+=$:Y.push($)}}return Y.map(I=>I.replace(E," ")).join(a.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(m){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),a.isLinux&&m&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(m){const M=this._getMouseBufferCoords(m),q=this._model.finalSelectionStart,Y=this._model.finalSelectionEnd;return!!(q&&Y&&M)&&this._areCoordsInSelection(M,q,Y)}isCellInSelection(m,M){const q=this._model.finalSelectionStart,Y=this._model.finalSelectionEnd;return!(!q||!Y)&&this._areCoordsInSelection([m,M],q,Y)}_areCoordsInSelection(m,M,q){return m[1]>M[1]&&m[1]<q[1]||M[1]===q[1]&&m[1]===M[1]&&m[0]>=M[0]&&m[0]<q[0]||M[1]<q[1]&&m[1]===q[1]&&m[0]<q[0]||M[1]<q[1]&&m[1]===M[1]&&m[0]>=M[0]}_selectWordAtCursor(m,M){var q,Y;const I=(Y=(q=this._linkifier.currentLink)===null||q===void 0?void 0:q.link)===null||Y===void 0?void 0:Y.range;if(I)return this._model.selectionStart=[I.start.x-1,I.start.y-1],this._model.selectionStartLength=(0,o.getRangeLength)(I,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const K=this._getMouseBufferCoords(m);return!!K&&(this._selectWordAt(K,M),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(m,M){this._model.clearSelection(),m=Math.max(m,0),M=Math.min(M,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,m],this._model.selectionEnd=[this._bufferService.cols,M],this.refresh(),this._onSelectionChange.fire()}_handleTrim(m){this._model.handleTrim(m)&&this.refresh()}_getMouseBufferCoords(m){const M=this._mouseService.getCoords(m,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(M)return M[0]--,M[1]--,M[1]+=this._bufferService.buffer.ydisp,M}_getMouseEventScrollAmount(m){let M=(0,_.getCoordsRelativeToElement)(this._coreBrowserService.window,m,this._screenElement)[1];const q=this._renderService.dimensions.css.canvas.height;return M>=0&&M<=q?0:(M>q&&(M-=q),M=Math.min(Math.max(M,-50),50),M/=50,M/Math.abs(M)+Math.round(14*M))}shouldForceSelection(m){return a.isMac?m.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:m.shiftKey}handleMouseDown(m){if(this._mouseDownTimeStamp=m.timeStamp,(m.button!==2||!this.hasSelection)&&m.button===0){if(!this._enabled){if(!this.shouldForceSelection(m))return;m.stopPropagation()}m.preventDefault(),this._dragScrollAmount=0,this._enabled&&m.shiftKey?this._handleIncrementalClick(m):m.detail===1?this._handleSingleClick(m):m.detail===2?this._handleDoubleClick(m):m.detail===3&&this._handleTripleClick(m),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(m){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(m))}_handleSingleClick(m){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(m)?3:0,this._model.selectionStart=this._getMouseBufferCoords(m),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const M=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);M&&M.length!==this._model.selectionStart[0]&&M.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(m){this._selectWordAtCursor(m,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(m){const M=this._getMouseBufferCoords(m);M&&(this._activeSelectionMode=2,this._selectLineAt(M[1]))}shouldColumnSelect(m){return m.altKey&&!(a.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(m){if(m.stopImmediatePropagation(),!this._model.selectionStart)return;const M=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(m),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(m),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const q=this._bufferService.buffer;if(this._model.selectionEnd[1]<q.lines.length){const Y=q.lines.get(this._model.selectionEnd[1]);Y&&Y.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}M&&M[0]===this._model.selectionEnd[0]&&M[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const m=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(m.ydisp+this._bufferService.rows,m.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=m.ydisp),this.refresh()}}_handleMouseUp(m){const M=m.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&M<500&&m.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const q=this._mouseService.getCoords(m,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(q&&q[0]!==void 0&&q[1]!==void 0){const Y=(0,v.moveToCellSequence)(q[0]-1,q[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(Y,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const m=this._model.finalSelectionStart,M=this._model.finalSelectionEnd,q=!(!m||!M||m[0]===M[0]&&m[1]===M[1]);q?m&&M&&(this._oldSelectionStart&&this._oldSelectionEnd&&m[0]===this._oldSelectionStart[0]&&m[1]===this._oldSelectionStart[1]&&M[0]===this._oldSelectionEnd[0]&&M[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(m,M,q)):this._oldHasSelection&&this._fireOnSelectionChange(m,M,q)}_fireOnSelectionChange(m,M,q){this._oldSelectionStart=m,this._oldSelectionEnd=M,this._oldHasSelection=q,this._onSelectionChange.fire()}_handleBufferActivate(m){this.clearSelection(),this._trimListener.dispose(),this._trimListener=m.activeBuffer.lines.onTrim(M=>this._handleTrim(M))}_convertViewportColToCharacterIndex(m,M){let q=M;for(let Y=0;M>=Y;Y++){const I=m.loadCell(Y,this._workCell).getChars().length;this._workCell.getWidth()===0?q--:I>1&&M!==Y&&(q+=I-1)}return q}setSelection(m,M,q){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[m,M],this._model.selectionStartLength=q,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(m){this._isClickInSelection(m)||(this._selectWordAtCursor(m,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(m,M,q=!0,Y=!0){if(m[0]>=this._bufferService.cols)return;const I=this._bufferService.buffer,K=I.lines.get(m[1]);if(!K)return;const $=I.translateBufferLineToString(m[1],!1);let G=this._convertViewportColToCharacterIndex(K,m[0]),O=G;const U=m[0]-G;let k=0,F=0,T=0,P=0;if($.charAt(G)===" "){for(;G>0&&$.charAt(G-1)===" ";)G--;for(;O<$.length&&$.charAt(O+1)===" ";)O++}else{let oe=m[0],he=m[0];K.getWidth(oe)===0&&(k++,oe--),K.getWidth(he)===2&&(F++,he++);const fe=K.getString(he).length;for(fe>1&&(P+=fe-1,O+=fe-1);oe>0&&G>0&&!this._isCharWordSeparator(K.loadCell(oe-1,this._workCell));){K.loadCell(oe-1,this._workCell);const N=this._workCell.getChars().length;this._workCell.getWidth()===0?(k++,oe--):N>1&&(T+=N-1,G-=N-1),G--,oe--}for(;he<K.length&&O+1<$.length&&!this._isCharWordSeparator(K.loadCell(he+1,this._workCell));){K.loadCell(he+1,this._workCell);const N=this._workCell.getChars().length;this._workCell.getWidth()===2?(F++,he++):N>1&&(P+=N-1,O+=N-1),O++,he++}}O++;let J=G+U-k+T,te=Math.min(this._bufferService.cols,O-G+k+F-T-P);if(M||$.slice(G,O).trim()!==""){if(q&&J===0&&K.getCodePoint(0)!==32){const oe=I.lines.get(m[1]-1);if(oe&&K.isWrapped&&oe.getCodePoint(this._bufferService.cols-1)!==32){const he=this._getWordAt([this._bufferService.cols-1,m[1]-1],!1,!0,!1);if(he){const fe=this._bufferService.cols-he.start;J-=fe,te+=fe}}}if(Y&&J+te===this._bufferService.cols&&K.getCodePoint(this._bufferService.cols-1)!==32){const oe=I.lines.get(m[1]+1);if(oe?.isWrapped&&oe.getCodePoint(0)!==32){const he=this._getWordAt([0,m[1]+1],!1,!1,!0);he&&(te+=he.length)}}return{start:J,length:te}}}_selectWordAt(m,M){const q=this._getWordAt(m,M);if(q){for(;q.start<0;)q.start+=this._bufferService.cols,m[1]--;this._model.selectionStart=[q.start,m[1]],this._model.selectionStartLength=q.length}}_selectToWordAt(m){const M=this._getWordAt(m,!0);if(M){let q=m[1];for(;M.start<0;)M.start+=this._bufferService.cols,q--;if(!this._model.areSelectionValuesReversed())for(;M.start+M.length>this._bufferService.cols;)M.length-=this._bufferService.cols,q++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?M.start:M.start+M.length,q]}}_isCharWordSeparator(m){return m.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(m.getChars())>=0}_selectLineAt(m){const M=this._bufferService.buffer.getWrappedRangeForLine(m),q={start:{x:0,y:M.first},end:{x:this._bufferService.cols-1,y:M.last}};this._model.selectionStart=[0,M.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,o.getRangeLength)(q,this._bufferService.cols)}};c.SelectionService=L=d([b(3,p.IBufferService),b(4,p.ICoreService),b(5,x.IMouseService),b(6,p.IOptionsService),b(7,x.IRenderService),b(8,x.ICoreBrowserService)],L)},4725:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.IThemeService=c.ICharacterJoinerService=c.ISelectionService=c.IRenderService=c.IMouseService=c.ICoreBrowserService=c.ICharSizeService=void 0;const d=h(8343);c.ICharSizeService=(0,d.createDecorator)("CharSizeService"),c.ICoreBrowserService=(0,d.createDecorator)("CoreBrowserService"),c.IMouseService=(0,d.createDecorator)("MouseService"),c.IRenderService=(0,d.createDecorator)("RenderService"),c.ISelectionService=(0,d.createDecorator)("SelectionService"),c.ICharacterJoinerService=(0,d.createDecorator)("CharacterJoinerService"),c.IThemeService=(0,d.createDecorator)("ThemeService")},6731:function(H,c,h){var d=this&&this.__decorate||function(L,m,M,q){var Y,I=arguments.length,K=I<3?m:q===null?q=Object.getOwnPropertyDescriptor(m,M):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(L,m,M,q);else for(var $=L.length-1;$>=0;$--)(Y=L[$])&&(K=(I<3?Y(K):I>3?Y(m,M,K):Y(m,M))||K);return I>3&&K&&Object.defineProperty(m,M,K),K},b=this&&this.__param||function(L,m){return function(M,q){m(M,q,L)}};Object.defineProperty(c,"__esModule",{value:!0}),c.ThemeService=c.DEFAULT_ANSI_COLORS=void 0;const _=h(7239),v=h(8055),w=h(8460),x=h(844),y=h(2585),n=v.css.toColor("#ffffff"),a=v.css.toColor("#000000"),o=v.css.toColor("#ffffff"),u=v.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};c.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const L=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],m=[0,95,135,175,215,255];for(let M=0;M<216;M++){const q=m[M/36%6|0],Y=m[M/6%6|0],I=m[M%6];L.push({css:v.channels.toCss(q,Y,I),rgba:v.channels.toRgba(q,Y,I)})}for(let M=0;M<24;M++){const q=8+10*M;L.push({css:v.channels.toCss(q,q,q),rgba:v.channels.toRgba(q,q,q)})}return L})());let g=c.ThemeService=class extends x.Disposable{get colors(){return this._colors}constructor(L){super(),this._optionsService=L,this._contrastCache=new _.ColorContrastCache,this._halfContrastCache=new _.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:n,background:a,cursor:o,cursorAccent:u,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:v.color.blend(a,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:v.color.blend(a,p),ansi:c.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(L={}){const m=this._colors;if(m.foreground=E(L.foreground,n),m.background=E(L.background,a),m.cursor=E(L.cursor,o),m.cursorAccent=E(L.cursorAccent,u),m.selectionBackgroundTransparent=E(L.selectionBackground,p),m.selectionBackgroundOpaque=v.color.blend(m.background,m.selectionBackgroundTransparent),m.selectionInactiveBackgroundTransparent=E(L.selectionInactiveBackground,m.selectionBackgroundTransparent),m.selectionInactiveBackgroundOpaque=v.color.blend(m.background,m.selectionInactiveBackgroundTransparent),m.selectionForeground=L.selectionForeground?E(L.selectionForeground,v.NULL_COLOR):void 0,m.selectionForeground===v.NULL_COLOR&&(m.selectionForeground=void 0),v.color.isOpaque(m.selectionBackgroundTransparent)&&(m.selectionBackgroundTransparent=v.color.opacity(m.selectionBackgroundTransparent,.3)),v.color.isOpaque(m.selectionInactiveBackgroundTransparent)&&(m.selectionInactiveBackgroundTransparent=v.color.opacity(m.selectionInactiveBackgroundTransparent,.3)),m.ansi=c.DEFAULT_ANSI_COLORS.slice(),m.ansi[0]=E(L.black,c.DEFAULT_ANSI_COLORS[0]),m.ansi[1]=E(L.red,c.DEFAULT_ANSI_COLORS[1]),m.ansi[2]=E(L.green,c.DEFAULT_ANSI_COLORS[2]),m.ansi[3]=E(L.yellow,c.DEFAULT_ANSI_COLORS[3]),m.ansi[4]=E(L.blue,c.DEFAULT_ANSI_COLORS[4]),m.ansi[5]=E(L.magenta,c.DEFAULT_ANSI_COLORS[5]),m.ansi[6]=E(L.cyan,c.DEFAULT_ANSI_COLORS[6]),m.ansi[7]=E(L.white,c.DEFAULT_ANSI_COLORS[7]),m.ansi[8]=E(L.brightBlack,c.DEFAULT_ANSI_COLORS[8]),m.ansi[9]=E(L.brightRed,c.DEFAULT_ANSI_COLORS[9]),m.ansi[10]=E(L.brightGreen,c.DEFAULT_ANSI_COLORS[10]),m.ansi[11]=E(L.brightYellow,c.DEFAULT_ANSI_COLORS[11]),m.ansi[12]=E(L.brightBlue,c.DEFAULT_ANSI_COLORS[12]),m.ansi[13]=E(L.brightMagenta,c.DEFAULT_ANSI_COLORS[13]),m.ansi[14]=E(L.brightCyan,c.DEFAULT_ANSI_COLORS[14]),m.ansi[15]=E(L.brightWhite,c.DEFAULT_ANSI_COLORS[15]),L.extendedAnsi){const M=Math.min(m.ansi.length-16,L.extendedAnsi.length);for(let q=0;q<M;q++)m.ansi[q+16]=E(L.extendedAnsi[q],c.DEFAULT_ANSI_COLORS[q+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(L){this._restoreColor(L),this._onChangeColors.fire(this.colors)}_restoreColor(L){if(L!==void 0)switch(L){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[L]=this._restoreColors.ansi[L]}else for(let m=0;m<this._restoreColors.ansi.length;++m)this._colors.ansi[m]=this._restoreColors.ansi[m]}modifyColors(L){L(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function E(L,m){if(L!==void 0)try{return v.css.toColor(L)}catch{}return m}c.ThemeService=g=d([b(0,y.IOptionsService)],g)},6349:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CircularList=void 0;const d=h(8460),b=h(844);class _ extends b.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new d.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new d.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new d.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const x=new Array(w);for(let y=0;y<Math.min(w,this.length);y++)x[y]=this._array[this._getCyclicIndex(y)];this._array=x,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let x=this._length;x<w;x++)this._array[x]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,x){this._array[this._getCyclicIndex(w)]=x}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,x,...y){if(x){for(let n=w;n<this._length-x;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+x)];this._length-=x,this.onDeleteEmitter.fire({index:w,amount:x})}for(let n=this._length-1;n>=w;n--)this._array[this._getCyclicIndex(n+y.length)]=this._array[this._getCyclicIndex(n)];for(let n=0;n<y.length;n++)this._array[this._getCyclicIndex(w+n)]=y[n];if(y.length&&this.onInsertEmitter.fire({index:w,amount:y.length}),this._length+y.length>this._maxLength){const n=this._length+y.length-this._maxLength;this._startIndex+=n,this._length=this._maxLength,this.onTrimEmitter.fire(n)}else this._length+=y.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,x,y){if(!(x<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+y<0)throw new Error("Cannot shift elements in list beyond index 0");if(y>0){for(let a=x-1;a>=0;a--)this.set(w+a+y,this.get(w+a));const n=w+x+y-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let n=0;n<x;n++)this.set(w+n+y,this.get(w+n))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}c.CircularList=_},1439:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.clone=void 0,c.clone=function h(d,b=5){if(typeof d!="object")return d;const _=Array.isArray(d)?[]:{};for(const v in d)_[v]=b<=1?d[v]:d[v]&&h(d[v],b-1);return _}},8055:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.contrastRatio=c.toPaddedHex=c.rgba=c.rgb=c.css=c.color=c.channels=c.NULL_COLOR=void 0;const d=h(6114);let b=0,_=0,v=0,w=0;var x,y,n,a,o;function u(g){const E=g.toString(16);return E.length<2?"0"+E:E}function p(g,E){return g<E?(E+.05)/(g+.05):(g+.05)/(E+.05)}c.NULL_COLOR={css:"#00000000",rgba:0},function(g){g.toCss=function(E,L,m,M){return M!==void 0?`#${u(E)}${u(L)}${u(m)}${u(M)}`:`#${u(E)}${u(L)}${u(m)}`},g.toRgba=function(E,L,m,M=255){return(E<<24|L<<16|m<<8|M)>>>0}}(x||(c.channels=x={})),function(g){function E(L,m){return w=Math.round(255*m),[b,_,v]=o.toChannels(L.rgba),{css:x.toCss(b,_,v,w),rgba:x.toRgba(b,_,v,w)}}g.blend=function(L,m){if(w=(255&m.rgba)/255,w===1)return{css:m.css,rgba:m.rgba};const M=m.rgba>>24&255,q=m.rgba>>16&255,Y=m.rgba>>8&255,I=L.rgba>>24&255,K=L.rgba>>16&255,$=L.rgba>>8&255;return b=I+Math.round((M-I)*w),_=K+Math.round((q-K)*w),v=$+Math.round((Y-$)*w),{css:x.toCss(b,_,v),rgba:x.toRgba(b,_,v)}},g.isOpaque=function(L){return(255&L.rgba)==255},g.ensureContrastRatio=function(L,m,M){const q=o.ensureContrastRatio(L.rgba,m.rgba,M);if(q)return o.toColor(q>>24&255,q>>16&255,q>>8&255)},g.opaque=function(L){const m=(255|L.rgba)>>>0;return[b,_,v]=o.toChannels(m),{css:x.toCss(b,_,v),rgba:m}},g.opacity=E,g.multiplyOpacity=function(L,m){return w=255&L.rgba,E(L,w*m/255)},g.toColorRGB=function(L){return[L.rgba>>24&255,L.rgba>>16&255,L.rgba>>8&255]}}(y||(c.color=y={})),function(g){let E,L;if(!d.isNode){const m=document.createElement("canvas");m.width=1,m.height=1;const M=m.getContext("2d",{willReadFrequently:!0});M&&(E=M,E.globalCompositeOperation="copy",L=E.createLinearGradient(0,0,1,1))}g.toColor=function(m){if(m.match(/#[\da-f]{3,8}/i))switch(m.length){case 4:return b=parseInt(m.slice(1,2).repeat(2),16),_=parseInt(m.slice(2,3).repeat(2),16),v=parseInt(m.slice(3,4).repeat(2),16),o.toColor(b,_,v);case 5:return b=parseInt(m.slice(1,2).repeat(2),16),_=parseInt(m.slice(2,3).repeat(2),16),v=parseInt(m.slice(3,4).repeat(2),16),w=parseInt(m.slice(4,5).repeat(2),16),o.toColor(b,_,v,w);case 7:return{css:m,rgba:(parseInt(m.slice(1),16)<<8|255)>>>0};case 9:return{css:m,rgba:parseInt(m.slice(1),16)>>>0}}const M=m.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(M)return b=parseInt(M[1]),_=parseInt(M[2]),v=parseInt(M[3]),w=Math.round(255*(M[5]===void 0?1:parseFloat(M[5]))),o.toColor(b,_,v,w);if(!E||!L)throw new Error("css.toColor: Unsupported css format");if(E.fillStyle=L,E.fillStyle=m,typeof E.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(E.fillRect(0,0,1,1),[b,_,v,w]=E.getImageData(0,0,1,1).data,w!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:x.toRgba(b,_,v,w),css:m}}}(n||(c.css=n={})),function(g){function E(L,m,M){const q=L/255,Y=m/255,I=M/255;return .2126*(q<=.03928?q/12.92:Math.pow((q+.055)/1.055,2.4))+.7152*(Y<=.03928?Y/12.92:Math.pow((Y+.055)/1.055,2.4))+.0722*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))}g.relativeLuminance=function(L){return E(L>>16&255,L>>8&255,255&L)},g.relativeLuminance2=E}(a||(c.rgb=a={})),function(g){function E(m,M,q){const Y=m>>24&255,I=m>>16&255,K=m>>8&255;let $=M>>24&255,G=M>>16&255,O=M>>8&255,U=p(a.relativeLuminance2($,G,O),a.relativeLuminance2(Y,I,K));for(;U<q&&($>0||G>0||O>0);)$-=Math.max(0,Math.ceil(.1*$)),G-=Math.max(0,Math.ceil(.1*G)),O-=Math.max(0,Math.ceil(.1*O)),U=p(a.relativeLuminance2($,G,O),a.relativeLuminance2(Y,I,K));return($<<24|G<<16|O<<8|255)>>>0}function L(m,M,q){const Y=m>>24&255,I=m>>16&255,K=m>>8&255;let $=M>>24&255,G=M>>16&255,O=M>>8&255,U=p(a.relativeLuminance2($,G,O),a.relativeLuminance2(Y,I,K));for(;U<q&&($<255||G<255||O<255);)$=Math.min(255,$+Math.ceil(.1*(255-$))),G=Math.min(255,G+Math.ceil(.1*(255-G))),O=Math.min(255,O+Math.ceil(.1*(255-O))),U=p(a.relativeLuminance2($,G,O),a.relativeLuminance2(Y,I,K));return($<<24|G<<16|O<<8|255)>>>0}g.ensureContrastRatio=function(m,M,q){const Y=a.relativeLuminance(m>>8),I=a.relativeLuminance(M>>8);if(p(Y,I)<q){if(I<Y){const G=E(m,M,q),O=p(Y,a.relativeLuminance(G>>8));if(O<q){const U=L(m,M,q);return O>p(Y,a.relativeLuminance(U>>8))?G:U}return G}const K=L(m,M,q),$=p(Y,a.relativeLuminance(K>>8));if($<q){const G=E(m,M,q);return $>p(Y,a.relativeLuminance(G>>8))?K:G}return K}},g.reduceLuminance=E,g.increaseLuminance=L,g.toChannels=function(m){return[m>>24&255,m>>16&255,m>>8&255,255&m]},g.toColor=function(m,M,q,Y){return{css:x.toCss(m,M,q,Y),rgba:x.toRgba(m,M,q,Y)}}}(o||(c.rgba=o={})),c.toPaddedHex=u,c.contrastRatio=p},8969:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CoreTerminal=void 0;const d=h(844),b=h(2585),_=h(4348),v=h(7866),w=h(744),x=h(7302),y=h(6975),n=h(8460),a=h(1753),o=h(1480),u=h(7994),p=h(9282),g=h(5435),E=h(5981),L=h(2660);let m=!1;class M extends d.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new n.EventEmitter),this._onScroll.event(Y=>{var I;(I=this._onScrollApi)===null||I===void 0||I.fire(Y.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(Y){for(const I in Y)this.optionsService.options[I]=Y[I]}constructor(Y){super(),this._windowsWrappingHeuristics=this.register(new d.MutableDisposable),this._onBinary=this.register(new n.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new n.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new n.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new n.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new n.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new n.EventEmitter),this._instantiationService=new _.InstantiationService,this.optionsService=this.register(new x.OptionsService(Y)),this._instantiationService.setService(b.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(b.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(b.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(y.CoreService)),this._instantiationService.setService(b.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(a.CoreMouseService)),this._instantiationService.setService(b.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(o.UnicodeService)),this._instantiationService.setService(b.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(u.CharsetService),this._instantiationService.setService(b.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(L.OscLinkService),this._instantiationService.setService(b.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new g.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,n.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,n.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,n.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,n.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new E.WriteBuffer((I,K)=>this._inputHandler.parse(I,K))),this.register((0,n.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(Y,I){this._writeBuffer.write(Y,I)}writeSync(Y,I){this._logService.logLevel<=b.LogLevelEnum.WARN&&!m&&(this._logService.warn("writeSync is unreliable and will be removed soon."),m=!0),this._writeBuffer.writeSync(Y,I)}resize(Y,I){isNaN(Y)||isNaN(I)||(Y=Math.max(Y,w.MINIMUM_COLS),I=Math.max(I,w.MINIMUM_ROWS),this._bufferService.resize(Y,I))}scroll(Y,I=!1){this._bufferService.scroll(Y,I)}scrollLines(Y,I,K){this._bufferService.scrollLines(Y,I,K)}scrollPages(Y){this.scrollLines(Y*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(Y){const I=Y-this._bufferService.buffer.ydisp;I!==0&&this.scrollLines(I)}registerEscHandler(Y,I){return this._inputHandler.registerEscHandler(Y,I)}registerDcsHandler(Y,I){return this._inputHandler.registerDcsHandler(Y,I)}registerCsiHandler(Y,I){return this._inputHandler.registerCsiHandler(Y,I)}registerOscHandler(Y,I){return this._inputHandler.registerOscHandler(Y,I)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let Y=!1;const I=this.optionsService.rawOptions.windowsPty;I&&I.buildNumber!==void 0&&I.buildNumber!==void 0?Y=I.backend==="conpty"&&I.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(Y=!0),Y?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const Y=[];Y.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),Y.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,d.toDisposable)(()=>{for(const I of Y)I.dispose()})}}}c.CoreTerminal=M},8460:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.forwardEvent=c.EventEmitter=void 0,c.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=h=>(this._listeners.push(h),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===h)return void this._listeners.splice(d,1)}}})),this._event}fire(h,d){const b=[];for(let _=0;_<this._listeners.length;_++)b.push(this._listeners[_]);for(let _=0;_<b.length;_++)b[_].call(void 0,h,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},c.forwardEvent=function(h,d){return h(b=>d.fire(b))}},5435:function(H,c,h){var d=this&&this.__decorate||function(U,k,F,T){var P,J=arguments.length,te=J<3?k:T===null?T=Object.getOwnPropertyDescriptor(k,F):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(U,k,F,T);else for(var oe=U.length-1;oe>=0;oe--)(P=U[oe])&&(te=(J<3?P(te):J>3?P(k,F,te):P(k,F))||te);return J>3&&te&&Object.defineProperty(k,F,te),te},b=this&&this.__param||function(U,k){return function(F,T){k(F,T,U)}};Object.defineProperty(c,"__esModule",{value:!0}),c.InputHandler=c.WindowsOptionsReportType=void 0;const _=h(2584),v=h(7116),w=h(2015),x=h(844),y=h(482),n=h(8437),a=h(8460),o=h(643),u=h(511),p=h(3734),g=h(2585),E=h(6242),L=h(6351),m=h(5941),M={"(":0,")":1,"*":2,"+":3,"-":1,".":2},q=131072;function Y(U,k){if(U>24)return k.setWinLines||!1;switch(U){case 1:return!!k.restoreWin;case 2:return!!k.minimizeWin;case 3:return!!k.setWinPosition;case 4:return!!k.setWinSizePixels;case 5:return!!k.raiseWin;case 6:return!!k.lowerWin;case 7:return!!k.refreshWin;case 8:return!!k.setWinSizeChars;case 9:return!!k.maximizeWin;case 10:return!!k.fullscreenWin;case 11:return!!k.getWinState;case 13:return!!k.getWinPosition;case 14:return!!k.getWinSizePixels;case 15:return!!k.getScreenSizePixels;case 16:return!!k.getCellSizePixels;case 18:return!!k.getWinSizeChars;case 19:return!!k.getScreenSizeChars;case 20:return!!k.getIconTitle;case 21:return!!k.getWinTitle;case 22:return!!k.pushTitle;case 23:return!!k.popTitle;case 24:return!!k.setWinLines}return!1}var I;(function(U){U[U.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",U[U.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(I||(c.WindowsOptionsReportType=I={}));let K=0;class $ extends x.Disposable{getAttrData(){return this._curAttrData}constructor(k,F,T,P,J,te,oe,he,fe=new w.EscapeSequenceParser){super(),this._bufferService=k,this._charsetService=F,this._coreService=T,this._logService=P,this._optionsService=J,this._oscLinkService=te,this._coreMouseService=oe,this._unicodeService=he,this._parser=fe,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new y.StringToUtf32,this._utf8Decoder=new y.Utf8ToUtf32,this._workCell=new u.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new a.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new a.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new a.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new a.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new a.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new a.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new a.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new a.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new a.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new a.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new a.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new a.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new G(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(N=>this._activeBuffer=N.activeBuffer)),this._parser.setCsiHandlerFallback((N,Z)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(N),params:Z.toArray()})}),this._parser.setEscHandlerFallback(N=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(N)})}),this._parser.setExecuteHandlerFallback(N=>{this._logService.debug("Unknown EXECUTE code: ",{code:N})}),this._parser.setOscHandlerFallback((N,Z,ne)=>{this._logService.debug("Unknown OSC code: ",{identifier:N,action:Z,data:ne})}),this._parser.setDcsHandlerFallback((N,Z,ne)=>{Z==="HOOK"&&(ne=ne.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(N),action:Z,payload:ne})}),this._parser.setPrintHandler((N,Z,ne)=>this.print(N,Z,ne)),this._parser.registerCsiHandler({final:"@"},N=>this.insertChars(N)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},N=>this.scrollLeft(N)),this._parser.registerCsiHandler({final:"A"},N=>this.cursorUp(N)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},N=>this.scrollRight(N)),this._parser.registerCsiHandler({final:"B"},N=>this.cursorDown(N)),this._parser.registerCsiHandler({final:"C"},N=>this.cursorForward(N)),this._parser.registerCsiHandler({final:"D"},N=>this.cursorBackward(N)),this._parser.registerCsiHandler({final:"E"},N=>this.cursorNextLine(N)),this._parser.registerCsiHandler({final:"F"},N=>this.cursorPrecedingLine(N)),this._parser.registerCsiHandler({final:"G"},N=>this.cursorCharAbsolute(N)),this._parser.registerCsiHandler({final:"H"},N=>this.cursorPosition(N)),this._parser.registerCsiHandler({final:"I"},N=>this.cursorForwardTab(N)),this._parser.registerCsiHandler({final:"J"},N=>this.eraseInDisplay(N,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},N=>this.eraseInDisplay(N,!0)),this._parser.registerCsiHandler({final:"K"},N=>this.eraseInLine(N,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},N=>this.eraseInLine(N,!0)),this._parser.registerCsiHandler({final:"L"},N=>this.insertLines(N)),this._parser.registerCsiHandler({final:"M"},N=>this.deleteLines(N)),this._parser.registerCsiHandler({final:"P"},N=>this.deleteChars(N)),this._parser.registerCsiHandler({final:"S"},N=>this.scrollUp(N)),this._parser.registerCsiHandler({final:"T"},N=>this.scrollDown(N)),this._parser.registerCsiHandler({final:"X"},N=>this.eraseChars(N)),this._parser.registerCsiHandler({final:"Z"},N=>this.cursorBackwardTab(N)),this._parser.registerCsiHandler({final:"`"},N=>this.charPosAbsolute(N)),this._parser.registerCsiHandler({final:"a"},N=>this.hPositionRelative(N)),this._parser.registerCsiHandler({final:"b"},N=>this.repeatPrecedingCharacter(N)),this._parser.registerCsiHandler({final:"c"},N=>this.sendDeviceAttributesPrimary(N)),this._parser.registerCsiHandler({prefix:">",final:"c"},N=>this.sendDeviceAttributesSecondary(N)),this._parser.registerCsiHandler({final:"d"},N=>this.linePosAbsolute(N)),this._parser.registerCsiHandler({final:"e"},N=>this.vPositionRelative(N)),this._parser.registerCsiHandler({final:"f"},N=>this.hVPosition(N)),this._parser.registerCsiHandler({final:"g"},N=>this.tabClear(N)),this._parser.registerCsiHandler({final:"h"},N=>this.setMode(N)),this._parser.registerCsiHandler({prefix:"?",final:"h"},N=>this.setModePrivate(N)),this._parser.registerCsiHandler({final:"l"},N=>this.resetMode(N)),this._parser.registerCsiHandler({prefix:"?",final:"l"},N=>this.resetModePrivate(N)),this._parser.registerCsiHandler({final:"m"},N=>this.charAttributes(N)),this._parser.registerCsiHandler({final:"n"},N=>this.deviceStatus(N)),this._parser.registerCsiHandler({prefix:"?",final:"n"},N=>this.deviceStatusPrivate(N)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},N=>this.softReset(N)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},N=>this.setCursorStyle(N)),this._parser.registerCsiHandler({final:"r"},N=>this.setScrollRegion(N)),this._parser.registerCsiHandler({final:"s"},N=>this.saveCursor(N)),this._parser.registerCsiHandler({final:"t"},N=>this.windowOptions(N)),this._parser.registerCsiHandler({final:"u"},N=>this.restoreCursor(N)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},N=>this.insertColumns(N)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},N=>this.deleteColumns(N)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},N=>this.selectProtected(N)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},N=>this.requestMode(N,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},N=>this.requestMode(N,!1)),this._parser.setExecuteHandler(_.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(_.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(_.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(_.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(_.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(_.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(_.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(_.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(_.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(_.C1.IND,()=>this.index()),this._parser.setExecuteHandler(_.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(_.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new E.OscHandler(N=>(this.setTitle(N),this.setIconName(N),!0))),this._parser.registerOscHandler(1,new E.OscHandler(N=>this.setIconName(N))),this._parser.registerOscHandler(2,new E.OscHandler(N=>this.setTitle(N))),this._parser.registerOscHandler(4,new E.OscHandler(N=>this.setOrReportIndexedColor(N))),this._parser.registerOscHandler(8,new E.OscHandler(N=>this.setHyperlink(N))),this._parser.registerOscHandler(10,new E.OscHandler(N=>this.setOrReportFgColor(N))),this._parser.registerOscHandler(11,new E.OscHandler(N=>this.setOrReportBgColor(N))),this._parser.registerOscHandler(12,new E.OscHandler(N=>this.setOrReportCursorColor(N))),this._parser.registerOscHandler(104,new E.OscHandler(N=>this.restoreIndexedColor(N))),this._parser.registerOscHandler(110,new E.OscHandler(N=>this.restoreFgColor(N))),this._parser.registerOscHandler(111,new E.OscHandler(N=>this.restoreBgColor(N))),this._parser.registerOscHandler(112,new E.OscHandler(N=>this.restoreCursorColor(N))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const N in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:N},()=>this.selectCharset("("+N)),this._parser.registerEscHandler({intermediates:")",final:N},()=>this.selectCharset(")"+N)),this._parser.registerEscHandler({intermediates:"*",final:N},()=>this.selectCharset("*"+N)),this._parser.registerEscHandler({intermediates:"+",final:N},()=>this.selectCharset("+"+N)),this._parser.registerEscHandler({intermediates:"-",final:N},()=>this.selectCharset("-"+N)),this._parser.registerEscHandler({intermediates:".",final:N},()=>this.selectCharset("."+N)),this._parser.registerEscHandler({intermediates:"/",final:N},()=>this.selectCharset("/"+N));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(N=>(this._logService.error("Parsing error: ",N),N)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new L.DcsHandler((N,Z)=>this.requestStatusString(N,Z)))}_preserveStack(k,F,T,P){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=F,this._parseStack.decodedLength=T,this._parseStack.position=P}_logSlowResolvingAsync(k){this._logService.logLevel<=g.LogLevelEnum.WARN&&Promise.race([k,new Promise((F,T)=>setTimeout(()=>T("#SLOW_TIMEOUT"),5e3))]).catch(F=>{if(F!=="#SLOW_TIMEOUT")throw F;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(k,F){let T,P=this._activeBuffer.x,J=this._activeBuffer.y,te=0;const oe=this._parseStack.paused;if(oe){if(T=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,F))return this._logSlowResolvingAsync(T),T;P=this._parseStack.cursorStartX,J=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>q&&(te=this._parseStack.position+q)}if(this._logService.logLevel<=g.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof k=="string"?` "${k}"`:` "${Array.prototype.map.call(k,he=>String.fromCharCode(he)).join("")}"`),typeof k=="string"?k.split("").map(he=>he.charCodeAt(0)):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<q&&(this._parseBuffer=new Uint32Array(Math.min(k.length,q))),oe||this._dirtyRowTracker.clearRange(),k.length>q)for(let he=te;he<k.length;he+=q){const fe=he+q<k.length?he+q:k.length,N=typeof k=="string"?this._stringDecoder.decode(k.substring(he,fe),this._parseBuffer):this._utf8Decoder.decode(k.subarray(he,fe),this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,N))return this._preserveStack(P,J,N,he),this._logSlowResolvingAsync(T),T}else if(!oe){const he=typeof k=="string"?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,he))return this._preserveStack(P,J,he,0),this._logSlowResolvingAsync(T),T}this._activeBuffer.x===P&&this._activeBuffer.y===J||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(k,F,T){let P,J;const te=this._charsetService.charset,oe=this._optionsService.rawOptions.screenReaderMode,he=this._bufferService.cols,fe=this._coreService.decPrivateModes.wraparound,N=this._coreService.modes.insertMode,Z=this._curAttrData;let ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&T-F>0&&ne.getWidth(this._activeBuffer.x-1)===2&&ne.setCellFromCodePoint(this._activeBuffer.x-1,0,1,Z.fg,Z.bg,Z.extended);for(let ae=F;ae<T;++ae){if(P=k[ae],J=this._unicodeService.wcwidth(P),P<127&&te){const be=te[String.fromCharCode(P)];be&&(P=be.charCodeAt(0))}if(oe&&this._onA11yChar.fire((0,y.stringFromCodePoint)(P)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),J||!this._activeBuffer.x){if(this._activeBuffer.x+J-1>=he){if(fe){for(;this._activeBuffer.x<he;)ne.setCellFromCodePoint(this._activeBuffer.x++,0,1,Z.fg,Z.bg,Z.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=he-1,J===2)continue}if(N&&(ne.insertCells(this._activeBuffer.x,J,this._activeBuffer.getNullCell(Z),Z),ne.getWidth(he-1)===2&&ne.setCellFromCodePoint(he-1,o.NULL_CELL_CODE,o.NULL_CELL_WIDTH,Z.fg,Z.bg,Z.extended)),ne.setCellFromCodePoint(this._activeBuffer.x++,P,J,Z.fg,Z.bg,Z.extended),J>0)for(;--J;)ne.setCellFromCodePoint(this._activeBuffer.x++,0,0,Z.fg,Z.bg,Z.extended)}else ne.getWidth(this._activeBuffer.x-1)?ne.addCodepointToCell(this._activeBuffer.x-1,P):ne.addCodepointToCell(this._activeBuffer.x-2,P)}T-F>0&&(ne.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<he&&T-F>0&&ne.getWidth(this._activeBuffer.x)===0&&!ne.hasContent(this._activeBuffer.x)&&ne.setCellFromCodePoint(this._activeBuffer.x,0,1,Z.fg,Z.bg,Z.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(k,F){return k.final!=="t"||k.prefix||k.intermediates?this._parser.registerCsiHandler(k,F):this._parser.registerCsiHandler(k,T=>!Y(T.params[0],this._optionsService.rawOptions.windowOptions)||F(T))}registerDcsHandler(k,F){return this._parser.registerDcsHandler(k,new L.DcsHandler(F))}registerEscHandler(k,F){return this._parser.registerEscHandler(k,F)}registerOscHandler(k,F){return this._parser.registerOscHandler(k,new E.OscHandler(F))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var k;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||k===void 0)&&k.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);F.hasWidth(this._activeBuffer.x)&&!F.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(k=this._bufferService.cols-1){this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(k,F){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+F):(this._activeBuffer.x=k,this._activeBuffer.y=F),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(k,F){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+F)}cursorUp(k){const F=this._activeBuffer.y-this._activeBuffer.scrollTop;return F>=0?this._moveCursor(0,-Math.min(F,k.params[0]||1)):this._moveCursor(0,-(k.params[0]||1)),!0}cursorDown(k){const F=this._activeBuffer.scrollBottom-this._activeBuffer.y;return F>=0?this._moveCursor(0,Math.min(F,k.params[0]||1)):this._moveCursor(0,k.params[0]||1),!0}cursorForward(k){return this._moveCursor(k.params[0]||1,0),!0}cursorBackward(k){return this._moveCursor(-(k.params[0]||1),0),!0}cursorNextLine(k){return this.cursorDown(k),this._activeBuffer.x=0,!0}cursorPrecedingLine(k){return this.cursorUp(k),this._activeBuffer.x=0,!0}cursorCharAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0}charPosAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(k){return this._moveCursor(k.params[0]||1,0),!0}linePosAbsolute(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0}vPositionRelative(k){return this._moveCursor(0,k.params[0]||1),!0}hVPosition(k){return this.cursorPosition(k),!0}tabClear(k){const F=k.params[0];return F===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:F===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let F=k.params[0]||1;for(;F--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let F=k.params[0]||1;for(;F--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(k){const F=k.params[0];return F===1&&(this._curAttrData.bg|=536870912),F!==2&&F!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(k,F,T,P=!1,J=!1){const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);te.replaceCells(F,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),J),P&&(te.isWrapped=!1)}_resetBufferLine(k,F=!1){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);T&&(T.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),F),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+k),T.isWrapped=!1)}eraseInDisplay(k,F=!1){let T;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,F);T<this._bufferService.rows;T++)this._resetBufferLine(T,F);this._dirtyRowTracker.markDirty(T);break;case 1:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T,0,this._activeBuffer.x+1,!0,F),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(T+1).isWrapped=!1);T--;)this._resetBufferLine(T,F);this._dirtyRowTracker.markDirty(0);break;case 2:for(T=this._bufferService.rows,this._dirtyRowTracker.markDirty(T-1);T--;)this._resetBufferLine(T,F);this._dirtyRowTracker.markDirty(0);break;case 3:const P=this._activeBuffer.lines.length-this._bufferService.rows;P>0&&(this._activeBuffer.lines.trimStart(P),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-P,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-P,0),this._onScroll.fire(0))}return!0}eraseInLine(k,F=!1){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,F);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,F);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,F)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(k){this._restrictCursor();let F=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y,P=this._bufferService.rows-1-this._activeBuffer.scrollBottom,J=this._bufferService.rows-1+this._activeBuffer.ybase-P+1;for(;F--;)this._activeBuffer.lines.splice(J-1,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(k){this._restrictCursor();let F=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y;let P;for(P=this._bufferService.rows-1-this._activeBuffer.scrollBottom,P=this._bufferService.rows-1+this._activeBuffer.ybase-P;F--;)this._activeBuffer.lines.splice(T,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(k){this._restrictCursor();const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return F&&(F.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(k){this._restrictCursor();const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return F&&(F.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(k){let F=k.params[0]||1;for(;F--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(k){let F=k.params[0]||1;for(;F--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(n.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const F=k.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);P.deleteCells(0,F,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const F=k.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);P.insertCells(0,F,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const F=k.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);P.insertCells(this._activeBuffer.x,F,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const F=k.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);P.deleteCells(this._activeBuffer.x,F,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(k){this._restrictCursor();const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return F&&(F.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(k){if(!this._parser.precedingCodepoint)return!0;const F=k.params[0]||1,T=new Uint32Array(F);for(let P=0;P<F;++P)T[P]=this._parser.precedingCodepoint;return this.print(T,0,T.length),!0}sendDeviceAttributesPrimary(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(_.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(_.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(_.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(_.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(_.C0.ESC+"[>83;40003;0c")),!0}_is(k){return(this._optionsService.rawOptions.termName+"").indexOf(k)===0}setMode(k){for(let F=0;F<k.length;F++)switch(k.params[F]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(k){for(let F=0;F<k.length;F++)switch(k.params[F]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(k){for(let F=0;F<k.length;F++)switch(k.params[F]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(k){for(let F=0;F<k.length;F++)switch(k.params[F]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),k.params[F]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(k,F){const T=this._coreService.decPrivateModes,{activeProtocol:P,activeEncoding:J}=this._coreMouseService,te=this._coreService,{buffers:oe,cols:he}=this._bufferService,{active:fe,alt:N}=oe,Z=this._optionsService.rawOptions,ne=Me=>Me?1:2,ae=k.params[0];return be=ae,de=F?ae===2?4:ae===4?ne(te.modes.insertMode):ae===12?3:ae===20?ne(Z.convertEol):0:ae===1?ne(T.applicationCursorKeys):ae===3?Z.windowOptions.setWinLines?he===80?2:he===132?1:0:0:ae===6?ne(T.origin):ae===7?ne(T.wraparound):ae===8?3:ae===9?ne(P==="X10"):ae===12?ne(Z.cursorBlink):ae===25?ne(!te.isCursorHidden):ae===45?ne(T.reverseWraparound):ae===66?ne(T.applicationKeypad):ae===67?4:ae===1e3?ne(P==="VT200"):ae===1002?ne(P==="DRAG"):ae===1003?ne(P==="ANY"):ae===1004?ne(T.sendFocus):ae===1005?4:ae===1006?ne(J==="SGR"):ae===1015?4:ae===1016?ne(J==="SGR_PIXELS"):ae===1048?1:ae===47||ae===1047||ae===1049?ne(fe===N):ae===2004?ne(T.bracketedPasteMode):0,te.triggerDataEvent(`${_.C0.ESC}[${F?"":"?"}${be};${de}$y`),!0;var be,de}_updateAttrColor(k,F,T,P,J){return F===2?(k|=50331648,k&=-16777216,k|=p.AttributeData.fromColorRGB([T,P,J])):F===5&&(k&=-50331904,k|=33554432|255&T),k}_extractColor(k,F,T){const P=[0,0,-1,0,0,0];let J=0,te=0;do{if(P[te+J]=k.params[F+te],k.hasSubParams(F+te)){const oe=k.getSubParams(F+te);let he=0;do P[1]===5&&(J=1),P[te+he+1+J]=oe[he];while(++he<oe.length&&he+te+1+J<P.length);break}if(P[1]===5&&te+J>=2||P[1]===2&&te+J>=5)break;P[1]&&(J=1)}while(++te+F<k.length&&te+J<P.length);for(let oe=2;oe<P.length;++oe)P[oe]===-1&&(P[oe]=0);switch(P[0]){case 38:T.fg=this._updateAttrColor(T.fg,P[1],P[3],P[4],P[5]);break;case 48:T.bg=this._updateAttrColor(T.bg,P[1],P[3],P[4],P[5]);break;case 58:T.extended=T.extended.clone(),T.extended.underlineColor=this._updateAttrColor(T.extended.underlineColor,P[1],P[3],P[4],P[5])}return te}_processUnderline(k,F){F.extended=F.extended.clone(),(!~k||k>5)&&(k=1),F.extended.underlineStyle=k,F.fg|=268435456,k===0&&(F.fg&=-268435457),F.updateExtended()}_processSGR0(k){k.fg=n.DEFAULT_ATTR_DATA.fg,k.bg=n.DEFAULT_ATTR_DATA.bg,k.extended=k.extended.clone(),k.extended.underlineStyle=0,k.extended.underlineColor&=-67108864,k.updateExtended()}charAttributes(k){if(k.length===1&&k.params[0]===0)return this._processSGR0(this._curAttrData),!0;const F=k.length;let T;const P=this._curAttrData;for(let J=0;J<F;J++)T=k.params[J],T>=30&&T<=37?(P.fg&=-50331904,P.fg|=16777216|T-30):T>=40&&T<=47?(P.bg&=-50331904,P.bg|=16777216|T-40):T>=90&&T<=97?(P.fg&=-50331904,P.fg|=16777224|T-90):T>=100&&T<=107?(P.bg&=-50331904,P.bg|=16777224|T-100):T===0?this._processSGR0(P):T===1?P.fg|=134217728:T===3?P.bg|=67108864:T===4?(P.fg|=268435456,this._processUnderline(k.hasSubParams(J)?k.getSubParams(J)[0]:1,P)):T===5?P.fg|=536870912:T===7?P.fg|=67108864:T===8?P.fg|=1073741824:T===9?P.fg|=2147483648:T===2?P.bg|=134217728:T===21?this._processUnderline(2,P):T===22?(P.fg&=-134217729,P.bg&=-134217729):T===23?P.bg&=-67108865:T===24?(P.fg&=-268435457,this._processUnderline(0,P)):T===25?P.fg&=-536870913:T===27?P.fg&=-67108865:T===28?P.fg&=-1073741825:T===29?P.fg&=2147483647:T===39?(P.fg&=-67108864,P.fg|=16777215&n.DEFAULT_ATTR_DATA.fg):T===49?(P.bg&=-67108864,P.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):T===38||T===48||T===58?J+=this._extractColor(k,J,P):T===53?P.bg|=1073741824:T===55?P.bg&=-1073741825:T===59?(P.extended=P.extended.clone(),P.extended.underlineColor=-1,P.updateExtended()):T===100?(P.fg&=-67108864,P.fg|=16777215&n.DEFAULT_ATTR_DATA.fg,P.bg&=-67108864,P.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",T);return!0}deviceStatus(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(`${_.C0.ESC}[0n`);break;case 6:const F=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${_.C0.ESC}[${F};${T}R`)}return!0}deviceStatusPrivate(k){if(k.params[0]===6){const F=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${_.C0.ESC}[?${F};${T}R`)}return!0}softReset(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(k){const F=k.params[0]||1;switch(F){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const T=F%2==1;return this._optionsService.options.cursorBlink=T,!0}setScrollRegion(k){const F=k.params[0]||1;let T;return(k.length<2||(T=k.params[1])>this._bufferService.rows||T===0)&&(T=this._bufferService.rows),T>F&&(this._activeBuffer.scrollTop=F-1,this._activeBuffer.scrollBottom=T-1,this._setCursor(0,0)),!0}windowOptions(k){if(!Y(k.params[0],this._optionsService.rawOptions.windowOptions))return!0;const F=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:F!==2&&this._onRequestWindowsOptionsReport.fire(I.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(I.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${_.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:F!==0&&F!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),F!==0&&F!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:F!==0&&F!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),F!==0&&F!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0}setIconName(k){return this._iconName=k,!0}setOrReportIndexedColor(k){const F=[],T=k.split(";");for(;T.length>1;){const P=T.shift(),J=T.shift();if(/^\d+$/.exec(P)){const te=parseInt(P);if(O(te))if(J==="?")F.push({type:0,index:te});else{const oe=(0,m.parseColor)(J);oe&&F.push({type:1,index:te,color:oe})}}}return F.length&&this._onColor.fire(F),!0}setHyperlink(k){const F=k.split(";");return!(F.length<2)&&(F[1]?this._createHyperlink(F[0],F[1]):!F[0]&&this._finishHyperlink())}_createHyperlink(k,F){this._getCurrentLinkId()&&this._finishHyperlink();const T=k.split(":");let P;const J=T.findIndex(te=>te.startsWith("id="));return J!==-1&&(P=T[J].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:P,uri:F}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(k,F){const T=k.split(";");for(let P=0;P<T.length&&!(F>=this._specialColors.length);++P,++F)if(T[P]==="?")this._onColor.fire([{type:0,index:this._specialColors[F]}]);else{const J=(0,m.parseColor)(T[P]);J&&this._onColor.fire([{type:1,index:this._specialColors[F],color:J}])}return!0}setOrReportFgColor(k){return this._setOrReportSpecialColor(k,0)}setOrReportBgColor(k){return this._setOrReportSpecialColor(k,1)}setOrReportCursorColor(k){return this._setOrReportSpecialColor(k,2)}restoreIndexedColor(k){if(!k)return this._onColor.fire([{type:2}]),!0;const F=[],T=k.split(";");for(let P=0;P<T.length;++P)if(/^\d+$/.exec(T[P])){const J=parseInt(T[P]);O(J)&&F.push({type:2,index:J})}return F.length&&this._onColor.fire(F),!0}restoreFgColor(k){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(k){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(k){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(k){return k.length!==2?(this.selectDefaultCharset(),!0):(k[0]==="/"||this._charsetService.setgCharset(M[k[0]],v.CHARSETS[k[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const k=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,k,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(k){return this._charsetService.setgLevel(k),!0}screenAlignmentPattern(){const k=new u.CellData;k.content=4194373,k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(let F=0;F<this._bufferService.rows;++F){const T=this._activeBuffer.ybase+this._activeBuffer.y+F,P=this._activeBuffer.lines.get(T);P&&(P.fill(k),P.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(k,F){const T=this._bufferService.buffer,P=this._optionsService.rawOptions;return(J=>(this._coreService.triggerDataEvent(`${_.C0.ESC}${J}${_.C0.ESC}\\`),!0))(k==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:k==='"p'?'P1$r61;1"p':k==="r"?`P1$r${T.scrollTop+1};${T.scrollBottom+1}r`:k==="m"?"P1$r0m":k===" q"?`P1$r${{block:2,underline:4,bar:6}[P.cursorStyle]-(P.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(k,F){this._dirtyRowTracker.markRangeDirty(k,F)}}c.InputHandler=$;let G=class{constructor(U){this._bufferService=U,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(U){U<this.start?this.start=U:U>this.end&&(this.end=U)}markRangeDirty(U,k){U>k&&(K=U,U=k,k=K),U<this.start&&(this.start=U),k>this.end&&(this.end=k)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function O(U){return 0<=U&&U<256}G=d([b(0,g.IBufferService)],G)},844:(H,c)=>{function h(d){for(const b of d)b.dispose();d.length=0}Object.defineProperty(c,"__esModule",{value:!0}),c.getDisposeArrayDisposable=c.disposeArray=c.toDisposable=c.MutableDisposable=c.Disposable=void 0,c.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const b=this._disposables.indexOf(d);b!==-1&&this._disposables.splice(b,1)}},c.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var b;this._isDisposed||d===this._value||((b=this._value)===null||b===void 0||b.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)===null||d===void 0||d.dispose(),this._value=void 0}},c.toDisposable=function(d){return{dispose:d}},c.disposeArray=h,c.getDisposeArrayDisposable=function(d){return{dispose:()=>h(d)}}},1505:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FourKeyMap=c.TwoKeyMap=void 0;class h{constructor(){this._data={}}set(b,_,v){this._data[b]||(this._data[b]={}),this._data[b][_]=v}get(b,_){return this._data[b]?this._data[b][_]:void 0}clear(){this._data={}}}c.TwoKeyMap=h,c.FourKeyMap=class{constructor(){this._data=new h}set(d,b,_,v,w){this._data.get(d,b)||this._data.set(d,b,new h),this._data.get(d,b).set(_,v,w)}get(d,b,_,v){var w;return(w=this._data.get(d,b))===null||w===void 0?void 0:w.get(_,v)}clear(){this._data.clear()}}},6114:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isChromeOS=c.isLinux=c.isWindows=c.isIphone=c.isIpad=c.isMac=c.getSafariVersion=c.isSafari=c.isLegacyEdge=c.isFirefox=c.isNode=void 0,c.isNode=typeof navigator>"u";const h=c.isNode?"node":navigator.userAgent,d=c.isNode?"node":navigator.platform;c.isFirefox=h.includes("Firefox"),c.isLegacyEdge=h.includes("Edge"),c.isSafari=/^((?!chrome|android).)*safari/i.test(h),c.getSafariVersion=function(){if(!c.isSafari)return 0;const b=h.match(/Version\/(\d+)/);return b===null||b.length<2?0:parseInt(b[1])},c.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(d),c.isIpad=d==="iPad",c.isIphone=d==="iPhone",c.isWindows=["Windows","Win16","Win32","WinCE"].includes(d),c.isLinux=d.indexOf("Linux")>=0,c.isChromeOS=/\bCrOS\b/.test(h)},6106:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SortedList=void 0;let h=0;c.SortedList=class{constructor(d){this._getKey=d,this._array=[]}clear(){this._array.length=0}insert(d){this._array.length!==0?(h=this._search(this._getKey(d)),this._array.splice(h,0,d)):this._array.push(d)}delete(d){if(this._array.length===0)return!1;const b=this._getKey(d);if(b===void 0||(h=this._search(b),h===-1)||this._getKey(this._array[h])!==b)return!1;do if(this._array[h]===d)return this._array.splice(h,1),!0;while(++h<this._array.length&&this._getKey(this._array[h])===b);return!1}*getKeyIterator(d){if(this._array.length!==0&&(h=this._search(d),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===d))do yield this._array[h];while(++h<this._array.length&&this._getKey(this._array[h])===d)}forEachByKey(d,b){if(this._array.length!==0&&(h=this._search(d),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===d))do b(this._array[h]);while(++h<this._array.length&&this._getKey(this._array[h])===d)}values(){return[...this._array].values()}_search(d){let b=0,_=this._array.length-1;for(;_>=b;){let v=b+_>>1;const w=this._getKey(this._array[v]);if(w>d)_=v-1;else{if(!(w<d)){for(;v>0&&this._getKey(this._array[v-1])===d;)v--;return v}b=v+1}}return b}}},7226:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DebouncedIdleTask=c.IdleTaskQueue=c.PriorityTaskQueue=void 0;const d=h(6114);class b{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let x=0,y=0,n=w.timeRemaining(),a=0;for(;this._i<this._tasks.length;){if(x=Date.now(),this._tasks[this._i]()||this._i++,x=Math.max(1,Date.now()-x),y=Math.max(x,y),a=w.timeRemaining(),1.5*y>a)return n-x<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(n-x))}ms`),void this._start();n=a}this.clear()}}class _ extends b{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const x=Date.now()+w;return{timeRemaining:()=>Math.max(0,x-Date.now())}}}c.PriorityTaskQueue=_,c.IdleTaskQueue=!d.isNode&&"requestIdleCallback"in window?class extends b{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:_,c.DebouncedIdleTask=class{constructor(){this._queue=new c.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.updateWindowsModeWrappedState=void 0;const d=h(643);c.updateWindowsModeWrappedState=function(b){const _=b.buffer.lines.get(b.buffer.ybase+b.buffer.y-1),v=_?.get(b.cols-1),w=b.buffer.lines.get(b.buffer.ybase+b.buffer.y);w&&v&&(w.isWrapped=v[d.CHAR_DATA_CODE_INDEX]!==d.NULL_CELL_CODE&&v[d.CHAR_DATA_CODE_INDEX]!==d.WHITESPACE_CELL_CODE)}},3734:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ExtendedAttrs=c.AttributeData=void 0;class h{constructor(){this.fg=0,this.bg=0,this.extended=new d}static toColorRGB(_){return[_>>>16&255,_>>>8&255,255&_]}static fromColorRGB(_){return(255&_[0])<<16|(255&_[1])<<8|255&_[2]}clone(){const _=new h;return _.fg=this.fg,_.bg=this.bg,_.extended=this.extended.clone(),_}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}c.AttributeData=h;class d{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(_){this._ext=_}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(_){this._ext&=-469762049,this._ext|=_<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(_){this._ext&=-67108864,this._ext|=67108863&_}get urlId(){return this._urlId}set urlId(_){this._urlId=_}constructor(_=0,v=0){this._ext=0,this._urlId=0,this._ext=_,this._urlId=v}clone(){return new d(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}c.ExtendedAttrs=d},9092:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Buffer=c.MAX_BUFFER_SIZE=void 0;const d=h(6349),b=h(7226),_=h(3734),v=h(8437),w=h(4634),x=h(511),y=h(643),n=h(4863),a=h(7116);c.MAX_BUFFER_SIZE=4294967295,c.Buffer=class{constructor(o,u,p){this._hasScrollback=o,this._optionsService=u,this._bufferService=p,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=v.DEFAULT_ATTR_DATA.clone(),this.savedCharset=a.DEFAULT_CHARSET,this.markers=[],this._nullCell=x.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]),this._whitespaceCell=x.CellData.fromCharData([0,y.WHITESPACE_CELL_CHAR,y.WHITESPACE_CELL_WIDTH,y.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new b.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(o){return o?(this._nullCell.fg=o.fg,this._nullCell.bg=o.bg,this._nullCell.extended=o.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new _.ExtendedAttrs),this._nullCell}getWhitespaceCell(o){return o?(this._whitespaceCell.fg=o.fg,this._whitespaceCell.bg=o.bg,this._whitespaceCell.extended=o.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new _.ExtendedAttrs),this._whitespaceCell}getBlankLine(o,u){return new v.BufferLine(this._bufferService.cols,this.getNullCell(o),u)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const o=this.ybase+this.y-this.ydisp;return o>=0&&o<this._rows}_getCorrectBufferLength(o){if(!this._hasScrollback)return o;const u=o+this._optionsService.rawOptions.scrollback;return u>c.MAX_BUFFER_SIZE?c.MAX_BUFFER_SIZE:u}fillViewportRows(o){if(this.lines.length===0){o===void 0&&(o=v.DEFAULT_ATTR_DATA);let u=this._rows;for(;u--;)this.lines.push(this.getBlankLine(o))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(o,u){const p=this.getNullCell(v.DEFAULT_ATTR_DATA);let g=0;const E=this._getCorrectBufferLength(u);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<o)for(let m=0;m<this.lines.length;m++)g+=+this.lines.get(m).resize(o,p);let L=0;if(this._rows<u)for(let m=this._rows;m<u;m++)this.lines.length<u+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new v.BufferLine(o,p)):this.ybase>0&&this.lines.length<=this.ybase+this.y+L+1?(this.ybase--,L++,this.ydisp>0&&this.ydisp--):this.lines.push(new v.BufferLine(o,p)));else for(let m=this._rows;m>u;m--)this.lines.length>u+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const m=this.lines.length-E;m>0&&(this.lines.trimStart(m),this.ybase=Math.max(this.ybase-m,0),this.ydisp=Math.max(this.ydisp-m,0),this.savedY=Math.max(this.savedY-m,0)),this.lines.maxLength=E}this.x=Math.min(this.x,o-1),this.y=Math.min(this.y,u-1),L&&(this.y+=L),this.savedX=Math.min(this.savedX,o-1),this.scrollTop=0}if(this.scrollBottom=u-1,this._isReflowEnabled&&(this._reflow(o,u),this._cols>o))for(let L=0;L<this.lines.length;L++)g+=+this.lines.get(L).resize(o,p);this._cols=o,this._rows=u,this._memoryCleanupQueue.clear(),g>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let o=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,o=!1);let u=0;for(;this._memoryCleanupPosition<this.lines.length;)if(u+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),u>100)return!0;return o}get _isReflowEnabled(){const o=this._optionsService.rawOptions.windowsPty;return o&&o.buildNumber?this._hasScrollback&&o.backend==="conpty"&&o.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(o,u){this._cols!==o&&(o>this._cols?this._reflowLarger(o,u):this._reflowSmaller(o,u))}_reflowLarger(o,u){const p=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,o,this.ybase+this.y,this.getNullCell(v.DEFAULT_ATTR_DATA));if(p.length>0){const g=(0,w.reflowLargerCreateNewLayout)(this.lines,p);(0,w.reflowLargerApplyNewLayout)(this.lines,g.layout),this._reflowLargerAdjustViewport(o,u,g.countRemoved)}}_reflowLargerAdjustViewport(o,u,p){const g=this.getNullCell(v.DEFAULT_ATTR_DATA);let E=p;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<u&&this.lines.push(new v.BufferLine(o,g))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-p,0)}_reflowSmaller(o,u){const p=this.getNullCell(v.DEFAULT_ATTR_DATA),g=[];let E=0;for(let L=this.lines.length-1;L>=0;L--){let m=this.lines.get(L);if(!m||!m.isWrapped&&m.getTrimmedLength()<=o)continue;const M=[m];for(;m.isWrapped&&L>0;)m=this.lines.get(--L),M.unshift(m);const q=this.ybase+this.y;if(q>=L&&q<L+M.length)continue;const Y=M[M.length-1].getTrimmedLength(),I=(0,w.reflowSmallerGetNewLineLengths)(M,this._cols,o),K=I.length-M.length;let $;$=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+K):Math.max(0,this.lines.length-this.lines.maxLength+K);const G=[];for(let P=0;P<K;P++){const J=this.getBlankLine(v.DEFAULT_ATTR_DATA,!0);G.push(J)}G.length>0&&(g.push({start:L+M.length+E,newLines:G}),E+=G.length),M.push(...G);let O=I.length-1,U=I[O];U===0&&(O--,U=I[O]);let k=M.length-K-1,F=Y;for(;k>=0;){const P=Math.min(F,U);if(M[O]===void 0)break;if(M[O].copyCellsFrom(M[k],F-P,U-P,P,!0),U-=P,U===0&&(O--,U=I[O]),F-=P,F===0){k--;const J=Math.max(k,0);F=(0,w.getWrappedLineTrimmedLength)(M,J,this._cols)}}for(let P=0;P<M.length;P++)I[P]<o&&M[P].setCell(I[P],p);let T=K-$;for(;T-- >0;)this.ybase===0?this.y<u-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-u&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+K,this.ybase+u-1)}if(g.length>0){const L=[],m=[];for(let O=0;O<this.lines.length;O++)m.push(this.lines.get(O));const M=this.lines.length;let q=M-1,Y=0,I=g[Y];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let K=0;for(let O=Math.min(this.lines.maxLength-1,M+E-1);O>=0;O--)if(I&&I.start>q+K){for(let U=I.newLines.length-1;U>=0;U--)this.lines.set(O--,I.newLines[U]);O++,L.push({index:q+1,amount:I.newLines.length}),K+=I.newLines.length,I=g[++Y]}else this.lines.set(O,m[q--]);let $=0;for(let O=L.length-1;O>=0;O--)L[O].index+=$,this.lines.onInsertEmitter.fire(L[O]),$+=L[O].amount;const G=Math.max(0,M+E-this.lines.maxLength);G>0&&this.lines.onTrimEmitter.fire(G)}}translateBufferLineToString(o,u,p=0,g){const E=this.lines.get(o);return E?E.translateToString(u,p,g):""}getWrappedRangeForLine(o){let u=o,p=o;for(;u>0&&this.lines.get(u).isWrapped;)u--;for(;p+1<this.lines.length&&this.lines.get(p+1).isWrapped;)p++;return{first:u,last:p}}setupTabStops(o){for(o!=null?this.tabs[o]||(o=this.prevStop(o)):(this.tabs={},o=0);o<this._cols;o+=this._optionsService.rawOptions.tabStopWidth)this.tabs[o]=!0}prevStop(o){for(o==null&&(o=this.x);!this.tabs[--o]&&o>0;);return o>=this._cols?this._cols-1:o<0?0:o}nextStop(o){for(o==null&&(o=this.x);!this.tabs[++o]&&o<this._cols;);return o>=this._cols?this._cols-1:o<0?0:o}clearMarkers(o){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].line===o&&(this.markers[u].dispose(),this.markers.splice(u--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let o=0;o<this.markers.length;o++)this.markers[o].dispose(),this.markers.splice(o--,1);this._isClearing=!1}addMarker(o){const u=new n.Marker(o);return this.markers.push(u),u.register(this.lines.onTrim(p=>{u.line-=p,u.line<0&&u.dispose()})),u.register(this.lines.onInsert(p=>{u.line>=p.index&&(u.line+=p.amount)})),u.register(this.lines.onDelete(p=>{u.line>=p.index&&u.line<p.index+p.amount&&u.dispose(),u.line>p.index&&(u.line-=p.amount)})),u.register(u.onDispose(()=>this._removeMarker(u))),u}_removeMarker(o){this._isClearing||this.markers.splice(this.markers.indexOf(o),1)}}},8437:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferLine=c.DEFAULT_ATTR_DATA=void 0;const d=h(3734),b=h(511),_=h(643),v=h(482);c.DEFAULT_ATTR_DATA=Object.freeze(new d.AttributeData);let w=0;class x{constructor(n,a,o=!1){this.isWrapped=o,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*n);const u=a||b.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]);for(let p=0;p<n;++p)this.setCell(p,u);this.length=n}get(n){const a=this._data[3*n+0],o=2097151&a;return[this._data[3*n+1],2097152&a?this._combined[n]:o?(0,v.stringFromCodePoint)(o):"",a>>22,2097152&a?this._combined[n].charCodeAt(this._combined[n].length-1):o]}set(n,a){this._data[3*n+1]=a[_.CHAR_DATA_ATTR_INDEX],a[_.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[n]=a[1],this._data[3*n+0]=2097152|n|a[_.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*n+0]=a[_.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|a[_.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(n){return this._data[3*n+0]>>22}hasWidth(n){return 12582912&this._data[3*n+0]}getFg(n){return this._data[3*n+1]}getBg(n){return this._data[3*n+2]}hasContent(n){return 4194303&this._data[3*n+0]}getCodePoint(n){const a=this._data[3*n+0];return 2097152&a?this._combined[n].charCodeAt(this._combined[n].length-1):2097151&a}isCombined(n){return 2097152&this._data[3*n+0]}getString(n){const a=this._data[3*n+0];return 2097152&a?this._combined[n]:2097151&a?(0,v.stringFromCodePoint)(2097151&a):""}isProtected(n){return 536870912&this._data[3*n+2]}loadCell(n,a){return w=3*n,a.content=this._data[w+0],a.fg=this._data[w+1],a.bg=this._data[w+2],2097152&a.content&&(a.combinedData=this._combined[n]),268435456&a.bg&&(a.extended=this._extendedAttrs[n]),a}setCell(n,a){2097152&a.content&&(this._combined[n]=a.combinedData),268435456&a.bg&&(this._extendedAttrs[n]=a.extended),this._data[3*n+0]=a.content,this._data[3*n+1]=a.fg,this._data[3*n+2]=a.bg}setCellFromCodePoint(n,a,o,u,p,g){268435456&p&&(this._extendedAttrs[n]=g),this._data[3*n+0]=a|o<<22,this._data[3*n+1]=u,this._data[3*n+2]=p}addCodepointToCell(n,a){let o=this._data[3*n+0];2097152&o?this._combined[n]+=(0,v.stringFromCodePoint)(a):(2097151&o?(this._combined[n]=(0,v.stringFromCodePoint)(2097151&o)+(0,v.stringFromCodePoint)(a),o&=-2097152,o|=2097152):o=a|4194304,this._data[3*n+0]=o)}insertCells(n,a,o,u){if((n%=this.length)&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new d.ExtendedAttrs),a<this.length-n){const p=new b.CellData;for(let g=this.length-n-a-1;g>=0;--g)this.setCell(n+a+g,this.loadCell(n+g,p));for(let g=0;g<a;++g)this.setCell(n+g,o)}else for(let p=n;p<this.length;++p)this.setCell(p,o);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new d.ExtendedAttrs)}deleteCells(n,a,o,u){if(n%=this.length,a<this.length-n){const p=new b.CellData;for(let g=0;g<this.length-n-a;++g)this.setCell(n+g,this.loadCell(n+a+g,p));for(let g=this.length-a;g<this.length;++g)this.setCell(g,o)}else for(let p=n;p<this.length;++p)this.setCell(p,o);n&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new d.ExtendedAttrs),this.getWidth(n)!==0||this.hasContent(n)||this.setCellFromCodePoint(n,0,1,u?.fg||0,u?.bg||0,u?.extended||new d.ExtendedAttrs)}replaceCells(n,a,o,u,p=!1){if(p)for(n&&this.getWidth(n-1)===2&&!this.isProtected(n-1)&&this.setCellFromCodePoint(n-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new d.ExtendedAttrs),a<this.length&&this.getWidth(a-1)===2&&!this.isProtected(a)&&this.setCellFromCodePoint(a,0,1,u?.fg||0,u?.bg||0,u?.extended||new d.ExtendedAttrs);n<a&&n<this.length;)this.isProtected(n)||this.setCell(n,o),n++;else for(n&&this.getWidth(n-1)===2&&this.setCellFromCodePoint(n-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new d.ExtendedAttrs),a<this.length&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a,0,1,u?.fg||0,u?.bg||0,u?.extended||new d.ExtendedAttrs);n<a&&n<this.length;)this.setCell(n++,o)}resize(n,a){if(n===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const o=3*n;if(n>this.length){if(this._data.buffer.byteLength>=4*o)this._data=new Uint32Array(this._data.buffer,0,o);else{const u=new Uint32Array(o);u.set(this._data),this._data=u}for(let u=this.length;u<n;++u)this.setCell(u,a)}else{this._data=this._data.subarray(0,o);const u=Object.keys(this._combined);for(let g=0;g<u.length;g++){const E=parseInt(u[g],10);E>=n&&delete this._combined[E]}const p=Object.keys(this._extendedAttrs);for(let g=0;g<p.length;g++){const E=parseInt(p[g],10);E>=n&&delete this._extendedAttrs[E]}}return this.length=n,4*o*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const n=new Uint32Array(this._data.length);return n.set(this._data),this._data=n,1}return 0}fill(n,a=!1){if(a)for(let o=0;o<this.length;++o)this.isProtected(o)||this.setCell(o,n);else{this._combined={},this._extendedAttrs={};for(let o=0;o<this.length;++o)this.setCell(o,n)}}copyFrom(n){this.length!==n.length?this._data=new Uint32Array(n._data):this._data.set(n._data),this.length=n.length,this._combined={};for(const a in n._combined)this._combined[a]=n._combined[a];this._extendedAttrs={};for(const a in n._extendedAttrs)this._extendedAttrs[a]=n._extendedAttrs[a];this.isWrapped=n.isWrapped}clone(){const n=new x(0);n._data=new Uint32Array(this._data),n.length=this.length;for(const a in this._combined)n._combined[a]=this._combined[a];for(const a in this._extendedAttrs)n._extendedAttrs[a]=this._extendedAttrs[a];return n.isWrapped=this.isWrapped,n}getTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0])return n+(this._data[3*n+0]>>22);return 0}getNoBgTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0]||50331648&this._data[3*n+2])return n+(this._data[3*n+0]>>22);return 0}copyCellsFrom(n,a,o,u,p){const g=n._data;if(p)for(let L=u-1;L>=0;L--){for(let m=0;m<3;m++)this._data[3*(o+L)+m]=g[3*(a+L)+m];268435456&g[3*(a+L)+2]&&(this._extendedAttrs[o+L]=n._extendedAttrs[a+L])}else for(let L=0;L<u;L++){for(let m=0;m<3;m++)this._data[3*(o+L)+m]=g[3*(a+L)+m];268435456&g[3*(a+L)+2]&&(this._extendedAttrs[o+L]=n._extendedAttrs[a+L])}const E=Object.keys(n._combined);for(let L=0;L<E.length;L++){const m=parseInt(E[L],10);m>=a&&(this._combined[m-a+o]=n._combined[m])}}translateToString(n=!1,a=0,o=this.length){n&&(o=Math.min(o,this.getTrimmedLength()));let u="";for(;a<o;){const p=this._data[3*a+0],g=2097151&p;u+=2097152&p?this._combined[a]:g?(0,v.stringFromCodePoint)(g):_.WHITESPACE_CELL_CHAR,a+=p>>22||1}return u}}c.BufferLine=x},4841:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getRangeLength=void 0,c.getRangeLength=function(h,d){if(h.start.y>h.end.y)throw new Error(`Buffer range end (${h.end.x}, ${h.end.y}) cannot be before start (${h.start.x}, ${h.start.y})`);return d*(h.end.y-h.start.y)+(h.end.x-h.start.x+1)}},4634:(H,c)=>{function h(d,b,_){if(b===d.length-1)return d[b].getTrimmedLength();const v=!d[b].hasContent(_-1)&&d[b].getWidth(_-1)===1,w=d[b+1].getWidth(0)===2;return v&&w?_-1:_}Object.defineProperty(c,"__esModule",{value:!0}),c.getWrappedLineTrimmedLength=c.reflowSmallerGetNewLineLengths=c.reflowLargerApplyNewLayout=c.reflowLargerCreateNewLayout=c.reflowLargerGetLinesToRemove=void 0,c.reflowLargerGetLinesToRemove=function(d,b,_,v,w){const x=[];for(let y=0;y<d.length-1;y++){let n=y,a=d.get(++n);if(!a.isWrapped)continue;const o=[d.get(y)];for(;n<d.length&&a.isWrapped;)o.push(a),a=d.get(++n);if(v>=y&&v<n){y+=o.length-1;continue}let u=0,p=h(o,u,b),g=1,E=0;for(;g<o.length;){const m=h(o,g,b),M=m-E,q=_-p,Y=Math.min(M,q);o[u].copyCellsFrom(o[g],E,p,Y,!1),p+=Y,p===_&&(u++,p=0),E+=Y,E===m&&(g++,E=0),p===0&&u!==0&&o[u-1].getWidth(_-1)===2&&(o[u].copyCellsFrom(o[u-1],_-1,p++,1,!1),o[u-1].setCell(_-1,w))}o[u].replaceCells(p,_,w);let L=0;for(let m=o.length-1;m>0&&(m>u||o[m].getTrimmedLength()===0);m--)L++;L>0&&(x.push(y+o.length-L),x.push(L)),y+=o.length-1}return x},c.reflowLargerCreateNewLayout=function(d,b){const _=[];let v=0,w=b[v],x=0;for(let y=0;y<d.length;y++)if(w===y){const n=b[++v];d.onDeleteEmitter.fire({index:y-x,amount:n}),y+=n-1,x+=n,w=b[++v]}else _.push(y);return{layout:_,countRemoved:x}},c.reflowLargerApplyNewLayout=function(d,b){const _=[];for(let v=0;v<b.length;v++)_.push(d.get(b[v]));for(let v=0;v<_.length;v++)d.set(v,_[v]);d.length=b.length},c.reflowSmallerGetNewLineLengths=function(d,b,_){const v=[],w=d.map((a,o)=>h(d,o,b)).reduce((a,o)=>a+o);let x=0,y=0,n=0;for(;n<w;){if(w-n<_){v.push(w-n);break}x+=_;const a=h(d,y,b);x>a&&(x-=a,y++);const o=d[y].getWidth(x-1)===2;o&&x--;const u=o?_-1:_;v.push(u),n+=u}return v},c.getWrappedLineTrimmedLength=h},5295:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferSet=void 0;const d=h(8460),b=h(844),_=h(9092);class v extends b.Disposable{constructor(x,y){super(),this._optionsService=x,this._bufferService=y,this._onBufferActivate=this.register(new d.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new _.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new _.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(x){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(x),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(x,y){this._normal.resize(x,y),this._alt.resize(x,y),this.setupTabStops(x)}setupTabStops(x){this._normal.setupTabStops(x),this._alt.setupTabStops(x)}}c.BufferSet=v},511:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CellData=void 0;const d=h(482),b=h(643),_=h(3734);class v extends _.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new _.ExtendedAttrs,this.combinedData=""}static fromCharData(x){const y=new v;return y.setFromCharData(x),y}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,d.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(x){this.fg=x[b.CHAR_DATA_ATTR_INDEX],this.bg=0;let y=!1;if(x[b.CHAR_DATA_CHAR_INDEX].length>2)y=!0;else if(x[b.CHAR_DATA_CHAR_INDEX].length===2){const n=x[b.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=n&&n<=56319){const a=x[b.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=a&&a<=57343?this.content=1024*(n-55296)+a-56320+65536|x[b.CHAR_DATA_WIDTH_INDEX]<<22:y=!0}else y=!0}else this.content=x[b.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|x[b.CHAR_DATA_WIDTH_INDEX]<<22;y&&(this.combinedData=x[b.CHAR_DATA_CHAR_INDEX],this.content=2097152|x[b.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}c.CellData=v},643:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WHITESPACE_CELL_CODE=c.WHITESPACE_CELL_WIDTH=c.WHITESPACE_CELL_CHAR=c.NULL_CELL_CODE=c.NULL_CELL_WIDTH=c.NULL_CELL_CHAR=c.CHAR_DATA_CODE_INDEX=c.CHAR_DATA_WIDTH_INDEX=c.CHAR_DATA_CHAR_INDEX=c.CHAR_DATA_ATTR_INDEX=c.DEFAULT_EXT=c.DEFAULT_ATTR=c.DEFAULT_COLOR=void 0,c.DEFAULT_COLOR=0,c.DEFAULT_ATTR=256|c.DEFAULT_COLOR<<9,c.DEFAULT_EXT=0,c.CHAR_DATA_ATTR_INDEX=0,c.CHAR_DATA_CHAR_INDEX=1,c.CHAR_DATA_WIDTH_INDEX=2,c.CHAR_DATA_CODE_INDEX=3,c.NULL_CELL_CHAR="",c.NULL_CELL_WIDTH=1,c.NULL_CELL_CODE=0,c.WHITESPACE_CELL_CHAR=" ",c.WHITESPACE_CELL_WIDTH=1,c.WHITESPACE_CELL_CODE=32},4863:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Marker=void 0;const d=h(8460),b=h(844);class _{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=_._nextId++,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,b.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}c.Marker=_,_._nextId=1},7116:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_CHARSET=c.CHARSETS=void 0,c.CHARSETS={},c.DEFAULT_CHARSET=c.CHARSETS.B,c.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},c.CHARSETS.A={"#":""},c.CHARSETS.B=void 0,c.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},c.CHARSETS.C=c.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},c.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},c.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS.E=c.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},c.CHARSETS.H=c.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},c.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(H,c)=>{var h,d,b;Object.defineProperty(c,"__esModule",{value:!0}),c.C1_ESCAPED=c.C1=c.C0=void 0,function(_){_.NUL="\0",_.SOH="",_.STX="",_.ETX="",_.EOT="",_.ENQ="",_.ACK="",_.BEL="\x07",_.BS="\b",_.HT="	",_.LF=`
`,_.VT="\v",_.FF="\f",_.CR="\r",_.SO="",_.SI="",_.DLE="",_.DC1="",_.DC2="",_.DC3="",_.DC4="",_.NAK="",_.SYN="",_.ETB="",_.CAN="",_.EM="",_.SUB="",_.ESC="\x1B",_.FS="",_.GS="",_.RS="",_.US="",_.SP=" ",_.DEL=""}(h||(c.C0=h={})),function(_){_.PAD="",_.HOP="",_.BPH="",_.NBH="",_.IND="",_.NEL="",_.SSA="",_.ESA="",_.HTS="",_.HTJ="",_.VTS="",_.PLD="",_.PLU="",_.RI="",_.SS2="",_.SS3="",_.DCS="",_.PU1="",_.PU2="",_.STS="",_.CCH="",_.MW="",_.SPA="",_.EPA="",_.SOS="",_.SGCI="",_.SCI="",_.CSI="",_.ST="",_.OSC="",_.PM="",_.APC=""}(d||(c.C1=d={})),function(_){_.ST=`${h.ESC}\\`}(b||(c.C1_ESCAPED=b={}))},7399:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.evaluateKeyboardEvent=void 0;const d=h(2584),b={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};c.evaluateKeyboardEvent=function(_,v,w,x){const y={type:0,cancel:!1,key:void 0},n=(_.shiftKey?1:0)|(_.altKey?2:0)|(_.ctrlKey?4:0)|(_.metaKey?8:0);switch(_.keyCode){case 0:_.key==="UIKeyInputUpArrow"?y.key=v?d.C0.ESC+"OA":d.C0.ESC+"[A":_.key==="UIKeyInputLeftArrow"?y.key=v?d.C0.ESC+"OD":d.C0.ESC+"[D":_.key==="UIKeyInputRightArrow"?y.key=v?d.C0.ESC+"OC":d.C0.ESC+"[C":_.key==="UIKeyInputDownArrow"&&(y.key=v?d.C0.ESC+"OB":d.C0.ESC+"[B");break;case 8:if(_.altKey){y.key=d.C0.ESC+d.C0.DEL;break}y.key=d.C0.DEL;break;case 9:if(_.shiftKey){y.key=d.C0.ESC+"[Z";break}y.key=d.C0.HT,y.cancel=!0;break;case 13:y.key=_.altKey?d.C0.ESC+d.C0.CR:d.C0.CR,y.cancel=!0;break;case 27:y.key=d.C0.ESC,_.altKey&&(y.key=d.C0.ESC+d.C0.ESC),y.cancel=!0;break;case 37:if(_.metaKey)break;n?(y.key=d.C0.ESC+"[1;"+(n+1)+"D",y.key===d.C0.ESC+"[1;3D"&&(y.key=d.C0.ESC+(w?"b":"[1;5D"))):y.key=v?d.C0.ESC+"OD":d.C0.ESC+"[D";break;case 39:if(_.metaKey)break;n?(y.key=d.C0.ESC+"[1;"+(n+1)+"C",y.key===d.C0.ESC+"[1;3C"&&(y.key=d.C0.ESC+(w?"f":"[1;5C"))):y.key=v?d.C0.ESC+"OC":d.C0.ESC+"[C";break;case 38:if(_.metaKey)break;n?(y.key=d.C0.ESC+"[1;"+(n+1)+"A",w||y.key!==d.C0.ESC+"[1;3A"||(y.key=d.C0.ESC+"[1;5A")):y.key=v?d.C0.ESC+"OA":d.C0.ESC+"[A";break;case 40:if(_.metaKey)break;n?(y.key=d.C0.ESC+"[1;"+(n+1)+"B",w||y.key!==d.C0.ESC+"[1;3B"||(y.key=d.C0.ESC+"[1;5B")):y.key=v?d.C0.ESC+"OB":d.C0.ESC+"[B";break;case 45:_.shiftKey||_.ctrlKey||(y.key=d.C0.ESC+"[2~");break;case 46:y.key=n?d.C0.ESC+"[3;"+(n+1)+"~":d.C0.ESC+"[3~";break;case 36:y.key=n?d.C0.ESC+"[1;"+(n+1)+"H":v?d.C0.ESC+"OH":d.C0.ESC+"[H";break;case 35:y.key=n?d.C0.ESC+"[1;"+(n+1)+"F":v?d.C0.ESC+"OF":d.C0.ESC+"[F";break;case 33:_.shiftKey?y.type=2:_.ctrlKey?y.key=d.C0.ESC+"[5;"+(n+1)+"~":y.key=d.C0.ESC+"[5~";break;case 34:_.shiftKey?y.type=3:_.ctrlKey?y.key=d.C0.ESC+"[6;"+(n+1)+"~":y.key=d.C0.ESC+"[6~";break;case 112:y.key=n?d.C0.ESC+"[1;"+(n+1)+"P":d.C0.ESC+"OP";break;case 113:y.key=n?d.C0.ESC+"[1;"+(n+1)+"Q":d.C0.ESC+"OQ";break;case 114:y.key=n?d.C0.ESC+"[1;"+(n+1)+"R":d.C0.ESC+"OR";break;case 115:y.key=n?d.C0.ESC+"[1;"+(n+1)+"S":d.C0.ESC+"OS";break;case 116:y.key=n?d.C0.ESC+"[15;"+(n+1)+"~":d.C0.ESC+"[15~";break;case 117:y.key=n?d.C0.ESC+"[17;"+(n+1)+"~":d.C0.ESC+"[17~";break;case 118:y.key=n?d.C0.ESC+"[18;"+(n+1)+"~":d.C0.ESC+"[18~";break;case 119:y.key=n?d.C0.ESC+"[19;"+(n+1)+"~":d.C0.ESC+"[19~";break;case 120:y.key=n?d.C0.ESC+"[20;"+(n+1)+"~":d.C0.ESC+"[20~";break;case 121:y.key=n?d.C0.ESC+"[21;"+(n+1)+"~":d.C0.ESC+"[21~";break;case 122:y.key=n?d.C0.ESC+"[23;"+(n+1)+"~":d.C0.ESC+"[23~";break;case 123:y.key=n?d.C0.ESC+"[24;"+(n+1)+"~":d.C0.ESC+"[24~";break;default:if(!_.ctrlKey||_.shiftKey||_.altKey||_.metaKey)if(w&&!x||!_.altKey||_.metaKey)!w||_.altKey||_.ctrlKey||_.shiftKey||!_.metaKey?_.key&&!_.ctrlKey&&!_.altKey&&!_.metaKey&&_.keyCode>=48&&_.key.length===1?y.key=_.key:_.key&&_.ctrlKey&&(_.key==="_"&&(y.key=d.C0.US),_.key==="@"&&(y.key=d.C0.NUL)):_.keyCode===65&&(y.type=1);else{const a=b[_.keyCode],o=a?.[_.shiftKey?1:0];if(o)y.key=d.C0.ESC+o;else if(_.keyCode>=65&&_.keyCode<=90){const u=_.ctrlKey?_.keyCode-64:_.keyCode+32;let p=String.fromCharCode(u);_.shiftKey&&(p=p.toUpperCase()),y.key=d.C0.ESC+p}else if(_.keyCode===32)y.key=d.C0.ESC+(_.ctrlKey?d.C0.NUL:" ");else if(_.key==="Dead"&&_.code.startsWith("Key")){let u=_.code.slice(3,4);_.shiftKey||(u=u.toLowerCase()),y.key=d.C0.ESC+u,y.cancel=!0}}else _.keyCode>=65&&_.keyCode<=90?y.key=String.fromCharCode(_.keyCode-64):_.keyCode===32?y.key=d.C0.NUL:_.keyCode>=51&&_.keyCode<=55?y.key=String.fromCharCode(_.keyCode-51+27):_.keyCode===56?y.key=d.C0.DEL:_.keyCode===219?y.key=d.C0.ESC:_.keyCode===220?y.key=d.C0.FS:_.keyCode===221&&(y.key=d.C0.GS)}return y}},482:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Utf8ToUtf32=c.StringToUtf32=c.utf32ToString=c.stringFromCodePoint=void 0,c.stringFromCodePoint=function(h){return h>65535?(h-=65536,String.fromCharCode(55296+(h>>10))+String.fromCharCode(h%1024+56320)):String.fromCharCode(h)},c.utf32ToString=function(h,d=0,b=h.length){let _="";for(let v=d;v<b;++v){let w=h[v];w>65535?(w-=65536,_+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):_+=String.fromCharCode(w)}return _},c.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(h,d){const b=h.length;if(!b)return 0;let _=0,v=0;if(this._interim){const w=h.charCodeAt(v++);56320<=w&&w<=57343?d[_++]=1024*(this._interim-55296)+w-56320+65536:(d[_++]=this._interim,d[_++]=w),this._interim=0}for(let w=v;w<b;++w){const x=h.charCodeAt(w);if(55296<=x&&x<=56319){if(++w>=b)return this._interim=x,_;const y=h.charCodeAt(w);56320<=y&&y<=57343?d[_++]=1024*(x-55296)+y-56320+65536:(d[_++]=x,d[_++]=y)}else x!==65279&&(d[_++]=x)}return _}},c.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(h,d){const b=h.length;if(!b)return 0;let _,v,w,x,y=0,n=0,a=0;if(this.interim[0]){let p=!1,g=this.interim[0];g&=(224&g)==192?31:(240&g)==224?15:7;let E,L=0;for(;(E=63&this.interim[++L])&&L<4;)g<<=6,g|=E;const m=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,M=m-L;for(;a<M;){if(a>=b)return 0;if(E=h[a++],(192&E)!=128){a--,p=!0;break}this.interim[L++]=E,g<<=6,g|=63&E}p||(m===2?g<128?a--:d[y++]=g:m===3?g<2048||g>=55296&&g<=57343||g===65279||(d[y++]=g):g<65536||g>1114111||(d[y++]=g)),this.interim.fill(0)}const o=b-4;let u=a;for(;u<b;){for(;!(!(u<o)||128&(_=h[u])||128&(v=h[u+1])||128&(w=h[u+2])||128&(x=h[u+3]));)d[y++]=_,d[y++]=v,d[y++]=w,d[y++]=x,u+=4;if(_=h[u++],_<128)d[y++]=_;else if((224&_)==192){if(u>=b)return this.interim[0]=_,y;if(v=h[u++],(192&v)!=128){u--;continue}if(n=(31&_)<<6|63&v,n<128){u--;continue}d[y++]=n}else if((240&_)==224){if(u>=b)return this.interim[0]=_,y;if(v=h[u++],(192&v)!=128){u--;continue}if(u>=b)return this.interim[0]=_,this.interim[1]=v,y;if(w=h[u++],(192&w)!=128){u--;continue}if(n=(15&_)<<12|(63&v)<<6|63&w,n<2048||n>=55296&&n<=57343||n===65279)continue;d[y++]=n}else if((248&_)==240){if(u>=b)return this.interim[0]=_,y;if(v=h[u++],(192&v)!=128){u--;continue}if(u>=b)return this.interim[0]=_,this.interim[1]=v,y;if(w=h[u++],(192&w)!=128){u--;continue}if(u>=b)return this.interim[0]=_,this.interim[1]=v,this.interim[2]=w,y;if(x=h[u++],(192&x)!=128){u--;continue}if(n=(7&_)<<18|(63&v)<<12|(63&w)<<6|63&x,n<65536||n>1114111)continue;d[y++]=n}}return y}}},225:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeV6=void 0;const h=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],d=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let b;c.UnicodeV6=class{constructor(){if(this.version="6",!b){b=new Uint8Array(65536),b.fill(1),b[0]=0,b.fill(0,1,32),b.fill(0,127,160),b.fill(2,4352,4448),b[9001]=2,b[9002]=2,b.fill(2,11904,42192),b[12351]=1,b.fill(2,44032,55204),b.fill(2,63744,64256),b.fill(2,65040,65050),b.fill(2,65072,65136),b.fill(2,65280,65377),b.fill(2,65504,65511);for(let _=0;_<h.length;++_)b.fill(0,h[_][0],h[_][1]+1)}}wcwidth(_){return _<32?0:_<127?1:_<65536?b[_]:function(v,w){let x,y=0,n=w.length-1;if(v<w[0][0]||v>w[n][1])return!1;for(;n>=y;)if(x=y+n>>1,v>w[x][1])y=x+1;else{if(!(v<w[x][0]))return!0;n=x-1}return!1}(_,d)?0:_>=131072&&_<=196605||_>=196608&&_<=262141?2:1}}},5981:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WriteBuffer=void 0;const d=h(8460),b=h(844);class _ extends b.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,x){if(x!==void 0&&this._syncCalls>x)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let y;for(this._isSyncWriting=!0;y=this._writeBuffer.shift();){this._action(y);const n=this._callbacks.shift();n&&n()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,x){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(x),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(x)}_innerWrite(w=0,x=!0){const y=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const n=this._writeBuffer[this._bufferOffset],a=this._action(n,x);if(a){const u=p=>Date.now()-y>=12?setTimeout(()=>this._innerWrite(0,p)):this._innerWrite(y,p);return void a.catch(p=>(queueMicrotask(()=>{throw p}),Promise.resolve(!1))).then(u)}const o=this._callbacks[this._bufferOffset];if(o&&o(),this._bufferOffset++,this._pendingData-=n.length,Date.now()-y>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}c.WriteBuffer=_},5941:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.toRgbString=c.parseColor=void 0;const h=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,d=/^[\da-f]+$/;function b(_,v){const w=_.toString(16),x=w.length<2?"0"+w:w;switch(v){case 4:return w[0];case 8:return x;case 12:return(x+x).slice(0,3);default:return x+x}}c.parseColor=function(_){if(!_)return;let v=_.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const w=h.exec(v);if(w){const x=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/x*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/x*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/x*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),d.exec(v)&&[3,6,9,12].includes(v.length))){const w=v.length/3,x=[0,0,0];for(let y=0;y<3;++y){const n=parseInt(v.slice(w*y,w*y+w),16);x[y]=w===1?n<<4:w===2?n:w===3?n>>4:n>>8}return x}},c.toRgbString=function(_,v=16){const[w,x,y]=_;return`rgb:${b(w,v)}/${b(x,v)}/${b(y,v)}`}},5770:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PAYLOAD_LIMIT=void 0,c.PAYLOAD_LIMIT=1e7},6351:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DcsHandler=c.DcsParser=void 0;const d=h(482),b=h(8742),_=h(5770),v=[];c.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(x,y){this._handlers[x]===void 0&&(this._handlers[x]=[]);const n=this._handlers[x];return n.push(y),{dispose:()=>{const a=n.indexOf(y);a!==-1&&n.splice(a,1)}}}clearHandler(x){this._handlers[x]&&delete this._handlers[x]}setHandlerFallback(x){this._handlerFb=x}reset(){if(this._active.length)for(let x=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;x>=0;--x)this._active[x].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(x,y){if(this.reset(),this._ident=x,this._active=this._handlers[x]||v,this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].hook(y);else this._handlerFb(this._ident,"HOOK",y)}put(x,y,n){if(this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].put(x,y,n);else this._handlerFb(this._ident,"PUT",(0,d.utf32ToString)(x,y,n))}unhook(x,y=!0){if(this._active.length){let n=!1,a=this._active.length-1,o=!1;if(this._stack.paused&&(a=this._stack.loopPosition-1,n=y,o=this._stack.fallThrough,this._stack.paused=!1),!o&&n===!1){for(;a>=0&&(n=this._active[a].unhook(x),n!==!0);a--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!1,n;a--}for(;a>=0;a--)if(n=this._active[a].unhook(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!0,n}else this._handlerFb(this._ident,"UNHOOK",x);this._active=v,this._ident=0}};const w=new b.Params;w.addParam(0),c.DcsHandler=class{constructor(x){this._handler=x,this._data="",this._params=w,this._hitLimit=!1}hook(x){this._params=x.length>1||x.params[0]?x.clone():w,this._data="",this._hitLimit=!1}put(x,y,n){this._hitLimit||(this._data+=(0,d.utf32ToString)(x,y,n),this._data.length>_.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(x){let y=!1;if(this._hitLimit)y=!1;else if(x&&(y=this._handler(this._data,this._params),y instanceof Promise))return y.then(n=>(this._params=w,this._data="",this._hitLimit=!1,n));return this._params=w,this._data="",this._hitLimit=!1,y}}},2015:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.EscapeSequenceParser=c.VT500_TRANSITION_TABLE=c.TransitionTable=void 0;const d=h(844),b=h(8742),_=h(6242),v=h(6351);class w{constructor(a){this.table=new Uint8Array(a)}setDefault(a,o){this.table.fill(a<<4|o)}add(a,o,u,p){this.table[o<<8|a]=u<<4|p}addMany(a,o,u,p){for(let g=0;g<a.length;g++)this.table[o<<8|a[g]]=u<<4|p}}c.TransitionTable=w;const x=160;c.VT500_TRANSITION_TABLE=function(){const n=new w(4095),a=Array.apply(null,Array(256)).map((L,m)=>m),o=(L,m)=>a.slice(L,m),u=o(32,127),p=o(0,24);p.push(25),p.push.apply(p,o(28,32));const g=o(0,14);let E;for(E in n.setDefault(1,0),n.addMany(u,0,2,0),g)n.addMany([24,26,153,154],E,3,0),n.addMany(o(128,144),E,3,0),n.addMany(o(144,152),E,3,0),n.add(156,E,0,0),n.add(27,E,11,1),n.add(157,E,4,8),n.addMany([152,158,159],E,0,7),n.add(155,E,11,3),n.add(144,E,11,9);return n.addMany(p,0,3,0),n.addMany(p,1,3,1),n.add(127,1,0,1),n.addMany(p,8,0,8),n.addMany(p,3,3,3),n.add(127,3,0,3),n.addMany(p,4,3,4),n.add(127,4,0,4),n.addMany(p,6,3,6),n.addMany(p,5,3,5),n.add(127,5,0,5),n.addMany(p,2,3,2),n.add(127,2,0,2),n.add(93,1,4,8),n.addMany(u,8,5,8),n.add(127,8,5,8),n.addMany([156,27,24,26,7],8,6,0),n.addMany(o(28,32),8,0,8),n.addMany([88,94,95],1,0,7),n.addMany(u,7,0,7),n.addMany(p,7,0,7),n.add(156,7,0,0),n.add(127,7,0,7),n.add(91,1,11,3),n.addMany(o(64,127),3,7,0),n.addMany(o(48,60),3,8,4),n.addMany([60,61,62,63],3,9,4),n.addMany(o(48,60),4,8,4),n.addMany(o(64,127),4,7,0),n.addMany([60,61,62,63],4,0,6),n.addMany(o(32,64),6,0,6),n.add(127,6,0,6),n.addMany(o(64,127),6,0,0),n.addMany(o(32,48),3,9,5),n.addMany(o(32,48),5,9,5),n.addMany(o(48,64),5,0,6),n.addMany(o(64,127),5,7,0),n.addMany(o(32,48),4,9,5),n.addMany(o(32,48),1,9,2),n.addMany(o(32,48),2,9,2),n.addMany(o(48,127),2,10,0),n.addMany(o(48,80),1,10,0),n.addMany(o(81,88),1,10,0),n.addMany([89,90,92],1,10,0),n.addMany(o(96,127),1,10,0),n.add(80,1,11,9),n.addMany(p,9,0,9),n.add(127,9,0,9),n.addMany(o(28,32),9,0,9),n.addMany(o(32,48),9,9,12),n.addMany(o(48,60),9,8,10),n.addMany([60,61,62,63],9,9,10),n.addMany(p,11,0,11),n.addMany(o(32,128),11,0,11),n.addMany(o(28,32),11,0,11),n.addMany(p,10,0,10),n.add(127,10,0,10),n.addMany(o(28,32),10,0,10),n.addMany(o(48,60),10,8,10),n.addMany([60,61,62,63],10,0,11),n.addMany(o(32,48),10,9,12),n.addMany(p,12,0,12),n.add(127,12,0,12),n.addMany(o(28,32),12,0,12),n.addMany(o(32,48),12,9,12),n.addMany(o(48,64),12,0,11),n.addMany(o(64,127),12,12,13),n.addMany(o(64,127),10,12,13),n.addMany(o(64,127),9,12,13),n.addMany(p,13,13,13),n.addMany(u,13,13,13),n.add(127,13,0,13),n.addMany([27,156,24,26],13,14,0),n.add(x,0,2,0),n.add(x,8,5,8),n.add(x,6,0,6),n.add(x,11,0,11),n.add(x,13,13,13),n}();class y extends d.Disposable{constructor(a=c.VT500_TRANSITION_TABLE){super(),this._transitions=a,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new b.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(o,u,p)=>{},this._executeHandlerFb=o=>{},this._csiHandlerFb=(o,u)=>{},this._escHandlerFb=o=>{},this._errorHandlerFb=o=>o,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,d.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new _.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(a,o=[64,126]){let u=0;if(a.prefix){if(a.prefix.length>1)throw new Error("only one byte as prefix supported");if(u=a.prefix.charCodeAt(0),u&&60>u||u>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(a.intermediates){if(a.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let g=0;g<a.intermediates.length;++g){const E=a.intermediates.charCodeAt(g);if(32>E||E>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");u<<=8,u|=E}}if(a.final.length!==1)throw new Error("final must be a single byte");const p=a.final.charCodeAt(0);if(o[0]>p||p>o[1])throw new Error(`final must be in range ${o[0]} .. ${o[1]}`);return u<<=8,u|=p,u}identToString(a){const o=[];for(;a;)o.push(String.fromCharCode(255&a)),a>>=8;return o.reverse().join("")}setPrintHandler(a){this._printHandler=a}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(a,o){const u=this._identifier(a,[48,126]);this._escHandlers[u]===void 0&&(this._escHandlers[u]=[]);const p=this._escHandlers[u];return p.push(o),{dispose:()=>{const g=p.indexOf(o);g!==-1&&p.splice(g,1)}}}clearEscHandler(a){this._escHandlers[this._identifier(a,[48,126])]&&delete this._escHandlers[this._identifier(a,[48,126])]}setEscHandlerFallback(a){this._escHandlerFb=a}setExecuteHandler(a,o){this._executeHandlers[a.charCodeAt(0)]=o}clearExecuteHandler(a){this._executeHandlers[a.charCodeAt(0)]&&delete this._executeHandlers[a.charCodeAt(0)]}setExecuteHandlerFallback(a){this._executeHandlerFb=a}registerCsiHandler(a,o){const u=this._identifier(a);this._csiHandlers[u]===void 0&&(this._csiHandlers[u]=[]);const p=this._csiHandlers[u];return p.push(o),{dispose:()=>{const g=p.indexOf(o);g!==-1&&p.splice(g,1)}}}clearCsiHandler(a){this._csiHandlers[this._identifier(a)]&&delete this._csiHandlers[this._identifier(a)]}setCsiHandlerFallback(a){this._csiHandlerFb=a}registerDcsHandler(a,o){return this._dcsParser.registerHandler(this._identifier(a),o)}clearDcsHandler(a){this._dcsParser.clearHandler(this._identifier(a))}setDcsHandlerFallback(a){this._dcsParser.setHandlerFallback(a)}registerOscHandler(a,o){return this._oscParser.registerHandler(a,o)}clearOscHandler(a){this._oscParser.clearHandler(a)}setOscHandlerFallback(a){this._oscParser.setHandlerFallback(a)}setErrorHandler(a){this._errorHandler=a}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(a,o,u,p,g){this._parseStack.state=a,this._parseStack.handlers=o,this._parseStack.handlerPos=u,this._parseStack.transition=p,this._parseStack.chunkPos=g}parse(a,o,u){let p,g=0,E=0,L=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,L=this._parseStack.chunkPos+1;else{if(u===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const m=this._parseStack.handlers;let M=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(u===!1&&M>-1){for(;M>=0&&(p=m[M](this._params),p!==!0);M--)if(p instanceof Promise)return this._parseStack.handlerPos=M,p}this._parseStack.handlers=[];break;case 4:if(u===!1&&M>-1){for(;M>=0&&(p=m[M](),p!==!0);M--)if(p instanceof Promise)return this._parseStack.handlerPos=M,p}this._parseStack.handlers=[];break;case 6:if(g=a[this._parseStack.chunkPos],p=this._dcsParser.unhook(g!==24&&g!==26,u),p)return p;g===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(g=a[this._parseStack.chunkPos],p=this._oscParser.end(g!==24&&g!==26,u),p)return p;g===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,L=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let m=L;m<o;++m){switch(g=a[m],E=this._transitions.table[this.currentState<<8|(g<160?g:x)],E>>4){case 2:for(let K=m+1;;++K){if(K>=o||(g=a[K])<32||g>126&&g<x){this._printHandler(a,m,K),m=K-1;break}if(++K>=o||(g=a[K])<32||g>126&&g<x){this._printHandler(a,m,K),m=K-1;break}if(++K>=o||(g=a[K])<32||g>126&&g<x){this._printHandler(a,m,K),m=K-1;break}if(++K>=o||(g=a[K])<32||g>126&&g<x){this._printHandler(a,m,K),m=K-1;break}}break;case 3:this._executeHandlers[g]?this._executeHandlers[g]():this._executeHandlerFb(g),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:m,code:g,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const M=this._csiHandlers[this._collect<<8|g];let q=M?M.length-1:-1;for(;q>=0&&(p=M[q](this._params),p!==!0);q--)if(p instanceof Promise)return this._preserveStack(3,M,q,E,m),p;q<0&&this._csiHandlerFb(this._collect<<8|g,this._params),this.precedingCodepoint=0;break;case 8:do switch(g){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(g-48)}while(++m<o&&(g=a[m])>47&&g<60);m--;break;case 9:this._collect<<=8,this._collect|=g;break;case 10:const Y=this._escHandlers[this._collect<<8|g];let I=Y?Y.length-1:-1;for(;I>=0&&(p=Y[I](),p!==!0);I--)if(p instanceof Promise)return this._preserveStack(4,Y,I,E,m),p;I<0&&this._escHandlerFb(this._collect<<8|g),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|g,this._params);break;case 13:for(let K=m+1;;++K)if(K>=o||(g=a[K])===24||g===26||g===27||g>127&&g<x){this._dcsParser.put(a,m,K),m=K-1;break}break;case 14:if(p=this._dcsParser.unhook(g!==24&&g!==26),p)return this._preserveStack(6,[],0,E,m),p;g===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let K=m+1;;K++)if(K>=o||(g=a[K])<32||g>127&&g<x){this._oscParser.put(a,m,K),m=K-1;break}break;case 6:if(p=this._oscParser.end(g!==24&&g!==26),p)return this._preserveStack(5,[],0,E,m),p;g===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&E}}}c.EscapeSequenceParser=y},6242:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OscHandler=c.OscParser=void 0;const d=h(5770),b=h(482),_=[];c.OscParser=class{constructor(){this._state=0,this._active=_,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,w){this._handlers[v]===void 0&&(this._handlers[v]=[]);const x=this._handlers[v];return x.push(w),{dispose:()=>{const y=x.indexOf(w);y!==-1&&x.splice(y,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=_}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=_,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||_,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,w,x){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(v,w,x);else this._handlerFb(this._id,"PUT",(0,b.utf32ToString)(v,w,x))}start(){this.reset(),this._state=1}put(v,w,x){if(this._state!==3){if(this._state===1)for(;w<x;){const y=v[w++];if(y===59){this._state=2,this._start();break}if(y<48||57<y)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+y-48}this._state===2&&x-w>0&&this._put(v,w,x)}}end(v,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let x=!1,y=this._active.length-1,n=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,x=w,n=this._stack.fallThrough,this._stack.paused=!1),!n&&x===!1){for(;y>=0&&(x=this._active[y].end(v),x!==!0);y--)if(x instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,x;y--}for(;y>=0;y--)if(x=this._active[y].end(!1),x instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,x}else this._handlerFb(this._id,"END",v);this._active=_,this._id=-1,this._state=0}}},c.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,w,x){this._hitLimit||(this._data+=(0,b.utf32ToString)(v,w,x),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let w=!1;if(this._hitLimit)w=!1;else if(v&&(w=this._handler(this._data),w instanceof Promise))return w.then(x=>(this._data="",this._hitLimit=!1,x));return this._data="",this._hitLimit=!1,w}}},8742:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Params=void 0;const h=2147483647;class d{static fromArray(_){const v=new d;if(!_.length)return v;for(let w=Array.isArray(_[0])?1:0;w<_.length;++w){const x=_[w];if(Array.isArray(x))for(let y=0;y<x.length;++y)v.addSubParam(x[y]);else v.addParam(x)}return v}constructor(_=32,v=32){if(this.maxLength=_,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(_),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(_),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const _=new d(this.maxLength,this.maxSubParamsLength);return _.params.set(this.params),_.length=this.length,_._subParams.set(this._subParams),_._subParamsLength=this._subParamsLength,_._subParamsIdx.set(this._subParamsIdx),_._rejectDigits=this._rejectDigits,_._rejectSubDigits=this._rejectSubDigits,_._digitIsSub=this._digitIsSub,_}toArray(){const _=[];for(let v=0;v<this.length;++v){_.push(this.params[v]);const w=this._subParamsIdx[v]>>8,x=255&this._subParamsIdx[v];x-w>0&&_.push(Array.prototype.slice.call(this._subParams,w,x))}return _}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(_){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(_<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=_>h?h:_}}addSubParam(_){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(_<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=_>h?h:_,this._subParamsIdx[this.length-1]++}}hasSubParams(_){return(255&this._subParamsIdx[_])-(this._subParamsIdx[_]>>8)>0}getSubParams(_){const v=this._subParamsIdx[_]>>8,w=255&this._subParamsIdx[_];return w-v>0?this._subParams.subarray(v,w):null}getSubParamsAll(){const _={};for(let v=0;v<this.length;++v){const w=this._subParamsIdx[v]>>8,x=255&this._subParamsIdx[v];x-w>0&&(_[v]=this._subParams.slice(w,x))}return _}addDigit(_){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,x=w[v-1];w[v-1]=~x?Math.min(10*x+_,h):_}}c.Params=d},5741:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AddonManager=void 0,c.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let h=this._addons.length-1;h>=0;h--)this._addons[h].instance.dispose()}loadAddon(h,d){const b={instance:d,dispose:d.dispose,isDisposed:!1};this._addons.push(b),d.dispose=()=>this._wrappedAddonDispose(b),d.activate(h)}_wrappedAddonDispose(h){if(h.isDisposed)return;let d=-1;for(let b=0;b<this._addons.length;b++)if(this._addons[b]===h){d=b;break}if(d===-1)throw new Error("Could not dispose an addon that has not been loaded");h.isDisposed=!0,h.dispose.apply(h.instance),this._addons.splice(d,1)}}},8771:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferApiView=void 0;const d=h(3785),b=h(511);c.BufferApiView=class{constructor(_,v){this._buffer=_,this.type=v}init(_){return this._buffer=_,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(_){const v=this._buffer.lines.get(_);if(v)return new d.BufferLineApiView(v)}getNullCell(){return new b.CellData}}},3785:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferLineApiView=void 0;const d=h(511);c.BufferLineApiView=class{constructor(b){this._line=b}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(b,_){if(!(b<0||b>=this._line.length))return _?(this._line.loadCell(b,_),_):this._line.loadCell(b,new d.CellData)}translateToString(b,_,v){return this._line.translateToString(b,_,v)}}},8285:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferNamespaceApi=void 0;const d=h(8771),b=h(8460),_=h(844);class v extends _.Disposable{constructor(x){super(),this._core=x,this._onBufferChange=this.register(new b.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new d.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new d.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}c.BufferNamespaceApi=v},7975:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ParserApi=void 0,c.ParserApi=class{constructor(h){this._core=h}registerCsiHandler(h,d){return this._core.registerCsiHandler(h,b=>d(b.toArray()))}addCsiHandler(h,d){return this.registerCsiHandler(h,d)}registerDcsHandler(h,d){return this._core.registerDcsHandler(h,(b,_)=>d(b,_.toArray()))}addDcsHandler(h,d){return this.registerDcsHandler(h,d)}registerEscHandler(h,d){return this._core.registerEscHandler(h,d)}addEscHandler(h,d){return this.registerEscHandler(h,d)}registerOscHandler(h,d){return this._core.registerOscHandler(h,d)}addOscHandler(h,d){return this.registerOscHandler(h,d)}}},7090:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeApi=void 0,c.UnicodeApi=class{constructor(h){this._core=h}register(h){this._core.unicodeService.register(h)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(h){this._core.unicodeService.activeVersion=h}}},744:function(H,c,h){var d=this&&this.__decorate||function(n,a,o,u){var p,g=arguments.length,E=g<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,o):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(n,a,o,u);else for(var L=n.length-1;L>=0;L--)(p=n[L])&&(E=(g<3?p(E):g>3?p(a,o,E):p(a,o))||E);return g>3&&E&&Object.defineProperty(a,o,E),E},b=this&&this.__param||function(n,a){return function(o,u){a(o,u,n)}};Object.defineProperty(c,"__esModule",{value:!0}),c.BufferService=c.MINIMUM_ROWS=c.MINIMUM_COLS=void 0;const _=h(8460),v=h(844),w=h(5295),x=h(2585);c.MINIMUM_COLS=2,c.MINIMUM_ROWS=1;let y=c.BufferService=class extends v.Disposable{get buffer(){return this.buffers.active}constructor(n){super(),this.isUserScrolling=!1,this._onResize=this.register(new _.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new _.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(n.rawOptions.cols||0,c.MINIMUM_COLS),this.rows=Math.max(n.rawOptions.rows||0,c.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(n,this))}resize(n,a){this.cols=n,this.rows=a,this.buffers.resize(n,a),this._onResize.fire({cols:n,rows:a})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(n,a=!1){const o=this.buffer;let u;u=this._cachedBlankLine,u&&u.length===this.cols&&u.getFg(0)===n.fg&&u.getBg(0)===n.bg||(u=o.getBlankLine(n,a),this._cachedBlankLine=u),u.isWrapped=a;const p=o.ybase+o.scrollTop,g=o.ybase+o.scrollBottom;if(o.scrollTop===0){const E=o.lines.isFull;g===o.lines.length-1?E?o.lines.recycle().copyFrom(u):o.lines.push(u.clone()):o.lines.splice(g+1,0,u.clone()),E?this.isUserScrolling&&(o.ydisp=Math.max(o.ydisp-1,0)):(o.ybase++,this.isUserScrolling||o.ydisp++)}else{const E=g-p+1;o.lines.shiftElements(p+1,E-1,-1),o.lines.set(g,u.clone())}this.isUserScrolling||(o.ydisp=o.ybase),this._onScroll.fire(o.ydisp)}scrollLines(n,a,o){const u=this.buffer;if(n<0){if(u.ydisp===0)return;this.isUserScrolling=!0}else n+u.ydisp>=u.ybase&&(this.isUserScrolling=!1);const p=u.ydisp;u.ydisp=Math.max(Math.min(u.ydisp+n,u.ybase),0),p!==u.ydisp&&(a||this._onScroll.fire(u.ydisp))}};c.BufferService=y=d([b(0,x.IOptionsService)],y)},7994:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharsetService=void 0,c.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(h){this.glevel=h,this.charset=this._charsets[h]}setgCharset(h,d){this._charsets[h]=d,this.glevel===h&&(this.charset=d)}}},1753:function(H,c,h){var d=this&&this.__decorate||function(u,p,g,E){var L,m=arguments.length,M=m<3?p:E===null?E=Object.getOwnPropertyDescriptor(p,g):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(u,p,g,E);else for(var q=u.length-1;q>=0;q--)(L=u[q])&&(M=(m<3?L(M):m>3?L(p,g,M):L(p,g))||M);return m>3&&M&&Object.defineProperty(p,g,M),M},b=this&&this.__param||function(u,p){return function(g,E){p(g,E,u)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CoreMouseService=void 0;const _=h(2585),v=h(8460),w=h(844),x={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:u=>u.button!==4&&u.action===1&&(u.ctrl=!1,u.alt=!1,u.shift=!1,!0)},VT200:{events:19,restrict:u=>u.action!==32},DRAG:{events:23,restrict:u=>u.action!==32||u.button!==3},ANY:{events:31,restrict:u=>!0}};function y(u,p){let g=(u.ctrl?16:0)|(u.shift?4:0)|(u.alt?8:0);return u.button===4?(g|=64,g|=u.action):(g|=3&u.button,4&u.button&&(g|=64),8&u.button&&(g|=128),u.action===32?g|=32:u.action!==0||p||(g|=3)),g}const n=String.fromCharCode,a={DEFAULT:u=>{const p=[y(u,!1)+32,u.col+32,u.row+32];return p[0]>255||p[1]>255||p[2]>255?"":`\x1B[M${n(p[0])}${n(p[1])}${n(p[2])}`},SGR:u=>{const p=u.action===0&&u.button!==4?"m":"M";return`\x1B[<${y(u,!0)};${u.col};${u.row}${p}`},SGR_PIXELS:u=>{const p=u.action===0&&u.button!==4?"m":"M";return`\x1B[<${y(u,!0)};${u.x};${u.y}${p}`}};let o=c.CoreMouseService=class extends w.Disposable{constructor(u,p){super(),this._bufferService=u,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const g of Object.keys(x))this.addProtocol(g,x[g]);for(const g of Object.keys(a))this.addEncoding(g,a[g]);this.reset()}addProtocol(u,p){this._protocols[u]=p}addEncoding(u,p){this._encodings[u]=p}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(u){if(!this._protocols[u])throw new Error(`unknown protocol "${u}"`);this._activeProtocol=u,this._onProtocolChange.fire(this._protocols[u].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(u){if(!this._encodings[u])throw new Error(`unknown encoding "${u}"`);this._activeEncoding=u}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(u){if(u.col<0||u.col>=this._bufferService.cols||u.row<0||u.row>=this._bufferService.rows||u.button===4&&u.action===32||u.button===3&&u.action!==32||u.button!==4&&(u.action===2||u.action===3)||(u.col++,u.row++,u.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,u,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(u))return!1;const p=this._encodings[this._activeEncoding](u);return p&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=u,!0}explainEvents(u){return{down:!!(1&u),up:!!(2&u),drag:!!(4&u),move:!!(8&u),wheel:!!(16&u)}}_equalEvents(u,p,g){if(g){if(u.x!==p.x||u.y!==p.y)return!1}else if(u.col!==p.col||u.row!==p.row)return!1;return u.button===p.button&&u.action===p.action&&u.ctrl===p.ctrl&&u.alt===p.alt&&u.shift===p.shift}};c.CoreMouseService=o=d([b(0,_.IBufferService),b(1,_.ICoreService)],o)},6975:function(H,c,h){var d=this&&this.__decorate||function(o,u,p,g){var E,L=arguments.length,m=L<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,p):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(o,u,p,g);else for(var M=o.length-1;M>=0;M--)(E=o[M])&&(m=(L<3?E(m):L>3?E(u,p,m):E(u,p))||m);return L>3&&m&&Object.defineProperty(u,p,m),m},b=this&&this.__param||function(o,u){return function(p,g){u(p,g,o)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CoreService=void 0;const _=h(1439),v=h(8460),w=h(844),x=h(2585),y=Object.freeze({insertMode:!1}),n=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let a=c.CoreService=class extends w.Disposable{constructor(o,u,p){super(),this._bufferService=o,this._logService=u,this._optionsService=p,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,_.clone)(y),this.decPrivateModes=(0,_.clone)(n)}reset(){this.modes=(0,_.clone)(y),this.decPrivateModes=(0,_.clone)(n)}triggerDataEvent(o,u=!1){if(this._optionsService.rawOptions.disableStdin)return;const p=this._bufferService.buffer;u&&this._optionsService.rawOptions.scrollOnUserInput&&p.ybase!==p.ydisp&&this._onRequestScrollToBottom.fire(),u&&this._onUserInput.fire(),this._logService.debug(`sending data "${o}"`,()=>o.split("").map(g=>g.charCodeAt(0))),this._onData.fire(o)}triggerBinaryEvent(o){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${o}"`,()=>o.split("").map(u=>u.charCodeAt(0))),this._onBinary.fire(o))}};c.CoreService=a=d([b(0,x.IBufferService),b(1,x.ILogService),b(2,x.IOptionsService)],a)},9074:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DecorationService=void 0;const d=h(8055),b=h(8460),_=h(844),v=h(6106);let w=0,x=0;class y extends _.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new v.SortedList(o=>o?.marker.line),this._onDecorationRegistered=this.register(new b.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new b.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,_.toDisposable)(()=>this.reset()))}registerDecoration(o){if(o.marker.isDisposed)return;const u=new n(o);if(u){const p=u.marker.onDispose(()=>u.dispose());u.onDispose(()=>{u&&(this._decorations.delete(u)&&this._onDecorationRemoved.fire(u),p.dispose())}),this._decorations.insert(u),this._onDecorationRegistered.fire(u)}return u}reset(){for(const o of this._decorations.values())o.dispose();this._decorations.clear()}*getDecorationsAtCell(o,u,p){var g,E,L;let m=0,M=0;for(const q of this._decorations.getKeyIterator(u))m=(g=q.options.x)!==null&&g!==void 0?g:0,M=m+((E=q.options.width)!==null&&E!==void 0?E:1),o>=m&&o<M&&(!p||((L=q.options.layer)!==null&&L!==void 0?L:"bottom")===p)&&(yield q)}forEachDecorationAtCell(o,u,p,g){this._decorations.forEachByKey(u,E=>{var L,m,M;w=(L=E.options.x)!==null&&L!==void 0?L:0,x=w+((m=E.options.width)!==null&&m!==void 0?m:1),o>=w&&o<x&&(!p||((M=E.options.layer)!==null&&M!==void 0?M:"bottom")===p)&&g(E)})}}c.DecorationService=y;class n extends _.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=d.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=d.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(o){super(),this.options=o,this.onRenderEmitter=this.register(new b.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new b.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=o.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InstantiationService=c.ServiceCollection=void 0;const d=h(2585),b=h(8343);class _{constructor(...w){this._entries=new Map;for(const[x,y]of w)this.set(x,y)}set(w,x){const y=this._entries.get(w);return this._entries.set(w,x),y}forEach(w){for(const[x,y]of this._entries.entries())w(x,y)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}c.ServiceCollection=_,c.InstantiationService=class{constructor(){this._services=new _,this._services.set(d.IInstantiationService,this)}setService(v,w){this._services.set(v,w)}getService(v){return this._services.get(v)}createInstance(v,...w){const x=(0,b.getServiceDependencies)(v).sort((a,o)=>a.index-o.index),y=[];for(const a of x){const o=this._services.get(a.id);if(!o)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${a.id}.`);y.push(o)}const n=x.length>0?x[0].index:w.length;if(w.length!==n)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${n+1} conflicts with ${w.length} static arguments`);return new v(...w,...y)}}},7866:function(H,c,h){var d=this&&this.__decorate||function(n,a,o,u){var p,g=arguments.length,E=g<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,o):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(n,a,o,u);else for(var L=n.length-1;L>=0;L--)(p=n[L])&&(E=(g<3?p(E):g>3?p(a,o,E):p(a,o))||E);return g>3&&E&&Object.defineProperty(a,o,E),E},b=this&&this.__param||function(n,a){return function(o,u){a(o,u,n)}};Object.defineProperty(c,"__esModule",{value:!0}),c.traceCall=c.setTraceLogger=c.LogService=void 0;const _=h(844),v=h(2585),w={trace:v.LogLevelEnum.TRACE,debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let x,y=c.LogService=class extends _.Disposable{get logLevel(){return this._logLevel}constructor(n){super(),this._optionsService=n,this._logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),x=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(n){for(let a=0;a<n.length;a++)typeof n[a]=="function"&&(n[a]=n[a]())}_log(n,a,o){this._evalLazyOptionalParams(o),n.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+a,...o)}trace(n,...a){var o,u;this._logLevel<=v.LogLevelEnum.TRACE&&this._log((u=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.trace.bind(this._optionsService.options.logger))!==null&&u!==void 0?u:console.log,n,a)}debug(n,...a){var o,u;this._logLevel<=v.LogLevelEnum.DEBUG&&this._log((u=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.debug.bind(this._optionsService.options.logger))!==null&&u!==void 0?u:console.log,n,a)}info(n,...a){var o,u;this._logLevel<=v.LogLevelEnum.INFO&&this._log((u=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.info.bind(this._optionsService.options.logger))!==null&&u!==void 0?u:console.info,n,a)}warn(n,...a){var o,u;this._logLevel<=v.LogLevelEnum.WARN&&this._log((u=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.warn.bind(this._optionsService.options.logger))!==null&&u!==void 0?u:console.warn,n,a)}error(n,...a){var o,u;this._logLevel<=v.LogLevelEnum.ERROR&&this._log((u=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.error.bind(this._optionsService.options.logger))!==null&&u!==void 0?u:console.error,n,a)}};c.LogService=y=d([b(0,v.IOptionsService)],y),c.setTraceLogger=function(n){x=n},c.traceCall=function(n,a,o){if(typeof o.value!="function")throw new Error("not supported");const u=o.value;o.value=function(...p){if(x.logLevel!==v.LogLevelEnum.TRACE)return u.apply(this,p);x.trace(`GlyphRenderer#${u.name}(${p.map(E=>JSON.stringify(E)).join(", ")})`);const g=u.apply(this,p);return x.trace(`GlyphRenderer#${u.name} return`,g),g}}},7302:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OptionsService=c.DEFAULT_OPTIONS=void 0;const d=h(8460),b=h(844),_=h(6114);c.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:_.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends b.Disposable{constructor(y){super(),this._onOptionChange=this.register(new d.EventEmitter),this.onOptionChange=this._onOptionChange.event;const n=Object.assign({},c.DEFAULT_OPTIONS);for(const a in y)if(a in n)try{const o=y[a];n[a]=this._sanitizeAndValidateOption(a,o)}catch(o){console.error(o)}this.rawOptions=n,this.options=Object.assign({},n),this._setupOptions()}onSpecificOptionChange(y,n){return this.onOptionChange(a=>{a===y&&n(this.rawOptions[y])})}onMultipleOptionChange(y,n){return this.onOptionChange(a=>{y.indexOf(a)!==-1&&n()})}_setupOptions(){const y=a=>{if(!(a in c.DEFAULT_OPTIONS))throw new Error(`No option with key "${a}"`);return this.rawOptions[a]},n=(a,o)=>{if(!(a in c.DEFAULT_OPTIONS))throw new Error(`No option with key "${a}"`);o=this._sanitizeAndValidateOption(a,o),this.rawOptions[a]!==o&&(this.rawOptions[a]=o,this._onOptionChange.fire(a))};for(const a in this.rawOptions){const o={get:y.bind(this,a),set:n.bind(this,a)};Object.defineProperty(this.options,a,o)}}_sanitizeAndValidateOption(y,n){switch(y){case"cursorStyle":if(n||(n=c.DEFAULT_OPTIONS[y]),!function(a){return a==="block"||a==="underline"||a==="bar"}(n))throw new Error(`"${n}" is not a valid value for ${y}`);break;case"wordSeparator":n||(n=c.DEFAULT_OPTIONS[y]);break;case"fontWeight":case"fontWeightBold":if(typeof n=="number"&&1<=n&&n<=1e3)break;n=v.includes(n)?n:c.DEFAULT_OPTIONS[y];break;case"cursorWidth":n=Math.floor(n);case"lineHeight":case"tabStopWidth":if(n<1)throw new Error(`${y} cannot be less than 1, value: ${n}`);break;case"minimumContrastRatio":n=Math.max(1,Math.min(21,Math.round(10*n)/10));break;case"scrollback":if((n=Math.min(n,4294967295))<0)throw new Error(`${y} cannot be less than 0, value: ${n}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(n<=0)throw new Error(`${y} cannot be less than or equal to 0, value: ${n}`);break;case"rows":case"cols":if(!n&&n!==0)throw new Error(`${y} must be numeric, value: ${n}`);break;case"windowsPty":n=n??{}}return n}}c.OptionsService=w},2660:function(H,c,h){var d=this&&this.__decorate||function(w,x,y,n){var a,o=arguments.length,u=o<3?x:n===null?n=Object.getOwnPropertyDescriptor(x,y):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(w,x,y,n);else for(var p=w.length-1;p>=0;p--)(a=w[p])&&(u=(o<3?a(u):o>3?a(x,y,u):a(x,y))||u);return o>3&&u&&Object.defineProperty(x,y,u),u},b=this&&this.__param||function(w,x){return function(y,n){x(y,n,w)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OscLinkService=void 0;const _=h(2585);let v=c.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const x=this._bufferService.buffer;if(w.id===void 0){const p=x.addMarker(x.ybase+x.y),g={data:w,id:this._nextId++,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(g,p)),this._dataByLinkId.set(g.id,g),g.id}const y=w,n=this._getEntryIdKey(y),a=this._entriesWithId.get(n);if(a)return this.addLineToLink(a.id,x.ybase+x.y),a.id;const o=x.addMarker(x.ybase+x.y),u={id:this._nextId++,key:this._getEntryIdKey(y),data:y,lines:[o]};return o.onDispose(()=>this._removeMarkerFromLink(u,o)),this._entriesWithId.set(u.key,u),this._dataByLinkId.set(u.id,u),u.id}addLineToLink(w,x){const y=this._dataByLinkId.get(w);if(y&&y.lines.every(n=>n.line!==x)){const n=this._bufferService.buffer.addMarker(x);y.lines.push(n),n.onDispose(()=>this._removeMarkerFromLink(y,n))}}getLinkData(w){var x;return(x=this._dataByLinkId.get(w))===null||x===void 0?void 0:x.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,x){const y=w.lines.indexOf(x);y!==-1&&(w.lines.splice(y,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};c.OscLinkService=v=d([b(0,_.IBufferService)],v)},8343:(H,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createDecorator=c.getServiceDependencies=c.serviceRegistry=void 0;const h="di$target",d="di$dependencies";c.serviceRegistry=new Map,c.getServiceDependencies=function(b){return b[d]||[]},c.createDecorator=function(b){if(c.serviceRegistry.has(b))return c.serviceRegistry.get(b);const _=function(v,w,x){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(y,n,a){n[h]===n?n[d].push({id:y,index:a}):(n[d]=[{id:y,index:a}],n[h]=n)})(_,v,x)};return _.toString=()=>b,c.serviceRegistry.set(b,_),_}},2585:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.IDecorationService=c.IUnicodeService=c.IOscLinkService=c.IOptionsService=c.ILogService=c.LogLevelEnum=c.IInstantiationService=c.ICharsetService=c.ICoreService=c.ICoreMouseService=c.IBufferService=void 0;const d=h(8343);var b;c.IBufferService=(0,d.createDecorator)("BufferService"),c.ICoreMouseService=(0,d.createDecorator)("CoreMouseService"),c.ICoreService=(0,d.createDecorator)("CoreService"),c.ICharsetService=(0,d.createDecorator)("CharsetService"),c.IInstantiationService=(0,d.createDecorator)("InstantiationService"),function(_){_[_.TRACE=0]="TRACE",_[_.DEBUG=1]="DEBUG",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.OFF=5]="OFF"}(b||(c.LogLevelEnum=b={})),c.ILogService=(0,d.createDecorator)("LogService"),c.IOptionsService=(0,d.createDecorator)("OptionsService"),c.IOscLinkService=(0,d.createDecorator)("OscLinkService"),c.IUnicodeService=(0,d.createDecorator)("UnicodeService"),c.IDecorationService=(0,d.createDecorator)("DecorationService")},1480:(H,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeService=void 0;const d=h(8460),b=h(225);c.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new d.EventEmitter,this.onChange=this._onChange.event;const _=new b.UnicodeV6;this.register(_),this._active=_.version,this._activeProvider=_}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(_){if(!this._providers[_])throw new Error(`unknown Unicode version "${_}"`);this._active=_,this._activeProvider=this._providers[_],this._onChange.fire(_)}register(_){this._providers[_.version]=_}wcwidth(_){return this._activeProvider.wcwidth(_)}getStringCellWidth(_){let v=0;const w=_.length;for(let x=0;x<w;++x){let y=_.charCodeAt(x);if(55296<=y&&y<=56319){if(++x>=w)return v+this.wcwidth(y);const n=_.charCodeAt(x);56320<=n&&n<=57343?y=1024*(y-55296)+n-56320+65536:v+=this.wcwidth(n)}v+=this.wcwidth(y)}return v}}}},S={};function B(H){var c=S[H];if(c!==void 0)return c.exports;var h=S[H]={exports:{}};return R[H].call(h.exports,h,h.exports,B),h.exports}var z={};return(()=>{var H=z;Object.defineProperty(H,"__esModule",{value:!0}),H.Terminal=void 0;const c=B(9042),h=B(3236),d=B(844),b=B(5741),_=B(8285),v=B(7975),w=B(7090),x=["cols","rows"];class y extends d.Disposable{constructor(a){super(),this._core=this.register(new h.Terminal(a)),this._addonManager=this.register(new b.AddonManager),this._publicOptions=Object.assign({},this._core.options);const o=p=>this._core.options[p],u=(p,g)=>{this._checkReadonlyOptions(p),this._core.options[p]=g};for(const p in this._core.options){const g={get:o.bind(this,p),set:u.bind(this,p)};Object.defineProperty(this._publicOptions,p,g)}}_checkReadonlyOptions(a){if(x.includes(a))throw new Error(`Option "${a}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new v.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new _.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const a=this._core.coreService.decPrivateModes;let o="none";switch(this._core.coreMouseService.activeProtocol){case"X10":o="x10";break;case"VT200":o="vt200";break;case"DRAG":o="drag";break;case"ANY":o="any"}return{applicationCursorKeysMode:a.applicationCursorKeys,applicationKeypadMode:a.applicationKeypad,bracketedPasteMode:a.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:o,originMode:a.origin,reverseWraparoundMode:a.reverseWraparound,sendFocusMode:a.sendFocus,wraparoundMode:a.wraparound}}get options(){return this._publicOptions}set options(a){for(const o in a)this._publicOptions[o]=a[o]}blur(){this._core.blur()}focus(){this._core.focus()}resize(a,o){this._verifyIntegers(a,o),this._core.resize(a,o)}open(a){this._core.open(a)}attachCustomKeyEventHandler(a){this._core.attachCustomKeyEventHandler(a)}registerLinkProvider(a){return this._core.registerLinkProvider(a)}registerCharacterJoiner(a){return this._checkProposedApi(),this._core.registerCharacterJoiner(a)}deregisterCharacterJoiner(a){this._checkProposedApi(),this._core.deregisterCharacterJoiner(a)}registerMarker(a=0){return this._verifyIntegers(a),this._core.registerMarker(a)}registerDecoration(a){var o,u,p;return this._checkProposedApi(),this._verifyPositiveIntegers((o=a.x)!==null&&o!==void 0?o:0,(u=a.width)!==null&&u!==void 0?u:0,(p=a.height)!==null&&p!==void 0?p:0),this._core.registerDecoration(a)}hasSelection(){return this._core.hasSelection()}select(a,o,u){this._verifyIntegers(a,o,u),this._core.select(a,o,u)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(a,o){this._verifyIntegers(a,o),this._core.selectLines(a,o)}dispose(){super.dispose()}scrollLines(a){this._verifyIntegers(a),this._core.scrollLines(a)}scrollPages(a){this._verifyIntegers(a),this._core.scrollPages(a)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(a){this._verifyIntegers(a),this._core.scrollToLine(a)}clear(){this._core.clear()}write(a,o){this._core.write(a,o)}writeln(a,o){this._core.write(a),this._core.write(`\r
`,o)}paste(a){this._core.paste(a)}refresh(a,o){this._verifyIntegers(a,o),this._core.refresh(a,o)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(a){this._addonManager.loadAddon(this,a)}static get strings(){return c}_verifyIntegers(...a){for(const o of a)if(o===1/0||isNaN(o)||o%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...a){for(const o of a)if(o&&(o===1/0||isNaN(o)||o%1!=0||o<0))throw new Error("This API only accepts positive integers")}}H.Terminal=y})(),z})())}(yc)),yc.exports}var n_=Mb(),Sc={exports:{}},a_;function Lb(){return a_||(a_=1,function(f,A){(function(R,S){f.exports=S()})(self,()=>(()=>{var R={};return(()=>{var S=R;Object.defineProperty(S,"__esModule",{value:!0}),S.FitAddon=void 0,S.FitAddon=class{activate(B){this._terminal=B}dispose(){}fit(){const B=this.proposeDimensions();if(!B||!this._terminal||isNaN(B.cols)||isNaN(B.rows))return;const z=this._terminal._core;this._terminal.rows===B.rows&&this._terminal.cols===B.cols||(z._renderService.clear(),this._terminal.resize(B.cols,B.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const B=this._terminal._core,z=B._renderService.dimensions;if(z.css.cell.width===0||z.css.cell.height===0)return;const H=this._terminal.options.scrollback===0?0:B.viewport.scrollBarWidth,c=window.getComputedStyle(this._terminal.element.parentElement),h=parseInt(c.getPropertyValue("height")),d=Math.max(0,parseInt(c.getPropertyValue("width"))),b=window.getComputedStyle(this._terminal.element),_=h-(parseInt(b.getPropertyValue("padding-top"))+parseInt(b.getPropertyValue("padding-bottom"))),v=d-(parseInt(b.getPropertyValue("padding-right"))+parseInt(b.getPropertyValue("padding-left")))-H;return{cols:Math.max(2,Math.floor(v/z.css.cell.width)),rows:Math.max(1,Math.floor(_/z.css.cell.height))}}}})(),R})())}(Sc)),Sc.exports}var l_=Lb();const Ob=({command:f,stepId:A,onDone:R,className:S})=>{const B=W.useRef(null),z=W.useRef(new n_.Terminal),H=W.useRef(new WebSocket("ws://localhost:8080/api/shell")),c=W.useRef(new l_.FitAddon),[h,d]=W.useState(!1),[b,_]=W.useState("Connecting..."),[v,w]=W.useState(!1);W.useEffect(()=>{if(!B.current)return;z.current=new n_.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'"JetBrains Mono", "Fira Code", "Monaco", "Menlo", "Ubuntu Mono", monospace',theme:{background:"#0a0a0a",foreground:"#ffffff",cursor:"#3b82f6",cursorAccent:"#1e40af",black:"#000000",red:"#ef4444",green:"#22c55e",yellow:"#eab308",blue:"#3b82f6",magenta:"#a855f7",cyan:"#06b6d4",white:"#ffffff",brightBlack:"#374151",brightRed:"#f87171",brightGreen:"#4ade80",brightYellow:"#facc15",brightBlue:"#60a5fa",brightMagenta:"#c084fc",brightCyan:"#22d3ee",brightWhite:"#f9fafb"},cols:120,rows:30,scrollback:1e3,allowTransparency:!0}),c.current=new l_.FitAddon,z.current.loadAddon(c.current),z.current.open(B.current),c.current&&c.current.fit();const a=new URLSearchParams;f&&a.append("command",f),A&&a.append("step_id",A.toString());const o=`ws://localhost:24050/api/shell${a.toString()?"?"+a.toString():""}`;console.log("[Terminal] Connecting to:",o),H.current=new WebSocket(o),H.current.onopen=()=>{console.log("[Terminal] WebSocket connected"),d(!0),_("Connected"),z.current?.write(`\x1B[32m Connected to shell\x1B[0m\r
`),A&&z.current?.write(`\x1B[36m Environment variables loaded from step ${A}\x1B[0m\r
`),f&&z.current?.write(`\x1B[36m Executing: ${f}\x1B[0m\r
`)},H.current.onmessage=g=>{try{const E=atob(g.data);z.current?.write(E)}catch(E){console.error("[Terminal] Error decoding message:",E)}},H.current.onerror=g=>{console.error("[Terminal] WebSocket error:",g),_("Connection Error"),z.current?.write(`\r
\x1B[31m WebSocket connection error\x1B[0m\r
`)},H.current.onclose=g=>{console.log("[Terminal] WebSocket closed:",g.code,g.reason),d(!1),_("Disconnected"),z.current?.write(`\r
\x1B[33m Shell connection closed\x1B[0m\r
`),R&&R()};const u=g=>{if(H.current?.readyState===WebSocket.OPEN){const E=btoa(g);H.current.send(E)}else console.warn("[Terminal] WebSocket not ready, cannot send data")};z.current.onData(u);const p=()=>{c.current&&c.current.fit()};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),H.current?.readyState===WebSocket.OPEN&&H.current.close(),z.current?.dispose()}},[f,A,R]);const x=()=>{if(H.current?.readyState===WebSocket.OPEN){const a=btoa("exit\r");H.current.send(a),setTimeout(()=>{H.current?.close()},100)}else H.current?.close(),R&&R()},y=()=>{z.current?.clear()},n=()=>{w(!v)};return C.jsxs(pt,{className:kt("overflow-hidden border-0 shadow-2xl bg-gradient-to-br from-slate-900 to-slate-800",v&&"fixed inset-4 z-50",S),children:[C.jsx(Bt,{className:"pb-2",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Gt,{className:"h-5 w-5 text-blue-400"}),C.jsx("span",{className:"font-semibold text-white",children:"Terminal"})]}),C.jsxs(at,{variant:h?"default":"destructive",className:kt("text-xs font-medium",h?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"),children:[C.jsx("div",{className:kt("w-2 h-2 rounded-full mr-2",h?"bg-green-400":"bg-red-400")}),b]}),f&&C.jsxs(at,{variant:"outline",className:"bg-blue-500/10 text-blue-300 border-blue-500/30",children:["Auto-exec: ",f.length>30?`${f.substring(0,30)}...`:f]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Ce,{variant:"ghost",size:"sm",onClick:y,className:"h-8 w-8 p-0 text-slate-400 hover:text-white hover:bg-slate-700",children:C.jsx(xs,{className:"h-4 w-4"})}),C.jsx(Ce,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0 text-slate-400 hover:text-white hover:bg-slate-700",children:C.jsx(fb,{className:"h-4 w-4"})}),C.jsx(Ce,{variant:"ghost",size:"sm",onClick:x,className:"h-8 w-8 p-0 text-slate-400 hover:text-red-400 hover:bg-red-500/10",children:C.jsx(En,{className:"h-4 w-4"})})]})]})}),C.jsx(gt,{className:"p-0",children:C.jsx("div",{ref:B,className:kt("bg-black/90 backdrop-blur-sm",v?"h-[calc(100vh-120px)]":"h-[500px]")})})]})},Bb=()=>{const{flowName:f}=G0(),A=decodeURIComponent(f||""),[R,S]=W.useState(null),[B,z]=W.useState(!0),[H,c]=W.useState(null),[h,d]=W.useState(null),[b,_]=W.useState(!1),[v,w]=W.useState({}),[x,y]=W.useState({}),[n,a]=W.useState(null),[o,u]=W.useState(null),[p,g]=W.useState(!1),[E,L]=W.useState(null);W.useEffect(()=>{console.log("FlowDetailPage: Looking for flow:",A),ys().then(G=>{console.log("FlowDetailPage: Available flows:",G.map(U=>({id:U.id,name:U.name})));const O=G.find(U=>U.name===A);O?(console.log("FlowDetailPage: Found flow:",O),S(O),y({...O.variables})):(console.error("FlowDetailPage: Flow not found:",A),c(`Flow "${A}" not found`))}).catch(G=>{console.error("FlowDetailPage: Error fetching flows:",G),c(G.message)}).finally(()=>z(!1))},[A]);const m=(G,O)=>{y(U=>({...U,[G]:O}))},M=async G=>{if(R?.id)try{u(G),await wc(R.id,G,{key:G,value:x[G]}),S(O=>O?{...O,variables:{...O.variables,[G]:x[G]}}:null),a(null),console.log(`Variable ${G} updated successfully`)}catch(O){console.error("Failed to save variable:",O),c("Failed to save variable. Please try again.")}finally{u(null)}},q=async G=>{if(R?.id&&confirm(`Are you sure you want to delete the variable "${G}"?`))try{await E_(R.id,G),S(U=>{if(!U)return null;const k={...U.variables};return delete k[G],{...U,variables:k}});const O={...x};delete O[G],y(O),console.log(`Variable ${G} deleted successfully`)}catch(O){console.error("Failed to delete variable:",O),c("Failed to delete variable. Please try again.")}},Y=async G=>{if(!R||!R.steps[G])return;const O=R.steps[G];d(G),c(null);try{if(O.terminal||O.is_tmux_terminal){const U=O.command;L({stepIndex:G,stepId:O.id||0,command:U}),w(k=>({...k,[G]:{output:`Terminal opened for: ${O.name}`,type:"info"}})),g(!0)}else if(O.id){const U=await Yf(O.id);w(k=>({...k,[G]:{output:U.stdout||U.stderr||"Command executed",type:U.success?"success":"error"}}))}else w(U=>({...U,[G]:{output:"Step ID not available",type:"error"}}))}catch(U){console.error("Failed to execute step:",U);const k=U instanceof Error?U.message:"Failed to execute step";w(F=>({...F,[G]:{output:k,type:"error"}}))}finally{d(null)}},I=async()=>{if(R){_(!0),c(null),w({});for(let G=0;G<R.steps.length;G++){const O=R.steps[G];d(G);try{if(O.terminal||O.is_tmux_terminal)w(U=>({...U,[G]:{output:`Terminal step "${O.name}" - Click "Open Terminal" to run manually.`,type:"info"}}));else if(O.id){const U=await Yf(O.id);w(k=>({...k,[G]:{output:U.stdout||U.stderr||"Command executed",type:U.success?"success":"error"}}))}else w(U=>({...U,[G]:{output:"Step ID not available",type:"error"}}))}catch(U){console.error(`Failed to execute step ${G}:`,U);const k=U instanceof Error?U.message:"Failed to execute step";w(F=>({...F,[G]:{output:k,type:"error"}}));break}await new Promise(U=>setTimeout(U,500))}d(null),_(!1),g(!0)}},K=()=>{L(null),g(!1)};if(B)return C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:C.jsxs("div",{className:"flex flex-col items-center gap-4",children:[C.jsx(ri,{className:"h-8 w-8 animate-spin text-blue-600"}),C.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-300",children:"Loading flow..."})]})});if(H)return C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:C.jsxs(pt,{className:"max-w-md mx-auto border-red-200 dark:border-red-800",children:[C.jsx(Bt,{children:C.jsxs(Yt,{className:"text-red-600 dark:text-red-400 flex items-center gap-2",children:[C.jsx(xn,{className:"h-5 w-5"}),"Error"]})}),C.jsxs(gt,{children:[C.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:H}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs(Ce,{onClick:()=>{c(null),z(!0),ys().then(G=>{const O=G.find(U=>U.name===A);O?(S(O),y({...O.variables})):c(`Flow "${A}" not found`)}).catch(G=>c(G.message)).finally(()=>z(!1))},className:"flex-1",children:[C.jsx(gb,{className:"h-4 w-4 mr-2"}),"Try Again"]}),C.jsx(Ss,{to:"/flows",children:C.jsxs(Ce,{variant:"outline",children:[C.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to Flows"]})})]})]})]})});if(!R)return C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:C.jsx(pt,{className:"max-w-md mx-auto",children:C.jsxs(gt,{className:"p-8 text-center",children:[C.jsx(xn,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),C.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Flow Not Found"}),C.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:['The flow "',A,'" could not be found.']}),C.jsx(Ss,{to:"/flows",children:C.jsxs(Ce,{children:[C.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to Flows"]})})]})})});const $=Object.entries(R.variables);return C.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[E&&C.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:C.jsxs("div",{className:"w-full max-w-6xl max-h-[90vh] bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden",children:[C.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(Gt,{className:"h-5 w-5 text-blue-600"}),C.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:["Terminal - Step ",E.stepIndex+1]}),C.jsx(at,{variant:"outline",className:"text-xs",children:R?.steps[E.stepIndex]?.name})]}),C.jsx(Ce,{onClick:K,variant:"outline",size:"sm",className:"p-2",children:C.jsx(En,{className:"h-4 w-4"})})]}),C.jsx("div",{className:"p-4",children:C.jsx(Ob,{command:E.command,stepId:E.stepId,onDone:K,className:"w-full"})})]})}),C.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[C.jsx("div",{className:"mb-8",children:C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx(Ss,{to:"/flows",children:C.jsxs(Ce,{variant:"outline",size:"sm",children:[C.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to Flows"]})}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:C.jsx(Dc,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:R.name}),C.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:[R.steps.length," steps  ",$.length," variables"]})]})]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[p&&C.jsxs(Ce,{onClick:()=>g(!1),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[C.jsx(Gt,{className:"h-4 w-4"}),"Terminal"]}),C.jsx(Ce,{onClick:I,disabled:b||h!==null,className:"bg-blue-600 hover:bg-blue-700 text-white",children:b?C.jsxs(C.Fragment,{children:[C.jsx(ri,{className:"h-4 w-4 mr-2 animate-spin"}),"Running All Steps..."]}):C.jsxs(C.Fragment,{children:[C.jsx(_r,{className:"h-4 w-4 mr-2"}),"Run All Steps"]})})]})]})}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[C.jsx("div",{className:"lg:col-span-1",children:C.jsxs(pt,{className:"shadow-lg border-0 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[C.jsxs(Bt,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 border-b",children:[C.jsxs(Yt,{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[C.jsx(wn,{className:"h-5 w-5"}),"Variables (",$.length,")"]}),C.jsx(Xa,{children:"Configure flow variables"})]}),C.jsx(gt,{className:"p-4",children:$.length>0?C.jsx("div",{className:"space-y-4",children:$.map(([G,O])=>C.jsxs("div",{className:"group",children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:G}),C.jsx("div",{className:"flex items-center gap-1",children:n===G?C.jsxs(C.Fragment,{children:[C.jsx(Ce,{onClick:()=>M(G),size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-green-600 hover:text-green-700",disabled:o===G,children:o===G?C.jsx(ri,{className:"h-3 w-3 animate-spin"}):C.jsx(Uc,{className:"h-3 w-3"})}),C.jsx(Ce,{onClick:()=>{a(null),y(U=>({...U,[G]:O}))},size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-slate-500 hover:text-slate-700",children:C.jsx(En,{className:"h-3 w-3"})})]}):C.jsxs(C.Fragment,{children:[C.jsx(Ce,{onClick:()=>a(G),size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-slate-500 hover:text-slate-700 opacity-0 group-hover:opacity-100 transition-opacity",children:C.jsx(zc,{className:"h-3 w-3"})}),C.jsx(Ce,{onClick:()=>q(G),size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:C.jsx(xs,{className:"h-3 w-3"})})]})})]}),C.jsx(Tb,{value:x[G]||"",onChange:U=>m(G,U.target.value),disabled:n!==G,className:n===G?"border-blue-300 dark:border-blue-600":"",placeholder:"Variable value"})]},G))}):C.jsxs("div",{className:"text-center py-8",children:[C.jsx(wn,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No variables defined for this flow"})]})})]})}),C.jsx("div",{className:"lg:col-span-2",children:C.jsxs(pt,{className:"shadow-lg border-0 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[C.jsxs(Bt,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 border-b",children:[C.jsxs(Yt,{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[C.jsx(_r,{className:"h-5 w-5"}),"Execution Steps (",R.steps.length,")"]}),C.jsx(Xa,{children:"Execute steps individually or run all at once"})]}),C.jsx(gt,{className:"p-0",children:C.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:R.steps.map((G,O)=>{const U=h===O,k=v[O];return C.jsxs("div",{className:"p-6",children:[C.jsxs("div",{className:"flex items-start justify-between mb-4",children:[C.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[C.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 text-sm font-medium text-slate-600 dark:text-slate-300",children:O+1}),C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[C.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:G.name}),C.jsx("div",{className:"flex gap-1",children:G.terminal||G.is_tmux_terminal?C.jsxs(at,{variant:"outline",className:"text-xs",children:[C.jsx(Gt,{className:"h-3 w-3 mr-1"}),G.is_tmux_terminal?"Tmux":"Terminal"]}):C.jsxs(at,{variant:"outline",className:"text-xs",children:[C.jsx(q_,{className:"h-3 w-3 mr-1"}),"Command"]})})]}),C.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-3 mb-3",children:C.jsx("code",{className:"text-sm text-slate-700 dark:text-slate-300 font-mono",children:G.command})}),G.notes&&C.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:G.notes}),G.tmux_session_name&&C.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:["Tmux Session: ",C.jsx("code",{className:"font-mono",children:G.tmux_session_name})]})]})]}),C.jsx("div",{className:"flex items-center gap-2",children:G.terminal||G.is_tmux_terminal?C.jsx(Ce,{onClick:()=>Y(O),disabled:U||b,size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:U?C.jsxs(C.Fragment,{children:[C.jsx(ri,{className:"h-3 w-3 mr-2 animate-spin"}),"Opening..."]}):C.jsxs(C.Fragment,{children:[C.jsx(Gt,{className:"h-3 w-3 mr-2"}),"Open Terminal"]})}):C.jsx(Ce,{onClick:()=>Y(O),disabled:U||b,size:"sm",variant:"outline",children:U?C.jsxs(C.Fragment,{children:[C.jsx(ri,{className:"h-3 w-3 mr-2 animate-spin"}),"Executing..."]}):C.jsxs(C.Fragment,{children:[C.jsx(_r,{className:"h-3 w-3 mr-2"}),"Execute & Show Result"]})})})]}),k&&C.jsx("div",{className:"ml-12",children:C.jsx(pt,{className:"mt-3 border-slate-200 dark:border-slate-700",children:C.jsx(gt,{className:"p-3",children:C.jsxs("div",{className:"flex items-start gap-2",children:[k.type==="success"?C.jsx(Rc,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}):k.type==="error"?C.jsx(eb,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}):C.jsx(ub,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),C.jsxs("div",{className:"flex-1",children:[C.jsx(at,{variant:"outline",className:`text-xs mb-2 ${k.type==="success"?"text-green-600 border-green-200":k.type==="error"?"text-red-600 border-red-200":"text-blue-600 border-blue-200"}`,children:k.type==="success"?"Success":k.type==="error"?"Error":"Info"}),C.jsx("pre",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap font-mono bg-slate-50 dark:bg-slate-800 p-2 rounded",children:k.output})]})]})})})})]},O)})})})]})})]})]})]})};function Nb(){return C.jsx(Tp,{children:C.jsxs(ap,{children:[C.jsx(Va,{path:"/",element:C.jsx(s_,{})}),C.jsx(Va,{path:"/flows",element:C.jsx(s_,{})}),C.jsx(Va,{path:"/flow/:flowName",element:C.jsx(Bb,{})})]})})}f0.createRoot(document.getElementById("root")).render(C.jsx(Nb,{}));
